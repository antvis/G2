"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2643],{4200:function(n,e,t){t.r(e),t.d(e,{default:function(){return i}});t(67294);var a=t(85956),o=t(11698),r=t(85893);function i(){var n=(0,a.useOutlet)();return(0,r.jsx)(o.w.Provider,{value:{meta:{exampleTopics:[{id:"general",title:{zh:"基础图表",en:"General"},icon:"other",examples:[{demos:[{id:"bar-basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kvZLSLxjnkIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { letter: 'A', frequency: 0.08167 },\n  { letter: 'B', frequency: 0.01492 },\n  { letter: 'C', frequency: 0.02782 },\n  { letter: 'D', frequency: 0.04253 },\n  { letter: 'E', frequency: 0.12702 },\n  { letter: 'F', frequency: 0.02288 },\n  { letter: 'G', frequency: 0.02015 },\n  { letter: 'H', frequency: 0.06094 },\n  { letter: 'I', frequency: 0.06966 },\n  { letter: 'J', frequency: 0.00153 },\n  { letter: 'K', frequency: 0.00772 },\n  { letter: 'L', frequency: 0.04025 },\n  { letter: 'M', frequency: 0.02406 },\n  { letter: 'N', frequency: 0.06749 },\n  { letter: 'O', frequency: 0.07507 },\n  { letter: 'P', frequency: 0.01929 },\n  { letter: 'Q', frequency: 0.00095 },\n  { letter: 'R', frequency: 0.05987 },\n  { letter: 'S', frequency: 0.06327 },\n  { letter: 'T', frequency: 0.09056 },\n  { letter: 'U', frequency: 0.02758 },\n  { letter: 'V', frequency: 0.00978 },\n  { letter: 'W', frequency: 0.0236 },\n  { letter: 'X', frequency: 0.0015 },\n  { letter: 'Y', frequency: 0.01974 },\n  { letter: 'Z', frequency: 0.00074 },\n];\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.interval().data(data).encode('x', 'letter').encode('y', 'frequency');\n\nchart.render();\n",title:{zh:"简单柱形图",en:"Simple Column"},filename:"bar-basic.ts",isNew:!1},{id:"bar-basic-transposed",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*sxEATqf3uoEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { year: '1951 年', sales: 38 },\n  { year: '1952 年', sales: 52 },\n  { year: '1956 年', sales: 61 },\n  { year: '1957 年', sales: 145 },\n  { year: '1958 年', sales: 48 },\n  { year: '1959 年', sales: 38 },\n  { year: '1960 年', sales: 38 },\n  { year: '1962 年', sales: 38 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .coordinate({ transform: [{ type: 'transpose' }] })\n  .data(data)\n  .encode('x', 'year')\n  .encode('y', 'sales');\n\nchart.render();\n",title:{zh:"简单条形图",en:"Simple Bar"},filename:"bar-basic-transposed.ts",isNew:!1},{id:"bar-basic-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*69WQTY8YrWgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n  { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n  { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n  { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n  { name: 'London', 月份: 'May', 月均降雨量: 47 },\n  { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n  { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n  { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n  { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n  { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n  { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n  { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n  { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n  { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n  { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n  { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', '月份')\n  .encode('y', '月均降雨量')\n  .encode('color', 'name')\n  .transform({ type: 'stackY' })\n  .interaction('elementHighlight', { background: true });\n\nchart.render();\n",title:{zh:"简单堆叠柱形图",en:"Simple Stacked Column"},filename:"bar-basic-stacked.ts",isNew:!1},{id:"bar-basic-grouped",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kqGUT4wRYrsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n  { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n  { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n  { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n  { name: 'London', 月份: 'May', 月均降雨量: 47 },\n  { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n  { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n  { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n  { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n  { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n  { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n  { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n  { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n  { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n  { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n  { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', '月份')\n  .encode('y', '月均降雨量')\n  .encode('color', 'name')\n  .transform({ type: 'dodgeX' })\n  .interaction('elementHighlight', { background: true });\n\nchart.render();\n",title:{zh:"简单分组柱形图",en:"Simple Grouped Column"},filename:"bar-basic-grouped.ts",isNew:!1},{id:"column-interactive",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*QdN3S6Zi4SUAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' })\n  .state('selected', { fill: '#1783FF', stroke: 'black', strokeWidth: 1 })\n  .state('unselected', { fill: '#ccc' })\n  .interaction('elementSelect'); // 设置高亮交互;\n\nchart.render();\n",title:{zh:"可交互柱形图",en:"Interactive Column Chart"},filename:"column-interactive.ts",isNew:!1},{id:"column-maxwidth",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*gw-YTIpoiZsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([{ letter: 'A', frequency: 120 }])\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .scale('x', { padding: 0.5 })\n  // .style('minWidth', 500)\n  .style('maxWidth', 200);\n\nchart.render();\n",title:{zh:"限制宽度的柱形图",en:"Column with maxWidth"},filename:"column-maxwidth.ts",isNew:!1},{id:"column-min-height",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*W2SKQJ4i8xQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 0 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .style('minHeight', 50);\n\nchart.render();\n",title:{zh:"限制高度的柱形图",en:"Column with minHeight"},filename:"column-min-height.ts",isNew:!1},{id:"interval-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HiAnR50lmhIAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\n\nchart.options({\n  type: 'interval',\n  data: [\n    { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n    { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n    { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n    { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n    { name: 'London', 月份: 'May', 月均降雨量: 47 },\n    { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n    { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n    { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n    { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n    { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n    { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n    { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n    { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n    { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n    { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n    { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n  ],\n  encode: { x: '月份', y: '月均降雨量', color: 'name' },\n  transform: [{ type: 'stackY' }],\n  style: {\n    minHeight: 20,\n    columnWidthRatio: 0.5,\n    radiusTopLeft: 20,\n    radiusTopRight: 20,\n    insetBottom: 5,\n    // 绘图属性\n    fill: (d) => (d.name === 'London' ? '#688FD4' : '#55BECC'), // 绘图属性也可以是一个回调函数\n    fillOpacity: 0.9,\n    stroke: '#fff',\n    lineWidth: 1,\n    lineDash: [4, 5],\n    strokeOpacity: 0.5,\n    opacity: 1,\n    shadowColor: '#BABBBD',\n    shadowBlur: 10,\n    shadowOffsetX: 5,\n    shadowOffsetY: 5,\n    cursor: 'pointer',\n  },\n});\n\nchart.render();\n",title:{zh:"interval样式配置",en:"Interval Style"},filename:"interval-style.ts",isNew:!1},{id:"column-log",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Q6JdQpaVJ18AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst EPSILON = 1e-6;\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .encode('y1', EPSILON) // Log scale cant' map zero, set a value close to zero.\n  .scale('y', { type: 'log' })\n  .axis('y', { labelFormatter: (d) => (d === EPSILON ? 0 : d) });\n\nchart.render();\n",title:{zh:"对数柱形图",en:"Log Column Chart"},filename:"column-log.ts",isNew:!1},{id:"bar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Kk02RLAcibAAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/horizontal-bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n    format: 'csv',\n  })\n  .transform({ type: 'sortX', reverse: true })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' })\n  .label({\n    text: 'frequency',\n    formatter: '.1%',\n    textAlign: (d) => (+d.frequency > 0.008 ? 'right' : 'start'),\n    fill: (d) => (+d.frequency > 0.008 ? '#fff' : '#000'),\n    dx: (d) => (+d.frequency > 0.008 ? -5 : 5),\n  });\n\nchart.render();\n",title:{zh:"水平条形图",en:"Horizontal Bar Chart"},filename:"bar.ts",isNew:!1},{id:"bar-diverging",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*U11MRYv8BFUAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/bar_diverging_stack_population_pyramid.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/87b2ff47-2a33-4509-869c-dae4cdd81163.csv',\n    transform: [\n      {\n        type: 'filter',\n        callback: (d) => d.year === 2000,\n      },\n    ],\n  })\n  .encode('x', 'age')\n  .encode('y', (d) => (d.sex === 1 ? -d.people : d.people))\n  .encode('color', 'sex')\n  .scale('color', { type: 'ordinal' })\n  .scale('x', { range: [1, 0] })\n  .axis('y', { labelFormatter: '~s' })\n  .legend('color', { labelFormatter: (d) => (d === 1 ? 'Male' : 'Female') })\n  .tooltip((d) => ({ value: d.people, name: d.sex === 1 ? 'Male' : 'Female' }));\n\nchart.render();\n",title:{zh:"发散条形图",en:"Diverging Bar Chart"},filename:"bar-diverging.ts",isNew:!1},{id:"bar-range",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*3Qm6RYLLBmUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { month: 'Jan.', profit: 387264, start: 0, end: 387264 },\n    { month: 'Feb.', profit: 772096, start: 387264, end: 1159360 },\n    { month: 'Mar.', profit: 638075, start: 1159360, end: 1797435 },\n    { month: 'Apr.', profit: -211386, start: 1797435, end: 1586049 },\n    { month: 'May', profit: -138135, start: 1586049, end: 1447914 },\n    { month: 'Jun', profit: -267238, start: 1447914, end: 1180676 },\n    { month: 'Jul.', profit: 431406, start: 1180676, end: 1612082 },\n    { month: 'Aug.', profit: 363018, start: 1612082, end: 1975100 },\n    { month: 'Sep.', profit: -224638, start: 1975100, end: 1750462 },\n    { month: 'Oct.', profit: -299867, start: 1750462, end: 1450595 },\n    { month: 'Nov.', profit: 607365, start: 1450595, end: 2057960 },\n    { month: 'Dec.', profit: 1106986, start: 2057960, end: 3164946 },\n    { month: 'Total', start: 0, end: 3164946 },\n  ])\n  .encode('x', 'month')\n  .encode('y', ['end', 'start'])\n  .encode('color', (d) =>\n    d.month === 'Total' ? 'Total' : d.profit > 0 ? 'Increase' : 'Decrease',\n  )\n  .axis('y', { labelFormatter: '~s' })\n  .tooltip(['start', 'end']);\n\nchart.render();\n",title:{zh:"区间条形图",en:"Range Bar Chart"},filename:"bar-range.ts",isNew:!1},{id:"bar-range-micro",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*g7gvQpvLqyIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst floatTimestamp = (s) => +new Date(s) + +`0.${s.slice(s.length - 3)}`;\n\nconst format = (n) => {\n  const x = Math.floor(n);\n  const s = n + '';\n  const d = new Date(x);\n  const Y = d.getFullYear();\n  const M = d.getMonth() + 1;\n  const D = d.getDate();\n  const H = d.getHours();\n  const MN = d.getMinutes();\n  const S = d.getSeconds();\n  const MS = d.getMilliseconds();\n  const MCM = s.slice(s.length - 3);\n  return `${Y}-${M}-${D} ${H}:${MN}:${S}.${MS}${MCM}`;\n};\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    {\n      task: 'task0',\n      startTime: '2023-06-28 03:30:33.900123', // micro seconds\n      endTime: '2023-06-28 03:30:33.900678', // micro seconds\n      status: '0',\n    },\n    {\n      task: 'task0',\n      startTime: '2023-06-28 03:30:33.901123',\n      endTime: '2023-06-28 03:30:33.902678',\n      status: '1',\n    },\n  ])\n  .encode('x', 'task')\n  // Add float part to distinguish y and y1\n  .encode('y', (d) => floatTimestamp(d.startTime))\n  .encode('y1', (d) => floatTimestamp(d.endTime))\n  .encode('color', 'status')\n  .scale('y', {\n    type: 'time',\n    domain: [\n      new Date('2023-06-28 03:30:33.900'),\n      new Date('2023-06-28 03:30:33.903'),\n    ],\n  })\n  .coordinate({ transform: [{ type: 'transpose' }] })\n  .tooltip({ channel: 'y', valueFormatter: format })\n  .tooltip({ channel: 'y1', valueFormatter: format });\n\nchart.render();\n",title:{zh:"微妙级区间条形图",en:"Micro Range Bar Chart"},filename:"bar-range-micro.ts",isNew:!1},{id:"bar-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*RqV4T4LZxaAAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/stacked-bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/f129b517-158d-41a9-83a3-3294d639b39e.csv',\n    format: 'csv',\n  })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'sortX', by: 'y', reverse: true })\n  .encode('x', 'state')\n  .encode('y', 'population')\n  .encode('color', 'age')\n  .axis('x', {\n    labelSpacing: 4,\n    labelTransform: 'rotate(90)',\n  })\n  .axis('y', { labelFormatter: '~s' });\n\nchart.render();\n",title:{zh:"堆叠条形图",en:"Stacked Bar Chart"},filename:"bar-stacked.ts",isNew:!1},{id:"bar-stacked-horizontal",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4Rr_Q4VSLkEAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/stacked-horizontal-bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  height: 1000,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/f129b517-158d-41a9-83a3-3294d639b39e.csv',\n    format: 'csv',\n  })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'sortX', by: 'y', reverse: true })\n  .encode('x', 'state')\n  .encode('y', 'population')\n  .encode('color', 'age')\n  .axis('y', { labelFormatter: '~s' });\n\nchart.render();\n",title:{zh:"堆叠水平条形图",en:"Horizontal Stacked Bar Chart"},filename:"bar-stacked-horizontal.ts",isNew:!1},{id:"bar-normalized-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*mCUsRYGa1owAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n *  A recreation of this demo: https://observablehq.com/@d3/stacked-normalized-horizontal-bar\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  height: 1000,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/f129b517-158d-41a9-83a3-3294d639b39e.csv',\n    format: 'csv',\n  })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'sortX', by: 'y', reverse: true })\n  .transform({ type: 'normalizeY' })\n  .encode('x', 'state')\n  .encode('y', 'population')\n  .encode('color', 'age')\n  .axis('y', { labelFormatter: '.0%' })\n  .tooltip({ channel: 'y0', valueFormatter: '.0%' });\n\nchart.render();\n",title:{zh:"归一化堆叠条形图",en:"Normalized Stacked Chart"},filename:"bar-normalized-stacked.ts",isNew:!1},{id:"bar-dodged",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JUTiSIaaUgEAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/grouped-bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.title({\n  title: 'Population by age and state',\n  subtitle: 'It shows the population of U.S. by age and state.',\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/f129b517-158d-41a9-83a3-3294d639b39e.csv',\n    format: 'csv',\n  })\n  .transform({ type: 'sortX', by: 'y', reverse: true, slice: 6 })\n  .transform({ type: 'dodgeX' })\n  .encode('x', 'state')\n  .encode('y', 'population')\n  .encode('color', 'age')\n  .scale('y', { nice: true })\n  .axis('y', { labelFormatter: '~s' });\n\nchart\n  .interaction('tooltip', { shared: true })\n  .interaction('elementHighlightByColor', { background: true });\n\nchart.render();\n",title:{zh:"分组条形图",en:"Dodged Bar Chart"},filename:"bar-dodged.ts",isNew:!1},{id:"bar-flex",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*i_DyRJlDdVsAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://www.highcharts.com.cn/demo/highcharts/variwide\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 1000,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/90873879-09d7-4842-a493-03fb560267bc.csv',\n  })\n  .transform({ type: 'flexX', field: 'gdp' })\n  .encode('x', 'country')\n  .encode('y', 'value')\n  .encode('color', 'country')\n  .axis('y', { labelFormatter: '~s' })\n  .tooltip(['value', 'gdp']);\n\nchart.render();\n",title:{zh:"弹性条形图",en:"Flex Bar Chart"},filename:"bar-flex.ts",isNew:!1},{id:"bar-var-width",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ajNRTYbsuTgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 1000,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/90873879-09d7-4842-a493-03fb560267bc.csv',\n  })\n  .encode('x', 'country')\n  .encode('y', 'value')\n  .encode('color', 'country')\n  .encode('size', 'gdp')\n  .scale('size', { range: [10, 60] })\n  .legend('size', false)\n  .axis('y', { labelFormatter: '~s' })\n  .tooltip(['value', 'gdp']);\n\nchart.render();\n",title:{zh:"可变宽度条形图",en:"Var Width Bar Chart"},filename:"bar-var-width.ts",isNew:!1},{id:"bar-marimekko",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*A_0eQI6xezsAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/marimekko-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 800,\n  paddingLeft: 0,\n  paddingRight: 0,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/3041da62-1bf4-4849-aac3-01a387544bf4.csv',\n  })\n  .transform({ type: 'flexX', reducer: 'sum' })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'normalizeY' })\n  .encode('x', 'market')\n  .encode('y', 'value')\n  .encode('color', 'segment')\n  .axis('y', false)\n  .scale('x', { paddingOuter: 0, paddingInner: 0.01 })\n  .tooltip('value')\n  .label({\n    text: 'segment',\n    x: 5,\n    y: 5,\n    textAlign: 'start',\n    textBaseline: 'top',\n    fontSize: 10,\n    fill: '#fff',\n  })\n  .label({\n    text: 'value',\n    x: 5,\n    y: 5,\n    textAlign: 'start',\n    dy: 15,\n    fontSize: 10,\n    fill: '#fff',\n  });\n\nchart.render();\n",title:{zh:"马赛克图",en:"Marimekko"},filename:"bar-marimekko.ts",isNew:!1},{id:"bar-dual-axes",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*K52LToQX-f4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst labelFormatter = (d) => Math.abs(d) + (d < 0 ? 'BC' : d > 0 ? 'AC' : '');\nconst left = (d) => d.end > -1500 && d.start > -3000;\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 1000,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/world-history.json',\n  })\n  .transform({ type: 'sortX', by: 'y' })\n  .transform({ type: 'sortColor', by: 'y', reducer: 'min' })\n  .axis('y', [\n    {\n      tickCount: 5,\n      labelFormatter,\n      grid: null,\n      title: null,\n    },\n    {\n      position: 'top',\n      labelFormatter,\n      title: null,\n    },\n  ])\n  .axis('x', false)\n  .encode('x', 'civilization')\n  .encode('y', ['start', 'end'])\n  .encode('color', 'region')\n  .scale('color', { palette: 'set2' })\n  .label({\n    text: 'civilization',\n    position: (d) => (left(d) ? 'left' : 'right'),\n    textAlign: (d) => (left(d) ? 'end' : 'start'),\n    dx: (d) => (left(d) ? -5 : 5),\n    fontSize: 10,\n  })\n  .tooltip([\n    { name: 'start', field: 'start', valueFormatter: labelFormatter },\n    { name: 'end', field: 'end', valueFormatter: labelFormatter },\n  ]);\n\nchart.render();\n",title:{zh:"多轴条形图",en:"Dual Axes Bar Chart"},filename:"bar-dual-axes.ts",isNew:!1},{id:"bar-fixed-cornered",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*opv8TY0CpbAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { name: 'MODIFY', value: 138, washaway: 0.21014492753623193 },\n    { name: 'PRERELEASE', value: 109, washaway: 0.5596330275229358 },\n    { name: 'RELEASING', value: 48, washaway: 0 },\n  ])\n  .encode('x', 'name')\n  .encode('y', 'value')\n  .encode('color', 'name')\n  .encode('size', 80)\n  .style('radiusTopLeft', 10)\n  .style('radiusTopRight', 20)\n  .style('radiusBottomRight', 30)\n  .style('radiusBottomLeft', 40);\n\nchart.render();\n",title:{zh:"固定宽度圆角条形图",en:"Cornered Fixed Width Bar Chart"},filename:"bar-fixed-cornered.ts",isNew:!1},{id:"bar-stacked-diverging-rounded",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DVqDQaFExcAAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://nivo.rocks/storybook/?path=/docs/bar--diverging-stacked\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  paddingLeft: 25,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/nivo-gain-lost.json',\n    transform: [\n      {\n        type: 'fold',\n        fields: [\n          'lost > 100$',\n          'lost <= 100$',\n          'gained <= 100$',\n          'gained > 100$',\n        ],\n      },\n    ],\n  })\n  .transform([{ type: 'stackY' }])\n  .encode('x', 'user')\n  .encode('y', 'value')\n  .encode('color', 'key')\n  .scale('x', { padding: 0.2 })\n  .scale('y', { domainMin: -100, domainMax: 100 })\n  .scale('color', {\n    domain: ['lost > 100$', 'lost <= 100$', 'gained <= 100$', 'gained > 100$'],\n    range: ['#97e3d5', '#61cdbb', '#e25c3b', '#f47560'],\n  })\n  .legend('color', { title: false })\n  .label({\n    text: 'value',\n    position: 'inside',\n    formatter: (v) => (v ? `${v}%` : ''),\n    transform: [{ type: 'overlapDodgeY' }],\n    fill: '#000',\n    fontSize: 10,\n  })\n  .axis('y', {\n    position: 'right',\n    title: false,\n    labelFormatter: (v) => `${v}%`,\n  })\n  .style('radius', 10);\n\nchart\n  .lineY()\n  .data([0])\n  .style('lineWidth', 2)\n  .style('stroke', '#e25c3b')\n  .style('strokeOpacity', 1);\n\nchart.call(titleLeft, '75%', 'lost', '#61cdbb');\nchart.call(titleLeft, '20%', 'gain', '#e25c3b');\n\nfunction titleLeft(node, y, text, fill) {\n  node\n    .text()\n    .style('x', -10)\n    .style('y', y)\n    .style('text', text)\n    .style('fontWeight', 'bold')\n    .style('dy', -10)\n    .style('transform', 'rotate(-90)')\n    .style('fill', fill);\n}\n\nchart.render();\n",title:{zh:"圆角发散堆叠条形图",en:"Rounded Diverging Stacked Bar Chart"},filename:"bar-stacked-diverging-rounded.ts",isNew:!1},{id:"bar-basic-grouped-focus",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*jEH-RbOEVS0AAAAAQEAAAAgAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n  { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n  { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n  { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n  { name: 'London', 月份: 'May', 月均降雨量: 47 },\n  { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n  { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n  { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n  { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n  { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n  { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n  { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n  { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n  { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n  { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n  { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', '月份')\n  .encode('y', '月均降雨量')\n  .encode('color', 'name')\n  .transform({ type: 'dodgeX' })\n  .interaction('elementHighlight', { background: true })\n  .legend('color', {\n    focus: true,\n    focusMarkerSize: 12,\n  });\n\nchart.render();\n",title:{zh:"图例聚焦条形图",en:"Legend Focus Bar Chart"},filename:"bar-basic-grouped-focus.ts",isNew:!1},{id:"bar-axis-breaks",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4XzGRa_Zq0AAAAAAR3AAAAgAemJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst axisData = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];\nconst data1 = [1800, 2500, 3100, 4200, 3890, 5200, 5600];\nconst data2 = [950, 1400, 2200, 1750, 2800, 3300, 2900];\nconst data3 = [101200, 104800, 102600, 103500, 104200, 102900, 103800];\nconst data4 = [4120500, 4107800, 4112300, 4109500, 4115000, 4111200, 4108800];\n\nconst data = axisData.flatMap((name, i) => [\n  { name, value: data1[i], type: 'Sports' },\n  { name, value: data2[i], type: 'Strategy' },\n  { name, value: data3[i], type: 'Shooter' },\n  { name, value: data4[i], type: 'Other' },\n]);\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', 'name')\n  .encode('y', 'value')\n  .transform({ type: 'dodgeX' })\n  .encode('color', 'type')\n  .interaction('tooltip', { shared: true })\n  .scale('y', { nice: true })\n  .axis('x', { title: false })\n  .axis('y', {\n    title: false,\n    labelAutoHide: false,\n    transform: [],\n    breaks: [\n      {\n        start: 6000,\n        end: 100000,\n        gap: '3%',\n      },\n      {\n        start: 105000,\n        end: 4100000,\n        gap: '3%',\n        vertices: 60,\n        verticeOffset: 4,\n        compress: 'end',\n      },\n    ],\n  });\n\nchart.render();\n",title:{zh:"坐标轴断轴条形图",en:"Bar Chart with Axis Breaks"},filename:"bar-axis-breaks.ts",isNew:!1}],icon:"",id:"interval",title:{en:"Interval",zh:"条形图"},api:null,childrenKey:"demos",order:1},{demos:[{id:"base",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*o51NTbsP6EgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { year: '1991', value: 3 },\n  { year: '1992', value: 4 },\n  { year: '1993', value: 3.5 },\n  { year: '1994', value: 5 },\n  { year: '1995', value: 4.9 },\n  { year: '1996', value: 6 },\n  { year: '1997', value: 7 },\n  { year: '1998', value: 9 },\n  { year: '1999', value: 13 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data(data)\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .scale('x', {\n    range: [0, 1],\n  })\n  .scale('y', {\n    domainMin: 0,\n    nice: true,\n  });\n\nchart.line().label({\n  text: 'value',\n  style: {\n    dx: -10,\n    dy: -12,\n  },\n});\n\nchart.point().style('fill', 'white').tooltip(false);\n\nchart.render();\n",title:{zh:"基础折线图",en:"Line Chart"},filename:"base.ts",isNew:!1},{id:"curved",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hmVcTYfxR4gAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { month: 'Jan', city: 'Tokyo', temperature: 7 },\n  { month: 'Jan', city: 'London', temperature: 3.9 },\n  { month: 'Feb', city: 'Tokyo', temperature: 6.9 },\n  { month: 'Feb', city: 'London', temperature: 4.2 },\n  { month: 'Mar', city: 'Tokyo', temperature: 9.5 },\n  { month: 'Mar', city: 'London', temperature: 5.7 },\n  { month: 'Apr', city: 'Tokyo', temperature: 14.5 },\n  { month: 'Apr', city: 'London', temperature: 8.5 },\n  { month: 'May', city: 'Tokyo', temperature: 18.4 },\n  { month: 'May', city: 'London', temperature: 11.9 },\n  { month: 'Jun', city: 'Tokyo', temperature: 21.5 },\n  { month: 'Jun', city: 'London', temperature: 15.2 },\n  { month: 'Jul', city: 'Tokyo', temperature: 25.2 },\n  { month: 'Jul', city: 'London', temperature: 17 },\n  { month: 'Aug', city: 'Tokyo', temperature: 26.5 },\n  { month: 'Aug', city: 'London', temperature: 16.6 },\n  { month: 'Sep', city: 'Tokyo', temperature: 23.3 },\n  { month: 'Sep', city: 'London', temperature: 14.2 },\n  { month: 'Oct', city: 'Tokyo', temperature: 18.3 },\n  { month: 'Oct', city: 'London', temperature: 10.3 },\n  { month: 'Nov', city: 'Tokyo', temperature: 13.9 },\n  { month: 'Nov', city: 'London', temperature: 6.6 },\n  { month: 'Dec', city: 'Tokyo', temperature: 9.6 },\n  { month: 'Dec', city: 'London', temperature: 4.8 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data(data)\n  .encode('x', 'month')\n  .encode('y', 'temperature')\n  .encode('color', 'city')\n  .scale('x', {\n    range: [0, 1],\n  })\n  .scale('y', {\n    nice: true,\n  })\n  .axis('y', { labelFormatter: (d) => d + '°C' });\n\nchart.line().encode('shape', 'smooth');\n\nchart.point().encode('shape', 'point').tooltip(false);\n\nchart.render();\n",title:{zh:"曲线折线图",en:"Curved Line Chart"},filename:"curved.ts",isNew:!1},{id:"step",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xvGZQY7sKhIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { month: 'Jan', value: 51 },\n  { month: 'Feb', value: 91 },\n  { month: 'Mar', value: 34 },\n  { month: 'Apr', value: 47 },\n  { month: 'May', value: 63 },\n  { month: 'June', value: 58 },\n  { month: 'July', value: 56 },\n  { month: 'Aug', value: 77 },\n  { month: 'Sep', value: 99 },\n  { month: 'Oct', value: 106 },\n  { month: 'Nov', value: 88 },\n  { month: 'Dec', value: 56 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data(data)\n  .encode('x', 'month')\n  .encode('y', 'value')\n  .encode('shape', 'hv')\n  .scale('x', {\n    range: [0, 1],\n  })\n  .scale('y', {\n    nice: true,\n  });\n\nchart.render();\n",title:{zh:"阶梯折线图",en:"Step Line Chart"},filename:"step.ts",isNew:!1},{id:"line-zero-values",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FXVWSISFZhcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .line()\n  .data([\n    { date: '06-10', count: 0, type: '测试' },\n    { date: '06-11', count: 0, type: '测试' },\n    { date: '06-12', count: 0, type: '测试' },\n    { date: '06-13', count: 0, type: '测试' },\n    { date: '06-14', count: 0, type: '测试' },\n    { date: '06-15', count: 0, type: '测试' },\n    { date: '06-16', count: 0, type: '测试' },\n  ])\n  .encode('x', 'date')\n  .encode('y', 'count')\n  .scale('y', {\n    domain: [0, 1],\n  });\n\nchart.render();\n",title:{zh:"零值折线图",en:"Line with Zero Values"},filename:"line-zero-values.ts",isNew:!1},{id:"line-basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*37vSSJwbSnwAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/line-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close');\n\nchart.render();\n",title:{zh:"普通折线图",en:"Basic Line Chart"},filename:"line-basic.ts",isNew:!1},{id:"line-sample",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*68ViRIex2JEAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/line-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close')\n  .transform({\n    type: 'sample',\n    thresholds: 200,\n    strategy: 'max',\n  });\n\nchart.render();\n",title:{zh:"数据样本折线图",en:"Sample Data Line Chart"},filename:"line-sample.ts",isNew:!1},{id:"line-connect-nulls",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ASKfTqMVdkgAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/line-with-missing-data\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n    transform: [\n      // Mock missing data.\n      {\n        type: 'map',\n        callback: (d) => ({\n          ...d,\n          close: d.date.getUTCMonth() < 3 ? NaN : d.close,\n        }),\n      },\n    ],\n  })\n  .encode('x', 'date')\n  .encode('y', 'close')\n  .style('connect', true)\n  .style('connectStroke', '#aaa');\n\nchart.render();\n",title:{zh:"缺失折线图",en:"Missing Data Line Chart"},filename:"line-connect-nulls.ts",isNew:!1},{id:"line-series",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*YBR5RIcf97UAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/multi-line-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/728a4bdc-9d0b-49e0-a92f-6320a6cddeed.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'unemployment')\n  .encode('series', 'division');\n\nchart.interaction('tooltip', { filter: (d, i) => i < 10 });\n\nchart.render();\n",title:{zh:"系列折线图",en:"Series Line Chart"},filename:"line-series.ts",isNew:!1},{id:"line-normalized",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WV2nRotltk4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  insetRight: 10,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/indices.json',\n  })\n  .transform({ type: 'normalizeY', basis: 'first', groupBy: 'color' })\n  .encode('x', (d) => new Date(d.Date))\n  .encode('y', 'Close')\n  .encode('color', 'Symbol')\n  .scale('y', { type: 'log' })\n  .axis('y', { title: '↑ Change in price (%)' })\n  .label({\n    text: 'Symbol',\n    selector: 'last',\n    fontSize: 10,\n  })\n  .tooltip({ channel: 'y', valueFormatter: '.1f' });\n\nchart.render();\n",title:{zh:"归一化折线图",en:"Normalized Line Chart"},filename:"line-normalized.ts",isNew:!1},{id:"line-aggregated-label",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Ti6mSZ8nHjYAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/line_overlay.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/cb99c4ab-e0a3-4c76-9586-fe7fa2ff1a8c.csv',\n  })\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getFullYear())\n  .encode('y', 'price')\n  .encode('color', 'symbol')\n  .label({\n    text: 'price',\n    transform: [{ type: 'overlapDodgeY' }],\n    fontSize: 10,\n  })\n  .tooltip({ channel: 'y', valueFormatter: '.1f' });\n\nchart.render();\n",title:{zh:"聚合折线图",en:"Aggregated Line Chart"},filename:"line-aggregated-label.ts",isNew:!1},{id:"line-var-size",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rjwSS4BTu3MAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/trail_color.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/cb99c4ab-e0a3-4c76-9586-fe7fa2ff1a8c.csv',\n  })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'price')\n  .encode('color', 'symbol')\n  .encode('size', 'price')\n  .legend('size', false)\n  .style('shape', 'trail');\n\nchart.render();\n",title:{zh:"变宽折线图",en:"Var Size Line Chart"},filename:"line-var-size.ts",isNew:!1},{id:"line-var-size-missing",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*X9vfS6o9FqMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n    transform: [\n      { type: 'slice', end: 100 },\n      {\n        type: 'map',\n        callback: (d) => ({\n          ...d,\n          close1: d.date.getDate() <= 5 ? NaN : d.close,\n        }),\n      },\n    ],\n  })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'close1')\n  .encode('size', 'close')\n  .style('shape', 'trail');\n\nchart.render();\n",title:{zh:"缺失变宽折线图",en:"Missing Var Size Line Chart"},filename:"line-var-size-missing.ts",isNew:!1},{id:"line-var-size-facet",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lzESSbCPw2IAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/trail_comet.html\n */\nimport { Chart } from '@antv/g2';\nimport { rollup } from 'd3-array';\n\nfetch('https://assets.antv.antgroup.com/g2/barley.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const key = (d) => `${d.site},${d.variety}`;\n    const keyDelta = rollup(\n      data,\n      ([a, b]) => {\n        if (b.year < a.year) [a, b] = [b, a];\n        return b.yield - a.yield;\n      },\n      key,\n    );\n\n    const chart = new Chart({\n      container: 'container',\n      paddingLeft: 150,\n      paddingBottom: 30,\n    });\n\n    const facet = chart.facetRect().data(data).encode('x', 'site');\n\n    facet\n      .line()\n      .encode('x', (d) => `${d.year}`)\n      .encode('y', 'variety')\n      .encode('series', 'variety')\n      .encode('color', (d) => keyDelta.get(key(d)))\n      .encode('size', 'yield')\n      .tooltip({ title: '', items: [{ field: 'year' }, { field: 'yield' }] })\n      .scale('size', { range: [0, 12] })\n      .scale('color', { palette: 'rdBu' })\n      .style('shape', 'trail')\n      .legend('color', { title: 'yield delta' })\n      .attr('frame', false)\n      .interaction('tooltip', { series: false });\n\n    chart.render();\n  });\n",title:{zh:"轨迹图",en:"Trail"},filename:"line-var-size-facet.ts",isNew:!1},{id:"line-variable-color",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DKdDRrsfZywAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/variable-color-line\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/temperatures1.json',\n  })\n  .scale('y', { nice: true })\n  .scale('color', {\n    domain: ['CLR', 'FEW', 'SCT', 'BKN', 'OVC', 'VV '],\n    range: [\n      'deepskyblue',\n      'lightskyblue',\n      'lightblue',\n      '#aaaaaa',\n      '#666666',\n      '#666666',\n    ],\n  })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'value')\n  .encode('shape', 'hvh')\n  .encode('color', 'condition')\n  .encode('series', () => 'a')\n  .style('gradient', 'x')\n  .style('lineWidth', 2)\n  .axis('x', { title: 'date' });\n\nchart.render();\n",title:{zh:"多色折线图",en:"Variable Color Line Chart"},filename:"line-variable-color.ts",isNew:!1},{id:"line-gradient-encoding",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*t-GpRLtoipsAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/gradient-encoding\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/temperatures2.json',\n  })\n  .scale('x', { utc: true })\n  .scale('y', { nice: true })\n  .scale('color', { palette: 'turbo' })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'value')\n  .encode('shape', 'hvh')\n  .encode('color', 'value')\n  .encode('series', () => undefined)\n  .style('gradient', 'y')\n  .style('lineWidth', 2)\n  .style('lineJoin', 'round')\n  .axis('x', { title: 'date' });\n\nchart.render();\n",title:{zh:"颜色编码折线图",en:"Gradient Encoding Line Chart"},filename:"line-gradient-encoding.ts",isNew:!1},{id:"line-series-var-color",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*B8sNSrK7-lsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/cb99c4ab-e0a3-4c76-9586-fe7fa2ff1a8c.csv',\n  })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'price')\n  .encode('series', 'symbol')\n  .encode('color', 'price')\n  .style('gradient', 'y')\n  .style('shape', 'smooth')\n  .style('lineWidth', 10);\n\nchart.render();\n",title:{zh:"系列颜色编码折线图",en:"Series Variable Color Line Chart"},filename:"line-series-var-color.ts",isNew:!1},{id:"line-threshold",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rHYnQ5-S6twAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/threshold-encoding\n */\nimport { Chart } from '@antv/g2';\nimport { median } from 'd3-array';\n\nfetch('https://assets.antv.antgroup.com/g2/temperatures2.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const medianValue = median(data, (d) => d.value);\n\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n    });\n\n    chart\n      .line()\n      .data(data)\n      .scale('y', { nice: true })\n      .scale('x', { utc: true })\n      .scale('color', {\n        type: 'threshold',\n        domain: [medianValue],\n        range: ['black', 'red'],\n      })\n      .encode('x', (d) => new Date(d.date))\n      .encode('y', 'value')\n      .encode('shape', 'hvh')\n      .encode('color', 'value')\n      .encode('series', () => undefined)\n      .style('gradient', 'y')\n      .style('lineWidth', 1.5)\n      .style('lineJoin', 'round')\n      .axis('x', { title: 'date' });\n\n    chart.render();\n  });\n",title:{zh:"阈值折线图",en:"Threshold Line Chart"},filename:"line-threshold.ts",isNew:!1},{id:"line-area-clip-path",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GK8rQY5srTgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  {\n    timestamp: 1705518060000,\n    value: 60.143229166667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: true,\n  },\n  {\n    timestamp: 1705518120000,\n    value: 38.229166666667005,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705518180000,\n    value: 51.71875,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705518240000,\n    value: 45.37109375,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705518420000,\n    value: 45.397135416667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705518540000,\n    value: 0,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: true,\n  },\n  {\n    timestamp: 1705518720000,\n    value: 54.446614583332995,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705518900000,\n    value: 57.180989583332995,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705518960000,\n    value: 51.647135416667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519020000,\n    value: 49.0234375,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519140000,\n    value: 47.447916666667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519200000,\n    value: 49.3359375,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519260000,\n    value: 43.483072916667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519440000,\n    value: 50.66406249999999,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519500000,\n    value: 44.329427083333,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519620000,\n    value: 52.46093750000001,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519680000,\n    value: 44.66796875,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519800000,\n    value: 43.359375,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705519920000,\n    value: 0,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: true,\n  },\n  {\n    timestamp: 1705520040000,\n    value: 47.102864583333,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520100000,\n    value: 48.1640625,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520220000,\n    value: 55.201822916667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520340000,\n    value: 49.856770833332995,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520460000,\n    value: 44.309895833333,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520580000,\n    value: 44.127604166667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520700000,\n    value: 58.782552083332995,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520820000,\n    value: 46.03515625,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705520940000,\n    value: 69.498697916667,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: true,\n  },\n  {\n    timestamp: 1705521000000,\n    value: 38.14453125,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521060000,\n    value: 58.177083333333,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521360000,\n    value: 56.516927083333,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521480000,\n    value: 54.036458333333,\n    lowerValue: 27.1,\n    upperValue: 59.6,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521600000,\n    value: 50.397135416667005,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521720000,\n    value: 45.091145833333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521780000,\n    value: 49.1796875,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521840000,\n    value: 44.31640625,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705521900000,\n    value: 49.576822916667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705522080000,\n    value: 45.865885416667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705522260000,\n    value: 44.986979166667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705522320000,\n    value: 47.3828125,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705522440000,\n    value: 45.05859375,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705522560000,\n    value: 0,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: true,\n  },\n  {\n    timestamp: 1705522800000,\n    value: 42.415364583333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705522860000,\n    value: 48.776041666667005,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705522920000,\n    value: 50.084635416667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523040000,\n    value: 45.76171875,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523160000,\n    value: 49.713541666667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523220000,\n    value: 52.44140625,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523280000,\n    value: 38.743489583333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523340000,\n    value: 50.904947916667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523400000,\n    value: 39.505208333332995,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523520000,\n    value: 45.514322916667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705523880000,\n    value: 49.700520833333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524000000,\n    value: 46.62109375,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524120000,\n    value: 45.4296875,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524180000,\n    value: 49.00390625,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524240000,\n    value: 43.287760416667,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524300000,\n    value: 43.860677083333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524360000,\n    value: 55.95703125,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524420000,\n    value: 40.930989583333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524600000,\n    value: 43.958333333333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524660000,\n    value: 47.421875,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524780000,\n    value: 44.544270833333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705524960000,\n    value: 42.122395833333,\n    lowerValue: 25.67,\n    upperValue: 61.81,\n    isOut: false,\n  },\n  {\n    timestamp: 1705525140000,\n    value: 66.97265625,\n    lowerValue: 25.82,\n    upperValue: 62,\n    isOut: true,\n  },\n  {\n    timestamp: 1705525200000,\n    value: 46.744791666667,\n    lowerValue: 25.82,\n    upperValue: 62,\n    isOut: false,\n  },\n  {\n    timestamp: 1705525380000,\n    value: 47.786458333333,\n    lowerValue: 25.82,\n    upperValue: 62,\n    isOut: false,\n  },\n  {\n    timestamp: 1705525440000,\n    value: 45.540364583333,\n    lowerValue: 25.82,\n    upperValue: 62,\n    isOut: false,\n  },\n  {\n    timestamp: 1705525500000,\n    value: 42.8515625,\n    lowerValue: 25.82,\n    upperValue: 62,\n    isOut: false,\n  },\n  {\n    timestamp: 1705525620000,\n    value: 60.56640625000001,\n    lowerValue: 25.82,\n    upperValue: 62,\n    isOut: false,\n  },\n];\n\nfunction clip(chart) {\n  const { canvas } = chart.getContext();\n  const document = canvas.document;\n  const [cloned] = document.getElementsByClassName('cloned-line');\n  if (cloned) cloned.remove();\n  const elements = document.getElementsByClassName('element');\n  const line = elements.find((d) => d.markType === 'line');\n  const area = elements.find((d) => d.markType === 'area');\n  const clonedLine = line.cloneNode(true);\n  clonedLine.__data__ = line.__data__;\n  clonedLine.style.stroke = 'orange';\n  clonedLine.style.clipPath = null;\n  clonedLine.className = 'cloned-line';\n  line.parentNode.insertBefore(clonedLine, line);\n  line.style.clipPath = area;\n}\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.options({\n  type: 'view',\n  data,\n  encode: { x: 'timestamp' },\n  axis: { y: { title: 'value' } },\n  children: [\n    {\n      type: 'area',\n      encode: { y: ['lowerValue', 'upperValue'] },\n      style: {\n        shape: 'smooth',\n        fillOpacity: 0.3,\n        fill: '#85c5A6',\n      },\n      animate: false,\n    },\n    {\n      type: 'line',\n      encode: { y: 'value' },\n      scale: { x: { type: 'time', mask: 'HH:mm' } },\n      style: { shape: 'hvh' },\n      animate: false,\n    },\n  ],\n});\n\nchart.on('afterrender', () => clip(chart));\n\nchart.render();\n",title:{zh:"面积标注折线图",en:"Line with Area Annotation"},filename:"line-area-clip-path.ts",isNew:!1},{id:"line-slope",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*RF2PTL6KNIQAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/slope-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/f0bbdcaa-9dbf-4d44-95c1-ac2e26765023.csv',\n  })\n  .encode('x', 'year')\n  .encode('y', 'receipts')\n  .encode('series', 'country')\n  .encode('color', '#000')\n  .scale('x', { type: 'point', padding: 0.25 })\n  .label({\n    text: (d) => `${d.country} ${d.receipts}`,\n    selector: 'first',\n    transform: [{ type: 'overlapDodgeY' }],\n    fontSize: 10,\n    dx: -3,\n    textAlign: 'end',\n  })\n  .label({\n    text: (d) => `${d.receipts} ${d.country}`,\n    selector: 'last',\n    transform: [{ type: 'overlapDodgeY' }],\n    fontSize: 10,\n    dx: 3,\n  });\n\nchart.render();\n",title:{zh:"斜率图",en:"Slope Chart"},filename:"line-slope.ts",isNew:!1},{id:"line-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*YngNTKH3-0sAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\n\nchart.options({\n  type: 'line',\n  data: {\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/doughnut-purchases.json',\n    transform: [\n      // Mock missing data.\n      {\n        type: 'map',\n        callback: (d) => ({\n          ...d,\n          count: ['2004'].includes(d.year) ? NaN : d.count,\n        }),\n      },\n    ],\n  },\n  style: {\n    gradient: 'x',\n    gradientColor: 'start',\n    lineJoin: 'round',\n    connect: true,\n    connectStroke: '#aaa',\n    connectLineWidth: 1,\n    connectLineDash: [2, 4],\n    lineWidth: 3,\n    opacity: 0.9,\n    shadowColor: '#d3d3d3',\n    shadowBlur: 10,\n    shadowOffsetX: 10,\n    shadowOffsetY: 10,\n  },\n  encode: { x: 'year', y: 'count', color: 'year', shape: 'smooth' },\n  scale: { y: { zero: true, nice: true } },\n  axis: { y: { labelFormatter: '~s' } },\n  labels: [\n    {\n      text: 'count',\n    },\n  ],\n});\n\nchart.render();\n",title:{zh:"折线标记样式",en:"Line Mark Style"},filename:"line-style.ts",isNew:!1}],icon:"",id:"line",title:{en:"Line",zh:"折线图"},api:null,childrenKey:"demos",order:2},{demos:[{id:"point-basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-NYwTrAdwZ4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/basement_prod/6b4aa721-b039-49b9-99d8-540b3f87d339.json',\n  })\n  .encode('x', 'height')\n  .encode('y', 'weight')\n  .encode('color', 'gender');\n\nchart.render();\n",title:{zh:"散点图",en:"Scatterplot"},filename:"point-basic.ts",isNew:!1},{id:"point-one-dimension",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GeijRY75QHgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 120,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/basement_prod/6b4aa721-b039-49b9-99d8-540b3f87d339.json',\n  })\n  .encode('x', 'height');\n\nchart.render();\n",title:{zh:"一维散点图",en:"One Dimension Scatterplot"},filename:"point-one-dimension.ts",isNew:!1},{id:"point-strip",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0E-aSpAPPtwAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/tick_strip.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 300,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .transform({ type: 'sortX', channel: 'x' })\n  .encode('y', 'Horsepower')\n  .encode('x', 'Cylinders')\n  .encode('shape', 'line')\n  .encode('size', 20)\n  //.encode('color', 'Cylinders')\n  .scale('x', { type: 'point' })\n  .scale('y', { zero: true })\n  .scale('color', { type: 'ordinal' });\n\nchart.render();\n",title:{zh:"带子散点图",en:"Strip Plot"},filename:"point-strip.ts",isNew:!1},{id:"point-label",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*j_DBRKze77QAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/scatterplot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      ' https://gw.alipayobjects.com/os/bmw-prod/474e51c8-b47b-4bb6-b3ed-87813a960df2.csv',\n  })\n  .scale('x', { nice: true, domainMax: 38 })\n  .scale('y', { nice: true })\n  .encode('x', 'mpg')\n  .encode('y', 'hp')\n  .label({\n    text: 'name',\n    stroke: '#fff',\n    textAlign: 'start',\n    textBaseline: 'middle',\n    dx: 10,\n    position: 'left',\n    fontSize: 10,\n    lineWidth: 2,\n  });\n\nchart.render();\n",title:{zh:"标签散点图",en:"Scatterplot, Labeled"},filename:"point-label.ts",isNew:!1},{id:"point-shape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SdKuRYFVCOIAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/scatterplot-with-shapes\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/bd73a175-4417-4749-8b88-bc04d955e899.csv',\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('shape', 'category')\n  .encode('color', 'category')\n  .encode('size', 5)\n  .scale('shape', { range: ['point', 'plus', 'diamond'] });\n\nchart.render();\n",title:{zh:"多形状散点图",en:"Multi-Shape Scatterplot"},filename:"point-shape.ts",isNew:!1},{id:"point-sequential",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*20fLR5dh4SYAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@mbostock/global-temperature-trends\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/56b6b137-e04e-4757-8af5-d75bafaef886.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'value')\n  .encode('color', 'value')\n  .encode('shape', 'point')\n  .scale('color', {\n    palette: 'rdBu',\n    offset: (t) => 1 - t,\n  })\n  .style('stroke', '#000')\n  .style('strokeOpacity', 0.2)\n  .tooltip([\n    { channel: 'x', name: 'year', valueFormatter: (d) => d.getFullYear() },\n    { channel: 'y' },\n  ]);\n\nchart.lineY().data([0]).style('stroke', '#000').style('strokeOpacity', 0.2);\n\nchart.render();\n",title:{zh:"渐变色散点图",en:"Gradient Scatterplot"},filename:"point-sequential.ts",isNew:!1},{id:"point-jitter",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*34m0QZPUjxMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/point_offset_random.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .transform({ type: 'sortX', channel: 'x' })\n  .transform({ type: 'jitterX' })\n  .encode('y', 'Horsepower')\n  .encode('x', 'Cylinders')\n  .encode('shape', 'hollow')\n  .encode('color', 'Cylinders')\n  .scale('x', { type: 'point' })\n  .scale('color', { type: 'ordinal' });\n\nchart.render();\n",title:{zh:"扰动散点图",en:"Jitter Scatterplot"},filename:"point-jitter.ts",isNew:!1},{id:"point-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*extpT4E09xUAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@mbostock/global-temperature-trends\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 360,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/88c601cd-c1ff-4c9b-90d5-740d0b710b7e.json',\n  })\n  .transform({ type: 'stackY', y1: 'y' })\n  .encode('x', (d) => 2021 - d.birth)\n  .encode('y', (d) => (d.gender === 'M' ? 1 : -1))\n  .encode('color', 'gender')\n  .encode('shape', 'point')\n  .scale('x', { nice: true })\n  .axis('y', {\n    title: '← Women · Men →',\n    labelFormatter: (d) => `${Math.abs(+d)}`,\n  })\n  .axis('x', { title: 'Age →' })\n  .legend('color', { title: 'Gender' })\n  .tooltip({ channel: 'x', name: 'age' });\n\nchart.lineY().data([0]).style('stroke', 'black');\n\nchart.render();\n",title:{zh:"堆叠散点图",en:"Stacked Scatterplot"},filename:"point-stacked.ts",isNew:!1},{id:"point-bubble",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*z8JFRLxrs_IAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/circle_natural_disasters.html\n */\n\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2b48887c-56fb-437e-a91c-6f48e80e5a91.csv',\n    transform: [\n      {\n        type: 'filter',\n        callback: (d) => d.Entity !== 'All natural disasters',\n      },\n    ],\n  })\n  .encode('x', 'Year')\n  .encode('y', 'Entity')\n  .encode('size', 'Deaths')\n  .encode('color', 'Entity')\n  .encode('shape', 'point')\n  .scale('size', { rangeMax: 35 })\n  .legend(false)\n  .style({\n    stroke: 'black',\n    strokeOpacity: 0.1,\n    opacity: 0.8,\n    lineWidth: 1,\n  });\n\nchart.render();\n",title:{zh:"气泡图",en:"Bubble Chart"},filename:"point-bubble.ts",isNew:!1},{id:"point-log",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*mezjR7Iy-TYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/bubble.json',\n  })\n  .encode('x', 'GDP')\n  .encode('y', 'LifeExpectancy')\n  .encode('size', 'Population')\n  .encode('color', 'continent')\n  .encode('shape', 'point')\n  .scale('size', { type: 'log', range: [4, 20] })\n  .style('fillOpacity', 0.3)\n  .style('lineWidth', 1)\n  .legend('size', false);\n\nchart.render();\n",title:{zh:"对数气泡图",en:"Log Scatterplot"},filename:"point-log.ts",isNew:!1},{id:"point-aggregated",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*trHIR7xKaAcAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/circle_github_punchcard.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 360,\n  inset: 10,\n});\n\nchart.style('mainStroke', 'black');\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/commits.json',\n  })\n  .transform({ type: 'group', size: 'sum' })\n  .transform({ type: 'sortY' })\n  .axis('x', { title: 'time (hours)', tickCount: 24 })\n  .axis('y', { title: 'time (day)', grid: true })\n  .scale('y', { type: 'point' })\n  .encode('x', (d) => new Date(d.time).getUTCHours())\n  .encode('y', (d) => new Date(d.time).getUTCDay())\n  .encode('size', 'count')\n  .encode('color', 'count')\n  .encode('shape', 'point');\n\nchart.render();\n",title:{zh:"聚合气泡图",en:"Aggregated Bubble Chart"},filename:"point-aggregated.ts",isNew:!1},{id:"point-dot",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rhhlRLxuUYYAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/dot-plot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  height: 1200,\n});\n\nconst xy = (node) => node.encode('x', 'state').encode('y', 'population');\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart.data({\n  type: 'fetch',\n  value:\n    'https://gw.alipayobjects.com/os/bmw-prod/b6f2ff26-b232-447d-a613-0df5e30104a0.csv',\n});\n\nchart\n  .link()\n  .scale('y', { labelFormatter: '.0%' })\n  .transform({ type: 'groupX', y: 'min', y1: 'max' })\n  .call(xy)\n  .style('stroke', '#000')\n  .tooltip(false);\n\nchart\n  .point()\n  .scale('color', { palette: 'spectral' })\n  .call(xy)\n  .encode('shape', 'point')\n  .encode('color', 'age')\n  .tooltip({\n    title: 'state',\n    items: ['population'],\n  });\n\nchart.interaction('tooltip', { shared: true });\n\nchart.render();\n",title:{zh:"点图",en:"Dot Plot"},filename:"point-dot.ts",isNew:!1},{id:"point-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*QWC3RqPzWdEAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart.options({\n  type: 'point',\n  style: {\n    fill: 'skyblue', // 图形填充颜色，支持颜色字符串，优先级高于color通道\n    fillOpacity: 0.9, // 填充颜色透明度，范围 0-1\n    stroke: '#FADC7C', // 图形描边颜色\n    lineWidth: 3, // 描边宽度（像素）\n    lineDash: [1, 2], // 虚线配置[实线长度, 间隔长度]，[0,0]表示无描边\n    strokeOpacity: 0.95, // 描边透明度，范围 0-1\n    opacity: 0.9, // 整体透明度，影响填充和描边\n    shadowColor: 'black', // 阴影颜色\n    shadowBlur: 10, // 阴影模糊程度（像素）\n    shadowOffsetX: 5, // 阴影水平偏移量（像素）\n    shadowOffsetY: 5, // 阴影垂直偏移量（像素）\n    cursor: 'pointer', // 鼠标悬停样式（同CSS cursor属性）\n  },\n  height: 350,\n  data: [{ x: 0.5, y: 0.5 }],\n  encode: {\n    x: 'x',\n    y: 'y',\n    size: 10,\n    shape: 'point',\n  },\n  scale: {\n    x: { domain: [0, 1], nice: true },\n    y: { domain: [0, 1], nice: true },\n  },\n});\n\nchart.render();\n",title:{zh:"point 样式",en:"Point Style"},filename:"point-style.ts",isNew:!1}],icon:"",id:"point",title:{en:"Point",zh:"散点图"},api:null,childrenKey:"demos",order:3},{demos:[{id:"area-basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*v1VOS7lUmckAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { year: '1991', value: 15468 },\n  { year: '1992', value: 16100 },\n  { year: '1993', value: 15900 },\n  { year: '1994', value: 17409 },\n  { year: '1995', value: 17000 },\n  { year: '1996', value: 31056 },\n  { year: '1997', value: 31982 },\n  { year: '1998', value: 32040 },\n  { year: '1999', value: 33233 },\n];\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart\n  .area()\n  .encode('x', (d) => d.year)\n  .encode('y', 'value')\n  .encode('shape', 'area') // 'area', 'smooth', 'hvh', 'vh', 'hv'\n  .style('opacity', 0.2)\n  .axis('y', { labelFormatter: '~s', title: false });\n\nchart.line().encode('x', 'year').encode('y', 'value').encode('shape', 'line'); // 'line', 'smooth', 'vh', 'hv', 'hvh'\n\nchart.render();\n",title:{zh:"简单面积图",en:"Basic Area Chart"},filename:"area-basic.ts",isNew:!1},{id:"step-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*v20yQZopRV4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { year: '1991', value: 15468 },\n  { year: '1992', value: 16100 },\n  { year: '1993', value: 15900 },\n  { year: '1994', value: 17409 },\n  { year: '1995', value: 17000 },\n  { year: '1996', value: 31056 },\n  { year: '1997', value: 31982 },\n  { year: '1998', value: 32040 },\n  { year: '1999', value: 33233 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart\n  .area()\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('shape', 'hvh') // 'area', 'smooth', 'hvh', 'vh', 'hv'\n  .label({\n    text: 'value',\n    fontSize: 10,\n    textAlign: (_, idx, arr) => {\n      if (idx === 0) return 'left';\n      if (idx === arr.length - 1) return 'right';\n      return 'center';\n    },\n  })\n  .style('opacity', 0.4)\n  .axis('y', { labelFormatter: '~s' });\n\nchart.line().encode('x', 'year').encode('y', 'value').encode('shape', 'hvh'); // 'line', 'smooth', 'vh', 'hv', 'hvh'\n\nchart.render();\n",title:{zh:"阶梯面积图",en:"Step Area Chart"},filename:"step-area.ts",isNew:!1},{id:"area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WkMRSKoc57UAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/aapl.json',\n});\n\nchart\n  .area()\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'close');\n\nchart.render();\n",title:{zh:"面积图",en:"Area Chart"},filename:"area.ts",isNew:!1},{id:"missing-data-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7XNGTZ7WttIAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart.options({\n  type: 'area',\n  autoFit: true,\n  data: {\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/aapl.json',\n  },\n  encode: {\n    x: (d) => new Date(d.date),\n    // Mock missing data. Set NaN from Jan. to Mar.\n    y: (d) => (new Date(d.date).getUTCMonth() <= 3 ? NaN : d.close),\n  },\n  style: {\n    connect: true,\n    // 配置connector样式\n    connectFill: 'grey',\n    connectFillOpacity: 0.15,\n    // 配置area样式\n    fill: 'l(270) 0:#ffffff 0.5:#7ec2f3 1:#1890ff',\n    opacity: 0.9,\n    stroke: 'yellow',\n  },\n});\n\nchart.render();\n",title:{zh:"数据缺失面积图",en:"Missing Data Area Chart"},filename:"missing-data-area.ts",isNew:!1},{id:"area-with-negative",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9cV1Rq1rr8EAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { year: '1996', north: 322, south: 162 },\n  { year: '1997', north: 324, south: 90 },\n  { year: '1998', north: 329, south: 50 },\n  { year: '1999', north: 342, south: 77 },\n  { year: '2000', north: 348, south: 35 },\n  { year: '2001', north: 334, south: -45 },\n  { year: '2002', north: 325, south: -88 },\n  { year: '2003', north: 316, south: -120 },\n  { year: '2004', north: 318, south: -156 },\n  { year: '2005', north: 330, south: -123 },\n  { year: '2006', north: 355, south: -88 },\n  { year: '2007', north: 366, south: -66 },\n  { year: '2008', north: 337, south: -45 },\n  { year: '2009', north: 352, south: -29 },\n  { year: '2010', north: 377, south: -45 },\n  { year: '2011', north: 383, south: -88 },\n  { year: '2012', north: 344, south: -132 },\n  { year: '2013', north: 366, south: -146 },\n  { year: '2014', north: 389, south: -169 },\n  { year: '2015', north: 334, south: -184 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    value: data,\n    transform: [\n      {\n        type: 'fold',\n        fields: ['north', 'south'],\n        key: 'type', // key字段\n        value: 'value', // value字段\n      },\n    ],\n  })\n  .encode('x', (d) => d.year)\n  .encode('y', 'value')\n  .encode('color', 'type');\n\nchart.area().style('fillOpacity', 0.3);\n\nchart.line().style('strokeWidth', 2).tooltip(false);\n\nchart.render();\n",title:{zh:"负数面积图",en:"With Negative Area Chart"},filename:"area-with-negative.ts",isNew:!1},{id:"area-stacked-basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*VDBoSreSzqUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { country: 'Asia', year: '1750', value: 502 },\n  { country: 'Asia', year: '1800', value: 635 },\n  { country: 'Asia', year: '1850', value: 809 },\n  { country: 'Asia', year: '1900', value: 5268 },\n  { country: 'Asia', year: '1950', value: 4400 },\n  { country: 'Asia', year: '1999', value: 3634 },\n  { country: 'Asia', year: '2050', value: 947 },\n  { country: 'Africa', year: '1750', value: 106 },\n  { country: 'Africa', year: '1800', value: 107 },\n  { country: 'Africa', year: '1850', value: 111 },\n  { country: 'Africa', year: '1900', value: 1766 },\n  { country: 'Africa', year: '1950', value: 221 },\n  { country: 'Africa', year: '1999', value: 767 },\n  { country: 'Africa', year: '2050', value: 133 },\n  { country: 'Europe', year: '1750', value: 163 },\n  { country: 'Europe', year: '1800', value: 203 },\n  { country: 'Europe', year: '1850', value: 276 },\n  { country: 'Europe', year: '1900', value: 628 },\n  { country: 'Europe', year: '1950', value: 547 },\n  { country: 'Europe', year: '1999', value: 729 },\n  { country: 'Europe', year: '2050', value: 408 },\n  { country: 'Oceania', year: '1750', value: 200 },\n  { country: 'Oceania', year: '1800', value: 200 },\n  { country: 'Oceania', year: '1850', value: 200 },\n  { country: 'Oceania', year: '1900', value: 460 },\n  { country: 'Oceania', year: '1950', value: 230 },\n  { country: 'Oceania', year: '1999', value: 300 },\n  { country: 'Oceania', year: '2050', value: 300 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data(data)\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('color', 'country')\n  .axis('x', { title: false })\n  .axis('y', { title: false });\n\nchart.area().style('fillOpacity', 0.3);\n\nchart.line().style('strokeWidth', 2).tooltip(false);\n\nchart.render();\n",title:{zh:"简单堆叠面积图",en:"Basic Stacked Area Chart"},filename:"area-stacked-basic.ts",isNew:!1},{id:"area-percentage",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*oDcJTangPsgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { country: 'Asia', year: '1750', value: 502 },\n  { country: 'Asia', year: '1800', value: 635 },\n  { country: 'Asia', year: '1850', value: 809 },\n  { country: 'Asia', year: '1900', value: 947 },\n  { country: 'Asia', year: '1950', value: 1402 },\n  { country: 'Asia', year: '1999', value: 3634 },\n  { country: 'Asia', year: '2050', value: 5268 },\n  { country: 'Africa', year: '1750', value: 106 },\n  { country: 'Africa', year: '1800', value: 107 },\n  { country: 'Africa', year: '1850', value: 111 },\n  { country: 'Africa', year: '1900', value: 133 },\n  { country: 'Africa', year: '1950', value: 221 },\n  { country: 'Africa', year: '1999', value: 767 },\n  { country: 'Africa', year: '2050', value: 1766 },\n  { country: 'Europe', year: '1750', value: 163 },\n  { country: 'Europe', year: '1800', value: 203 },\n  { country: 'Europe', year: '1850', value: 276 },\n  { country: 'Europe', year: '1900', value: 408 },\n  { country: 'Europe', year: '1950', value: 547 },\n  { country: 'Europe', year: '1999', value: 729 },\n  { country: 'Europe', year: '2050', value: 628 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data(data)\n  .transform([{ type: 'stackY' }, { type: 'normalizeY' }])\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('color', 'country')\n  .axis('x', { title: false })\n  .axis('y', { title: false, labelFormatter: '.0%' });\n\nchart\n  .area()\n  .tooltip({ channel: 'y0', valueFormatter: '.0%' })\n  .style('fillOpacity', 0.3);\n\nchart.line().tooltip(false);\n\nchart.render();\n",title:{zh:"百分比堆叠面积图",en:"Percentage Area Chart"},filename:"area-percentage.ts",isNew:!1},{id:"area-gradient",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*43MGTK5z-KgAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/area_gradient.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/stocks.json',\n  transform: [\n    {\n      type: 'filter',\n      callback: (d) => d.symbol === 'GOOG',\n    },\n  ],\n});\n\nchart\n  .area()\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'price')\n  .style('fill', 'linear-gradient(-90deg, white 0%, darkgreen 100%)');\n\nchart\n  .line()\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'price')\n  .style('stroke', 'darkgreen')\n  .style('lineWidth', 2);\n\nchart.render();\n",title:{zh:"渐变色面积图",en:"Gradient Area Chart"},filename:"area-gradient.ts",isNew:!1},{id:"stacked-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Cla-RK74-GgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/unemployment-by-industry.json',\n});\n\nchart\n  .area()\n  .transform([\n    { type: 'stackY' }, // Try to remove this line.\n  ])\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'unemployed')\n  .encode('color', 'industry')\n  .encode('shape', 'smooth');\n\nchart.render();\n",title:{zh:"堆叠面积图",en:"Stacked Area Chart"},filename:"stacked-area.ts",isNew:!1},{id:"orderly-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-NZbR5vNY28AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .area()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/e58c9758-0a09-4527-aa90-fbf175b45925.json',\n  })\n  .transform({ type: 'stackY', orderBy: 'value' })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'unemployed')\n  .encode('color', 'industry')\n  .encode('shape', 'smooth')\n  .scale('x', { utc: true })\n  .axis('x', { title: 'Date' })\n  .axis('y', { labelFormatter: '~s' })\n  .legend('color', { size: 72, autoWrap: true, maxRows: 3, cols: 6 });\n\nchart.render();\n",title:{zh:"彩条图",en:"Stripe Chart"},filename:"orderly-area.ts",isNew:!1},{id:"streamgraph",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*LeTWR4RrSjoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/unemployment-by-industry.json',\n});\n\nchart\n  .area()\n  .transform({ type: 'stackY' })\n  .transform({ type: 'symmetryY' })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'unemployed')\n  .encode('color', 'industry');\n\nchart.render();\n",title:{zh:"河流图",en:"Streamgraph"},filename:"streamgraph.ts",isNew:!1},{id:"percentage-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Pp6-RJMKJFUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/unemployment-by-industry.json',\n});\n\nchart\n  .area()\n  .transform([{ type: 'stackY' }, { type: 'normalizeY' }])\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'unemployed')\n  .encode('color', 'industry')\n  .tooltip({ channel: 'y0', valueFormatter: '.3f' });\n\nchart.render();\n",title:{zh:"归一化堆叠面积图",en:"Normalized Area, MaxIndex"},filename:"percentage-area.ts",isNew:!1},{id:"cascade-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Pgc7Q4K0cFwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value:\n    'https://gw.alipayobjects.com/os/bmw-prod/f38a8ad0-6e1f-4bb3-894c-7db50781fdec.json',\n});\n\nchart\n  .area()\n  .transform({ type: 'stackY', orderBy: 'maxIndex', reverse: true })\n  .encode('x', (d) => new Date(d.year))\n  .encode('y', 'revenue')\n  .encode('series', 'format')\n  .encode('color', 'group')\n  .encode('shape', 'smooth')\n  .axis('y', { labelFormatter: '~s' })\n  .tooltip({ channel: 'y', valueFormatter: '.2f' });\n\nchart\n  .line()\n  .transform({ type: 'stackY', orderBy: 'maxIndex', reverse: true, y: 'y1' })\n  .encode('x', (d) => new Date(d.year))\n  .encode('y', 'revenue')\n  .encode('series', 'format')\n  .encode('shape', 'smooth')\n  .encode('color', 'group') // For legendFilter.\n  .style('stroke', 'white')\n  .tooltip(false);\n\nchart.interaction('tooltip', { filter: (d) => parseInt(d.value) > 0 });\n\nchart.render();\n",title:{zh:"出现顺序堆叠面积图",en:"Stacked Area"},filename:"cascade-area.ts",isNew:!1},{id:"label",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*IE5nQIEJOnsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst States = [\n  'Massachusetts',\n  'Connecticut',\n  'Maine',\n  'Rhode Island',\n  'New Hampshire',\n  'Vermont',\n  'New York',\n  'Pennsylvania',\n  'New Jersey',\n  'North Carolina',\n  'Virginia',\n  'Georgia',\n  'Florida',\n  'Maryland',\n  'South Carolina',\n  'West Virginia',\n  'District of Columbia',\n  'Delaware',\n  'Tennessee',\n  'Kentucky',\n  'Alabama',\n  'Mississippi',\n  'Texas',\n  'Louisiana',\n  'Oklahoma',\n  'Arkansas',\n  'Illinois',\n  'Ohio',\n  'Michigan',\n  'Indiana',\n  'Wisconsin',\n  'Missouri',\n  'Minnesota',\n  'Iowa',\n  'Kansas',\n  'Nebraska',\n  'South Dakota',\n  'North Dakota',\n  'Colorado',\n  'Arizona',\n  'Utah',\n  'New Mexico',\n  'Montana',\n  'Idaho',\n  'Nevada',\n  'Wyoming',\n  'California',\n  'Washington',\n  'Oregon',\n  'Hawaii',\n  'Alaska',\n];\n\nconst RegionStateMap = new Map([\n  ['Alaska', 'Pacific'],\n  ['Alabama', 'East South Central'],\n  ['Arkansas', 'West South Central'],\n  ['Arizona', 'Mountain'],\n  ['California', 'Pacific'],\n  ['Colorado', 'Mountain'],\n  ['Connecticut', 'New England'],\n  ['District of Columbia', 'South Atlantic'],\n  ['Delaware', 'South Atlantic'],\n  ['Florida', 'South Atlantic'],\n  ['Georgia', 'South Atlantic'],\n  ['Hawaii', 'Pacific'],\n  ['Iowa', 'West North Central'],\n  ['Idaho', 'Mountain'],\n  ['Illinois', 'East North Central'],\n  ['Indiana', 'East North Central'],\n  ['Kansas', 'West North Central'],\n  ['Kentucky', 'East South Central'],\n  ['Louisiana', 'West South Central'],\n  ['Massachusetts', 'New England'],\n  ['Maryland', 'South Atlantic'],\n  ['Maine', 'New England'],\n  ['Michigan', 'East North Central'],\n  ['Minnesota', 'West North Central'],\n  ['Missouri', 'West North Central'],\n  ['Mississippi', 'East South Central'],\n  ['Montana', 'Mountain'],\n  ['North Carolina', 'South Atlantic'],\n  ['North Dakota', 'West North Central'],\n  ['Nebraska', 'West North Central'],\n  ['New Hampshire', 'New England'],\n  ['New Jersey', 'Middle Atlantic'],\n  ['New Mexico', 'Mountain'],\n  ['Nevada', 'Mountain'],\n  ['New York', 'Middle Atlantic'],\n  ['Ohio', 'East North Central'],\n  ['Oklahoma', 'West South Central'],\n  ['Oregon', 'Pacific'],\n  ['Pennsylvania', 'Middle Atlantic'],\n  ['Rhode Island', 'New England'],\n  ['South Carolina', 'South Atlantic'],\n  ['South Dakota', 'West North Central'],\n  ['Tennessee', 'East South Central'],\n  ['Texas', 'West South Central'],\n  ['Utah', 'Mountain'],\n  ['Virginia', 'South Atlantic'],\n  ['Vermont', 'New England'],\n  ['Washington', 'Pacific'],\n  ['Wisconsin', 'East North Central'],\n  ['West Virginia', 'South Atlantic'],\n  ['Wyoming', 'Mountain'],\n]);\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/population-by-state.json',\n  transform: [\n    {\n      type: 'fold',\n      fields: States,\n      key: 'state',\n      value: 'population',\n    },\n    {\n      type: 'map',\n      callback: (d) => ({\n        ...d,\n        region: RegionStateMap.get(d.state),\n        date: new Date(d.date),\n      }),\n    },\n  ],\n});\n\nchart\n  .area()\n  .transform([{ type: 'stackY' }, { type: 'normalizeY' }])\n  .encode('x', 'date')\n  .encode('y', 'population')\n  .encode('color', 'region')\n  .encode('series', 'state')\n  .label({\n    text: 'state',\n    position: 'area', // `area` type positon used here.\n    selector: 'first',\n    transform: [{ type: 'overlapHide' }],\n    fontSize: 10,\n  })\n  .tooltip({ channel: 'y', valueFormatter: (d) => d.toFixed(3) });\n\nchart\n  .line()\n  .transform([{ type: 'stackY' }, { type: 'normalizeY' }])\n  .encode('x', 'date')\n  .encode('y', 'population')\n  .encode('series', 'state')\n  .encode('color', 'region') // For LegendFilter.\n  .style('stroke', '#000')\n  .style('lineWidth', 0.5)\n  .style('fillOpacity', 0.8)\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"面积图特殊标签",en:"Area Label"},filename:"label.ts",isNew:!1},{id:"area-difference",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9jOYSrMpSe4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/temperature-compare.json',\n});\n\nchart\n  .area()\n  .data({\n    transform: [\n      {\n        type: 'fold',\n        fields: ['New York', 'San Francisco'],\n        key: 'city',\n        value: 'temperature',\n      },\n    ],\n  })\n  .transform([{ type: 'diffY' }]) // Diff the 2 area shape.\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'temperature')\n  .encode('color', 'city')\n  .encode('shape', 'hvh');\n// .scale('color', { range: ['#67a9cf', '#ef8a62'] });\n\nchart\n  .line()\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'San Francisco')\n  .encode('shape', 'hvh')\n  .style('stroke', '#000')\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"差分面积图",en:"Area Difference"},filename:"area-difference.ts",isNew:!1},{id:"area-band",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2fXdTp9E-uwAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/band-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .area()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/temperatures3.json',\n  })\n  .scale('color', { palette: 'reds' })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', ['low', 'high'])\n  .encode('color', (d) => d.high - d.low)\n  .encode('series', () => undefined)\n  .style('gradient', 'x')\n  .axis('x', { title: 'date' });\n\nchart.render();\n",title:{zh:"板子图",en:"Band Chart"},filename:"area-band.ts",isNew:!1},{id:"area-range",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HlorR55MDE4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { time: 1246406400000, temperature: [14.3, 27.7] },\n  { time: 1246492800000, temperature: [14.5, 27.8] },\n  { time: 1246579200000, temperature: [15.5, 29.6] },\n  { time: 1246665600000, temperature: [16.7, 30.7] },\n  { time: 1246752000000, temperature: [16.5, 25.0] },\n  { time: 1246838400000, temperature: [17.8, 25.7] },\n  { time: 1246924800000, temperature: [13.5, 24.8] },\n  { time: 1247011200000, temperature: [10.5, 21.4] },\n  { time: 1247097600000, temperature: [9.2, 23.8] },\n  { time: 1247184000000, temperature: [11.6, 21.8] },\n  { time: 1247270400000, temperature: [10.7, 23.7] },\n  { time: 1247356800000, temperature: [11.0, 23.3] },\n  { time: 1247443200000, temperature: [11.6, 23.7] },\n  { time: 1247529600000, temperature: [11.8, 20.7] },\n  { time: 1247616000000, temperature: [12.6, 22.4] },\n  { time: 1247702400000, temperature: [13.6, 19.6] },\n  { time: 1247788800000, temperature: [11.4, 22.6] },\n  { time: 1247875200000, temperature: [13.2, 25.0] },\n  { time: 1247961600000, temperature: [14.2, 21.6] },\n  { time: 1248048000000, temperature: [13.1, 17.1] },\n  { time: 1248134400000, temperature: [12.2, 15.5] },\n  { time: 1248220800000, temperature: [12.0, 20.8] },\n  { time: 1248307200000, temperature: [12.0, 17.1] },\n  { time: 1248393600000, temperature: [12.7, 18.3] },\n  { time: 1248480000000, temperature: [12.4, 19.4] },\n  { time: 1248566400000, temperature: [12.6, 19.9] },\n  { time: 1248652800000, temperature: [11.9, 20.2] },\n  { time: 1248739200000, temperature: [11.0, 19.3] },\n  { time: 1248825600000, temperature: [10.8, 17.8] },\n  { time: 1248912000000, temperature: [11.8, 18.5] },\n  { time: 1248998400000, temperature: [10.8, 16.1] },\n];\n\nconst averages = [\n  { time: 1246406400000, temperature: 21.5 },\n  { time: 1246492800000, temperature: 22.1 },\n  { time: 1246579200000, temperature: 23 },\n  { time: 1246665600000, temperature: 23.8 },\n  { time: 1246752000000, temperature: 21.4 },\n  { time: 1246838400000, temperature: 21.3 },\n  { time: 1246924800000, temperature: 18.3 },\n  { time: 1247011200000, temperature: 15.4 },\n  { time: 1247097600000, temperature: 16.4 },\n  { time: 1247184000000, temperature: 17.7 },\n  { time: 1247270400000, temperature: 17.5 },\n  { time: 1247356800000, temperature: 17.6 },\n  { time: 1247443200000, temperature: 17.7 },\n  { time: 1247529600000, temperature: 16.8 },\n  { time: 1247616000000, temperature: 17.7 },\n  { time: 1247702400000, temperature: 16.3 },\n  { time: 1247788800000, temperature: 17.8 },\n  { time: 1247875200000, temperature: 18.1 },\n  { time: 1247961600000, temperature: 17.2 },\n  { time: 1248048000000, temperature: 14.4 },\n  { time: 1248134400000, temperature: 13.7 },\n  { time: 1248220800000, temperature: 15.7 },\n  { time: 1248307200000, temperature: 14.6 },\n  { time: 1248393600000, temperature: 15.3 },\n  { time: 1248480000000, temperature: 15.3 },\n  { time: 1248566400000, temperature: 15.8 },\n  { time: 1248652800000, temperature: 15.2 },\n  { time: 1248739200000, temperature: 14.8 },\n  { time: 1248825600000, temperature: 14.4 },\n  { time: 1248912000000, temperature: 15 },\n  { time: 1248998400000, temperature: 13.6 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    value: data,\n    transform: [\n      {\n        type: 'map',\n        callback: (d) => ({\n          time: d.time,\n          low: d.temperature[0],\n          high: d.temperature[1],\n        }),\n      },\n    ],\n  })\n  .axis('y', { title: false });\n\nchart\n  .area()\n  .encode('x', (d) => new Date(d.time).toLocaleDateString())\n  .encode('y', ['low', 'high'])\n  .encode('shape', 'area')\n  .style('fillOpacity', 0.3)\n  .style('fill', '#64b5f6')\n  .tooltip({\n    items: [(d) => ({ name: '温度区间', value: `${d.low}-${d.high}` })],\n  });\n\nchart\n  .line()\n  .data(averages)\n  .encode('x', (d) => new Date(d.time).toLocaleDateString())\n  .encode('y', 'temperature')\n  .encode('shape', 'line')\n  .style('lineWidth', 2)\n  .tooltip({\n    title: false,\n    items: [\n      (d) => ({\n        name: '平均温度',\n        value: d.temperature,\n      }),\n    ],\n  });\nchart\n  .point()\n  .data(averages)\n  .encode('x', (d) => new Date(d.time).toLocaleDateString())\n  .encode('y', 'temperature')\n  .encode('shape', 'point')\n  .encode('size', 4)\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"区间面积图",en:"Range Area Chart"},filename:"area-range.ts",isNew:!1},{id:"range-spline-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ln0-RKKu520AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://www.anychart.com/zh/products/anychart/gallery/Combined_Charts/Range_Spline-Area,_Spline_and_Marker_Chart.php\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/range-spline-area.json',\n    transform: [\n      {\n        type: 'map',\n        callback: ([x, low, high, v2, v3]) => ({ x, low, high, v2, v3 }),\n      },\n    ],\n  })\n  .axis('y', { title: false })\n  .scale('x', { type: 'linear', tickCount: 10 });\n\nchart\n  .area()\n  .encode('x', 'x')\n  .encode('y', ['low', 'high'])\n  .encode('shape', 'smooth')\n  .style('fillOpacity', 0.65)\n  .style('fill', '#64b5f6')\n  .style('lineWidth', 1);\n\nchart\n  .point()\n  .encode('x', 'x')\n  .encode('y', 'v2')\n  .encode('size', 2)\n  .encode('shape', 'point')\n  .tooltip('v2');\n\nchart\n  .line()\n  .encode('x', 'x')\n  .encode('y', 'v3')\n  .encode('color', '#FF6B3B')\n  .encode('shape', 'smooth');\n\nchart.render();\n",title:{zh:"区间曲线面积图",en:"Range Spline Area Chart"},filename:"range-spline-area.ts",isNew:!1},{id:"rank-trend-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d-KvQquoIlAAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart.options({\n  type: 'view',\n  autoFit: true,\n  paddingRight: 10,\n  data: [\n    { month: '一月', rank: 200 },\n    { month: '二月', rank: 160 },\n    { month: '三月', rank: 100 },\n    { month: '四月', rank: 80 },\n    { month: '五月', rank: 99 },\n    { month: '六月', rank: 36 },\n    { month: '七月', rank: 40 },\n    { month: '八月', rank: 20 },\n    { month: '九月', rank: 12 },\n    { month: '十月', rank: 15 },\n    { month: '十一月', rank: 6 },\n    { month: '十二月', rank: 1 },\n  ],\n  scale: {\n    y: {\n      nice: true,\n      tickMethod: () => [0, 50, 100, 170, 199],\n    },\n  },\n  axis: {\n    y: {\n      labelFormatter: (d) => `第${200 - d}名`,\n    },\n  },\n  children: [\n    {\n      type: 'area',\n      encode: { x: (d) => d.month, y: (d) => 200 - d.rank, shape: 'smooth' },\n      style: { opacity: 0.2 },\n      axis: { y: { labelFormatter: '~s', title: false } },\n      style: {\n        fill: 'l(270) 0:#ffffff 0.9:#7ec2f3 1:#1890ff',\n        fillOpacity: 0.2,\n      },\n      tooltip: false,\n    },\n    {\n      type: 'line',\n      encode: { x: (d) => d.month, y: (d) => 200 - d.rank, shape: 'smooth' },\n      interaction: {\n        tooltip: {\n          render: (event, { title, items }) => `\n<div style=\"display: flex; align-items: center;\">\n  <span>${title}：第</span>\n  <h2\n    style=\"\n        margin-left: 8px;\n        margin-right: 8px;\n        margin-top:4px;\n        font-size: 18px;\n        line-height: 36px;\n        font-weight: 500px\"\n  >\n    ${200 - items[0].value}\n  </h2>\n  <span>名</span>\n</div>\n          `,\n        },\n      },\n      style: {\n        lineWidth: 2,\n      },\n    },\n  ],\n});\n\nchart.render();\n",title:{zh:"排名趋势面积图",en:"Rank Trend Area Chart"},filename:"rank-trend-area.ts",isNew:!1}],icon:"",id:"area",title:{en:"Area",zh:"面积图"},api:null,childrenKey:"demos",order:4},{demos:[{id:"histogram",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Tq2YSbmmRcUAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  1.2, 3.4, 3.7, 4.3, 5.2, 5.8, 6.1, 6.5, 6.8, 7.1, 7.3, 7.7, 8.3, 8.6, 8.8,\n  9.1, 9.2, 9.4, 9.5, 9.7, 10.5, 10.7, 10.8, 11.0, 11.0, 11.1, 11.2, 11.3, 11.4,\n  11.4, 11.7, 12.0, 12.9, 12.9, 13.3, 13.7, 13.8, 13.9, 14.0, 14.2, 14.5, 15,\n  15.2, 15.6, 16.0, 16.3, 17.3, 17.5, 17.9, 18.0, 18.0, 20.6, 21, 23.4,\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 500,\n});\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', (d) => d)\n  .encode('y', 'count')\n  .transform({\n    type: 'binX',\n    y: 'count',\n    thresholds: 10,\n  })\n  .style({\n    columnWidthRatio: 1,\n    inset: 0.5,\n  });\n\nchart.render();\n",title:{zh:"直方图",en:"Histogram"},filename:"histogram.ts",isNew:!1},{id:"histogram-binwidth",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*EfmuR67lL24AAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import DataSet from '@antv/data-set';\nimport { Chart } from '@antv/g2';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const ds = new DataSet();\n    const dv = ds.createView('diamond').source(data);\n    dv.transform({\n      type: 'bin.histogram',\n      field: 'depth',\n      binWidth: 4, // 在此修改矩形的宽度，代表真实数值的大小\n      as: ['depth', 'count'],\n    });\n\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n      height: 500,\n    });\n\n    chart\n      .interval()\n      .encode('x', 'depth')\n      .encode('y', 'count')\n      .data(dv.rows)\n      .scale({\n        depth: {\n          tickInterval: 4,\n        },\n        count: {\n          nice: true,\n        },\n      });\n\n    chart.render();\n  });\n",title:{zh:"直方图范围刻度",en:"Histogram with range tick"},filename:"histogram-binwidth.ts",isNew:!1},{id:"histogram-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Z873S5jGYD0AAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nfetch('https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n      height: 500,\n    });\n\n    chart\n      .interval()\n      .encode('x', 'depth')\n      .encode('y', 'count')\n      .encode('color', 'cut')\n      .data(data)\n      .transform({\n        type: 'binX',\n        y: 'count',\n        thresholds: 25,\n      })\n      .style({\n        columnWidthRatio: 1,\n        inset: 0.5,\n      });\n\n    chart.render();\n  });\n",title:{zh:"层叠直方图",en:"Stacked histogram"},filename:"histogram-stacked.ts",isNew:!1}],icon:"",id:"histogram",title:{en:"Histogram",zh:"直方图"},api:null,childrenKey:"demos",order:4},{demos:[{id:"cell-basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*F8DLSYJAyKQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 640,\n});\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/bd287f2c-3e2b-4d0a-8428-6a85211dce33.json',\n  })\n  .scale('color', { type: 'ordinal' })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', 'index')\n  .style('stroke', '#000')\n  .style('inset', 2)\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"华夫饼图",en:"Waffle"},filename:"cell-basic.ts",isNew:!1},{id:"cell-heatmap",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*XYedR7WEoUEAAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://observablehq.com/@mbostock/the-impact-of-vaccines\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 1300,\n  height: 900,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/vaccines.json',\n  })\n  .axis('y', { labelAutoRotate: false })\n  .axis('x', {\n    tickFilter: (d) => d % 10 === 0,\n    position: 'top',\n  })\n  .scale('color', {\n    palette: 'puRd',\n    relations: [\n      [(d) => d === null, '#eee'],\n      [0, '#fff'],\n    ],\n  });\n\nchart\n  .cell()\n  .encode('x', 'year')\n  .encode('y', 'name')\n  .encode('color', 'value')\n  .style('inset', 0.5)\n  .tooltip({ title: { channel: 'color', valueFormatter: '.2f' } });\n\nchart\n  .lineX()\n  .data([1963])\n  .style('stroke', 'black')\n  .label({\n    text: '1963',\n    position: 'bottom',\n    textBaseline: 'top',\n    fontSize: 10,\n  })\n  .label({\n    text: 'Measles vaccine introduced',\n    position: 'bottom',\n    textBaseline: 'top',\n    fontSize: 10,\n    fontWeight: 'bold',\n    dy: 10,\n  })\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"热力图",en:"Heatmap"},filename:"cell-heatmap.ts",isNew:!1},{id:"cell-threshold",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*RcOMSq6qcFAAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 340,\n});\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/89c20fe8-0c6f-46c8-b36b-4cb653dba8ed.json',\n    transform: [{ type: 'map', callback: (d) => ({ salary: d }) }],\n  })\n  .scale('color', {\n    type: 'threshold',\n    domain: [10000, 100000],\n    range: ['#eee', 'pink', 'red'],\n  })\n  .encode('y', (_, i) => (i % 5) + 1)\n  .encode('x', (_, i) => ((i / 5) | 0) + 1)\n  .encode('color', 'salary')\n  .style('stroke', '#000')\n  .style('inset', 2)\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"阈值热力图",en:"Threshold Heatmap"},filename:"cell-threshold.ts",isNew:!1},{id:"cell-quantile",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*i8u2RLyueqgAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 340,\n});\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/89c20fe8-0c6f-46c8-b36b-4cb653dba8ed.json',\n    transform: [{ type: 'map', callback: (d) => ({ salary: d }) }],\n  })\n  .scale('color', { type: 'quantile', range: ['#eee', 'pink', 'red'] })\n  .legend({ color: { length: 400, labelFormatter: '.0s' } })\n  .encode('y', (_, i) => (i % 5) + 1)\n  .encode('x', (_, i) => ((i / 5) | 0) + 1)\n  .encode('color', 'salary')\n  .style('stroke', '#000')\n  .style('inset', 2)\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"分位数热力图",en:"Quantile Heatmap"},filename:"cell-quantile.ts",isNew:!1},{id:"cell-quantize",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*gWiuQqMJ-TAAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 340,\n});\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/89c20fe8-0c6f-46c8-b36b-4cb653dba8ed.json',\n    transform: [{ type: 'map', callback: (d) => ({ salary: d }) }],\n  })\n  .scale('color', { type: 'quantize', range: ['#eee', 'pink', 'red'] })\n  .legend({ color: { length: 400, labelFormatter: '.0s' } })\n  .encode('y', (_, i) => (i % 5) + 1)\n  .encode('x', (_, i) => ((i / 5) | 0) + 1)\n  .encode('color', 'salary')\n  .style('stroke', '#000')\n  .style('inset', 2)\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"量化热力图",en:"Quantize Heatmap"},filename:"cell-quantize.ts",isNew:!1},{id:"cell-aggregated",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*Wk4zR40uQesAAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/rect_heatmap_weather.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 300,\n});\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/seattle-weather.json',\n  })\n  .transform({ type: 'group', color: 'max' })\n  .encode('x', (d) => new Date(d.date).getUTCDate())\n  .encode('y', (d) => new Date(d.date).getUTCMonth())\n  .encode('color', 'temp_max')\n  .style('inset', 0.5)\n  .scale('color', { palette: 'gnBu' })\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"聚合热力图",en:"Aggregated Heatmap"},filename:"cell-aggregated.ts",isNew:!1}],icon:"",id:"cell",title:{en:"Cell",zh:"色块图"},api:null,childrenKey:"demos",order:5},{demos:[{id:"pie-base",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1yoaSJ0rfrYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: '事例一', count: 40, percent: 0.4 },\n  { item: '事例二', count: 21, percent: 0.21 },\n  { item: '事例三', count: 17, percent: 0.17 },\n  { item: '事例四', count: 13, percent: 0.13 },\n  { item: '事例五', count: 9, percent: 0.09 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'theta', outerRadius: 0.8 });\n\nchart\n  .interval()\n  .data(data)\n  .transform({ type: 'stackY' })\n  .encode('y', 'percent')\n  .encode('color', 'item')\n  .legend('color', { position: 'bottom', layout: { justifyContent: 'center' } })\n  .label({\n    position: 'outside',\n    text: (data) => `${data.item}: ${data.percent * 100}%`,\n  })\n  .tooltip((data) => ({\n    name: data.item,\n    value: `${data.percent * 100}%`,\n  }));\n\nchart.render();\n",title:{zh:"简单饼图",en:"Simple pie chart"},filename:"pie-base.ts",isNew:!1},{id:"donut-base",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*06RqSKmmVbEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: '事例一', count: 40, percent: 0.4 },\n  { item: '事例二', count: 21, percent: 0.21 },\n  { item: '事例三', count: 17, percent: 0.17 },\n  { item: '事例四', count: 13, percent: 0.13 },\n  { item: '事例五', count: 9, percent: 0.09 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'theta', outerRadius: 0.8, innerRadius: 0.5 });\n\nchart\n  .interval()\n  .data(data)\n  .transform({ type: 'stackY' })\n  .encode('y', 'percent')\n  .encode('color', 'item')\n  .legend('color', { position: 'bottom', layout: { justifyContent: 'center' } })\n  .label({\n    position: 'outside',\n    text: (data) => `${data.item}: ${data.percent * 100}%`,\n  })\n  .tooltip((data) => ({\n    name: data.item,\n    value: `${data.percent * 100}%`,\n  }));\n\nchart\n  .text()\n  .style('text', '主机')\n  // Relative position\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('dy', -25)\n  .style('fontSize', 34)\n  .style('fill', '#8c8c8c')\n  .style('textAlign', 'center');\n\nchart\n  .text()\n  .style('text', '200')\n  // Relative position\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('dx', -25)\n  .style('dy', 25)\n  .style('fontSize', 44)\n  .style('fill', '#8c8c8c')\n  .style('textAlign', 'center');\n\nchart\n  .text()\n  .style('text', '台')\n  // Relative position\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('dx', 35)\n  .style('dy', 25)\n  .style('fontSize', 34)\n  .style('fill', '#8c8c8c')\n  .style('textAlign', 'center');\n\nchart.render();\n",title:{zh:"简单环图",en:"Simple donut chart"},filename:"donut-base.ts",isNew:!1},{id:"pie-base-facet",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*enGVRIWj9KUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { type: '男性', percent: 56.4, color: '#0a9afe' },\n  { type: '女性', percent: 43.6, color: '#f0657d' },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data(data)\n  .encode('x', 'type')\n  .axis(false)\n  .legend(false)\n  .view()\n  .attr('frame', false)\n  .coordinate({ type: 'theta', innerRadius: 0.5, outerRadius: 0.8 });\n\nfacetRect\n  .interval()\n  .encode('y', 100)\n  .scale('y', { zero: true })\n  .style('fill', '#e8e8e8')\n  .tooltip(false)\n  .animate(false);\n\nfacetRect\n  .interval()\n  .encode('y', 'percent')\n  .encode('color', 'color')\n  .scale('color', { type: 'identity' })\n  .tooltip((data) => ({\n    name: data.type,\n    value: data.percent,\n  }))\n  .animate('enter', { type: 'waveIn', duration: 1000 });\n\nfacetRect\n  .text()\n  .encode('text', 'type')\n  .style('textAlign', 'center')\n  .style('textBaseline', 'middle')\n  .style('fontSize', 20)\n  .style('color', '#8c8c8c')\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('dy', -20);\n\nfacetRect\n  .text()\n  .encode('text', 'percent')\n  .style('textAlign', 'center')\n  .style('textBaseline', 'middle')\n  .style('fontSize', 30)\n  .style('fontWeight', 500)\n  .style('color', '#000')\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('dy', 20);\n\nchart.render();\n",title:{zh:"2018 年第一季度短视频用户性别分布",en:"Gender distribution of short video users"},filename:"pie-base-facet.ts",isNew:!1},{id:"pie",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xuKWQoLfxjwAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/pie-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 640,\n});\n\nchart.coordinate({ type: 'theta' });\n\nchart\n  .interval()\n  .transform({ type: 'stackY' })\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/79fd9317-d2af-4bc4-90fa-9d07357398fd.csv',\n  })\n  .encode('y', 'value')\n  .encode('color', 'name')\n  .style('stroke', 'white')\n  .scale('color', {\n    palette: 'spectral',\n    offset: (t) => t * 0.8 + 0.1,\n  })\n  .label({\n    text: 'name',\n    radius: 0.8,\n    fontSize: 10,\n    fontWeight: 'bold',\n  })\n  .label({\n    text: (d, i, data) => (i < data.length - 3 ? d.value : ''),\n    radius: 0.8,\n    fontSize: 9,\n    dy: 12,\n  })\n  .animate('enter', { type: 'waveIn' })\n  .legend(false);\n\nchart.render();\n",title:{zh:"饼图",en:"Pie Chart"},filename:"pie.ts",isNew:!1},{id:"pie-donut-text",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ce-SSKsG36EAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo:\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 640,\n  padding: 0,\n  inset: 50,\n});\n\nchart.coordinate({ type: 'theta', innerRadius: 0.6 });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/79fd9317-d2af-4bc4-90fa-9d07357398fd.csv',\n  })\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .encode('color', 'name')\n  .scale('color', {\n    palette: 'spectral',\n    offset: (t) => t * 0.8 + 0.1,\n  })\n  .legend(false);\n\nchart\n  .text()\n  .style('text', 'Donut')\n  // Relative position\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('fontSize', 40)\n  .style('fontWeight', 'bold')\n  .style('textAlign', 'center');\n\nchart\n  .text()\n  .style('text', 'chart')\n  // Absolute position\n  .style('x', 640 / 2 - 16)\n  .style('y', 360)\n  .style('fontSize', 20)\n  .style('fontWeight', 'bold')\n  .style('textAlign', 'center');\n\nchart.render();\n",title:{zh:"饼图, 中心文本",en:"Pie Chart"},filename:"pie-donut-text.ts",isNew:!1},{id:"donut",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*LUQlSaccoLcAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/donut-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 640,\n});\n\nchart.coordinate({ type: 'theta', innerRadius: 0.6 });\n\nchart\n  .interval()\n  .transform({ type: 'stackY' })\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/79fd9317-d2af-4bc4-90fa-9d07357398fd.csv',\n  })\n  .encode('y', 'value')\n  .encode('color', 'name')\n  .style('stroke', 'white')\n  .style('inset', 1)\n  .style('radius', 10)\n  .scale('color', {\n    palette: 'spectral',\n    offset: (t) => t * 0.8 + 0.1,\n  })\n  .label({ text: 'name', fontSize: 10, fontWeight: 'bold' })\n  .label({\n    text: (d, i, data) => (i < data.length - 3 ? d.value : ''),\n    fontSize: 9,\n    dy: 12,\n  })\n  .animate('enter', { type: 'waveIn' })\n  .legend(false);\n\nchart.render();\n",title:{zh:"甜甜圈图",en:"Donut Chart"},filename:"donut.ts",isNew:!1},{id:"spider-label",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*gC20SLxWVicAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://nivo.rocks/pie/\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 500,\n  height: 400,\n});\n\nchart.coordinate({ type: 'theta', innerRadius: 0.25, outerRadius: 0.8 });\n\nchart\n  .interval()\n  .data([\n    { id: 'c', value: 526 },\n    { id: 'sass', value: 220 },\n    { id: 'php', value: 325 },\n    { id: 'elixir', value: 561 },\n    { id: 'rust', value: 54 },\n  ])\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .encode('color', 'id')\n  .scale('color', {\n    range: ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb'],\n  })\n  .label({\n    text: 'value',\n    fontWeight: 'bold',\n    offset: 14,\n  })\n  .label({\n    text: 'id',\n    position: 'spider',\n    connectorDistance: 0,\n    fontWeight: 'bold',\n    textBaseline: 'bottom',\n    textAlign: (d) => (['c', 'sass'].includes(d.id) ? 'end' : 'start'),\n    dy: -4,\n  })\n  .style('radius', 4)\n  .style('stroke', '#fff')\n  .style('lineWidth', 2)\n  .animate('enter', { type: 'waveIn' })\n  .legend(false);\n\nchart.render();\n",title:{zh:"饼图, 蜘蛛布局标签",en:"Pie Chart, Spider Label"},filename:"spider-label.ts",isNew:!1},{id:"spider-label-overlap",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JuJwSJRS4yQAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://nivo.rocks/pie/\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart;\n\nchart\n  .interval()\n  .data([\n    { type: '微博', value: 93.33 },\n    { type: '其他', value: 6.67 },\n    { type: '论坛', value: 4.77 },\n    { type: '网站', value: 1.44 },\n    { type: '微信', value: 1.12 },\n    { type: '客户端', value: 1.05 },\n    { type: '新闻', value: 0.81 },\n    { type: '视频', value: 0.39 },\n    { type: '博客', value: 0.37 },\n    { type: '报刊', value: 0.17 },\n  ])\n  .encode('y', 'value')\n  .encode('color', 'type')\n  .transform({ type: 'stackY' })\n  .coordinate({ type: 'theta' })\n  .animate('enter', { type: 'waveIn' })\n  .label({\n    position: 'spider',\n    text: (d) => `${d.type} (${d.value})`,\n  })\n  .legend(false);\n\nchart.render();\n",title:{zh:"调整蜘蛛布局",en:"Adjust Spider Layout"},filename:"spider-label-overlap.ts",isNew:!1},{id:"point-jitter-radial",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DziRQb4LMbAAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo:\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json',\n  })\n  .transform({ type: 'jitter' })\n  .encode('x', 'clarity')\n  .encode('color', 'clarity')\n  .legend(false);\n\nchart.render();\n",title:{zh:"径向扰动散点图",en:"Radial Jitter Scatter"},filename:"point-jitter-radial.ts",isNew:!1}],icon:"",id:"pie",title:{en:"Pie",zh:"饼图"},api:null,childrenKey:"demos",order:5},{demos:[{id:"line-bar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*A-m1SKg_JAAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { time: '10:10', call: 4, waiting: 2, people: 2 },\n  { time: '10:15', call: 2, waiting: 6, people: 3 },\n  { time: '10:20', call: 13, waiting: 2, people: 5 },\n  { time: '10:25', call: 9, waiting: 9, people: 1 },\n  { time: '10:30', call: 5, waiting: 2, people: 3 },\n  { time: '10:35', call: 8, waiting: 2, people: 1 },\n  { time: '10:40', call: 13, waiting: 1, people: 2 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'waiting')\n  .axis('y', { title: 'Waiting', titleFill: '#5B8FF9' });\n\nchart\n  .line()\n  .encode('x', 'time')\n  .encode('y', 'people')\n  .encode('shape', 'smooth')\n  .style('stroke', '#fdae6b')\n  .style('lineWidth', 2)\n  .scale('y', { independent: true })\n  .axis('y', {\n    position: 'right',\n    grid: null,\n    title: 'People',\n    titleFill: '#fdae6b',\n  });\n\nchart.render();\n",title:{zh:" 柱线混合",en:"Line Bar Chart"},filename:"line-bar.ts",isNew:!1},{id:"multi-line",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*BxouQYIIQ0kAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  {\n    Month: 'Jan',\n    Evaporation: 2,\n    Precipitation: 2.6,\n    Temperature: 2,\n  },\n  {\n    Month: 'Feb',\n    Evaporation: 4.9,\n    Precipitation: 5.9,\n    Temperature: 2.2,\n  },\n  {\n    Month: 'Mar',\n    Evaporation: 7,\n    Precipitation: 9,\n    Temperature: 3.3,\n  },\n  {\n    Month: 'Apr',\n    Evaporation: 23.2,\n    Precipitation: 26.4,\n    Temperature: 4.5,\n  },\n  {\n    Month: 'May',\n    Evaporation: 25.6,\n    Precipitation: 28.7,\n    Temperature: 6.3,\n  },\n  {\n    Month: 'Jun',\n    Evaporation: 76.7,\n    Precipitation: 70.7,\n    Temperature: 10.2,\n  },\n  {\n    Month: 'Jul',\n    Evaporation: 135.6,\n    Precipitation: 175.6,\n    Temperature: 20.3,\n  },\n  {\n    Month: 'Aug',\n    Evaporation: 162.2,\n    Precipitation: 182.2,\n    Temperature: 23.4,\n  },\n  {\n    Month: 'Sep',\n    Evaporation: 32.6,\n    Precipitation: 48.7,\n    Temperature: 23,\n  },\n  {\n    Month: 'Oct',\n    Evaporation: 20,\n    Precipitation: 18.8,\n    Temperature: 16.5,\n  },\n  {\n    Month: 'Nov',\n    Evaporation: 6.4,\n    Precipitation: 6,\n    Temperature: 12,\n  },\n  {\n    Month: 'Dec',\n    Evaporation: 3.3,\n    Precipitation: 2.3,\n    Temperature: 6.2,\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart\n  .line()\n  .encode('x', 'Month')\n  .encode('y', 'Temperature')\n  .encode('color', '#EE6666')\n  .encode('shape', 'smooth')\n  .scale('y', { independent: true, domainMax: 30 })\n  .axis('y', {\n    title: 'Temperature (°C)',\n    grid: null,\n    titleFill: '#EE6666',\n  });\n\nchart\n  .interval()\n  .encode('x', 'Month')\n  .encode('y', 'Evaporation')\n  .encode('color', '#5470C6')\n  .scale('y', { independent: true, domainMax: 200 })\n  .style('fillOpacity', 0.8)\n  .axis('y', {\n    position: 'right',\n    title: 'Evaporation (ml)',\n    titleFill: '#5470C6',\n  });\n\nchart\n  .line()\n  .encode('x', 'Month')\n  .encode('y', 'Precipitation')\n  .encode('color', '#91CC75')\n  .scale('y', { independent: true })\n  .style('lineWidth', 2)\n  .style('lineDash', [2, 2])\n  .axis('y', {\n    position: 'right',\n    title: 'Precipitation (ml)',\n    grid: null,\n    titleFill: '#91CC75',\n  });\n\nchart.render();\n",title:{zh:"多轴图",en:"Multi Axis Chart"},filename:"multi-line.ts",isNew:!1},{id:"dual-aggregated-line-area",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*J-lVRamRfgUAAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/layer_dual_axis.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/weather.json',\n  transform: [\n    {\n      type: 'filter',\n      callback: (d) => d.location === 'Seattle',\n    },\n  ],\n});\n\nchart\n  .area()\n  .transform({ type: 'groupX', y: 'mean', y1: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', ['temp_max', 'temp_min'])\n  .scale('y', { nice: true })\n  .axis('y', {\n    title: 'Avg. Temperature (°C)',\n    titleFill: '#85C5A6',\n  })\n  .style('fill', '#85c5A6')\n  .style('fillOpacity', 0.3)\n  .tooltip({ channel: 'y', valueFormatter: '.1f' })\n  .tooltip({ channel: 'y1', valueFormatter: '.1f' });\n\nchart\n  .line()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getMonth())\n  .encode('y', 'precipitation')\n  .encode('shape', 'smooth')\n  .style('stroke', 'steelblue')\n  .scale('y', { independent: true })\n  .axis('y', {\n    position: 'right',\n    grid: null,\n    title: 'Precipitation (inches)',\n    titleFill: 'steelblue',\n  })\n  .tooltip({ channel: 'y', valueFormatter: '.1f' });\n\nchart.render();\n",title:{zh:"聚合线面双轴图",en:"Aggregated Dual Line And Area Chart"},filename:"dual-aggregated-line-area.ts",isNew:!1},{id:"pareto",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dy4HQ7kqYd0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { x: 'Parking Difficult', value: 95 },\n  { x: 'Sales Rep was Rude', value: 60 },\n  { x: 'Poor Lighting', value: 45 },\n  { x: 'Layout Confusing', value: 37 },\n  { x: 'Sizes Limited', value: 30 },\n  { x: 'Clothing Faded', value: 27 },\n  { x: 'Clothing Shrank', value: 18 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.title('Pareto Chart of Customer Complaints');\n\nchart.data({\n  type: 'inline',\n  value: data,\n  transform: [\n    {\n      type: 'custom',\n      // calucate accumulate and percentage fields.\n      callback: (data) => {\n        const sum = data.reduce((r, curr) => r + curr.value, 0);\n        return data\n          .map((d) => ({ ...d, percentage: d.value / sum }))\n          .reduce((r, curr) => {\n            const v = r.length ? r[r.length - 1].accumulate : 0;\n            const accumulate = v + curr.percentage;\n            r.push({ ...curr, accumulate });\n            return r;\n          }, []);\n      },\n    },\n  ],\n});\n\nchart\n  .interval()\n  .encode('x', 'x')\n  .encode('y', 'value')\n  .style('fill', (d) => (d.percentage < 0.1 ? '#E24B26' : '#78B3F0'))\n  .scale('x', { padding: 1 / 2 })\n  .scale('y', { domainMax: 312, tickCount: 5 })\n  .axis('x', { title: null })\n  .axis('y', { title: 'Defect frequency' })\n  .label({\n    text: (d) => `${(d.percentage * 100).toFixed(1)}%`,\n    textBaseline: 'bottom',\n  });\n\nchart\n  .line()\n  .encode('x', 'x')\n  .encode('y', 'accumulate')\n  .scale('y', { independent: true, domainMin: 0, tickCount: 5 })\n  .axis('y', {\n    position: 'right',\n    title: 'Cumulative Percentage',\n    grid: null,\n    labelFormatter: (d) => `${(d * 100).toFixed(0)}%`,\n  })\n  .tooltip({\n    channel: 'y',\n    valueFormatter: (d) => `${(d * 100).toFixed(2)}%`,\n  });\n\nchart\n  .point()\n  .encode('x', 'x')\n  .encode('y', 'accumulate')\n  .encode('shape', 'diamond')\n  .scale('y', { independent: true, domainMin: 0 })\n  .axis('y', null)\n  .tooltip(null);\n\nchart.render();\n",title:{zh:"帕累托图",en:"Pareto Chart"},filename:"pareto.ts",isNew:!1},{id:"dual-axis-bar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WW9wRaGxuDAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst data = [\n  { time: '10:10', call: 4, waiting: 2, people: 2 },\n  { time: '10:15', call: 2, waiting: 6, people: 3 },\n  { time: '10:20', call: 13, waiting: 2, people: 5 },\n  { time: '10:25', call: 9, waiting: 9, people: 1 },\n  { time: '10:30', call: 5, waiting: 2, people: 3 },\n  { time: '10:35', call: 8, waiting: 2, people: 1 },\n  { time: '10:40', call: 13, waiting: 1, people: 2 },\n];\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'waiting')\n  .encode('color', () => 'waiting')\n  .encode('series', () => 'waiting')\n  .axis('y', { title: 'Waiting' });\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'people')\n  .encode('color', () => 'people')\n  .encode('series', () => 'people')\n  .scale('y', { independent: true })\n  .axis('y', { position: 'right', grid: null, title: 'People' });\n\nchart.render();\n",title:{zh:"双轴条形图",en:"Dual Axis Bar Chart"},filename:"dual-axis-bar.ts",isNew:!1},{id:"dual-axis-line-bar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FVRbQ7jbi0oAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst data = [\n  { time: '10:10', call: 4, waiting: 2, people: 2 },\n  { time: '10:15', call: 2, waiting: 6, people: 3 },\n  { time: '10:20', call: 13, waiting: 2, people: 5 },\n  { time: '10:25', call: 9, waiting: 9, people: 1 },\n  { time: '10:30', call: 5, waiting: 2, people: 3 },\n  { time: '10:35', call: 8, waiting: 2, people: 1 },\n  { time: '10:40', call: 13, waiting: 1, people: 2 },\n];\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'waiting')\n  .encode('color', () => 'waiting')\n  .encode('series', () => 'waiting')\n  .axis('y', { title: 'Waiting' })\n  .scale('y', { nice: true });\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'people')\n  .encode('color', () => 'people')\n  .encode('series', () => 'people')\n  .scale('y', { independent: true })\n  .axis('y', { position: 'right', grid: null, title: 'People' });\n\nchart\n  .line()\n  .encode('x', 'time')\n  .encode('y', 'call')\n  .encode('color', () => 'call')\n  .scale('series', { independent: true });\n\nchart.render();\n",title:{zh:"双轴折线条形图",en:"Dual Axis Line Bar Chart"},filename:"dual-axis-line-bar.ts",isNew:!1},{id:"dual-axis-multi-line-bar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*gER1QbKH7IIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst data = [\n  { time: '10:10', call: 4, waiting: 2, people: 2, mock: 3 },\n  { time: '10:15', call: 2, waiting: 6, people: 3, mock: 4 },\n  { time: '10:20', call: 13, waiting: 2, people: 5, mock: 1 },\n  { time: '10:25', call: 9, waiting: 9, people: 1, mock: 2 },\n  { time: '10:30', call: 5, waiting: 2, people: 3, mock: 5 },\n  { time: '10:35', call: 8, waiting: 2, people: 1, mock: 3 },\n  { time: '10:40', call: 13, waiting: 1, people: 2, mock: 2 },\n];\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'waiting')\n  .encode('color', () => 'waiting')\n  .encode('series', () => 'waiting')\n  .axis('y', { title: null })\n  .scale('y', { nice: true });\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'people')\n  .encode('color', () => 'people')\n  .encode('series', () => 'people')\n  .scale('y', { key: '2' })\n  .axis('y', { position: 'right', grid: null, title: null });\n\nchart\n  .line()\n  .encode('x', 'time')\n  .encode('y', 'call')\n  .encode('color', () => 'call')\n  .scale('series', { independent: true });\n\nchart\n  .line()\n  .encode('x', 'time')\n  .encode('y', 'mock')\n  .encode('color', () => 'mock')\n  .scale('y', { key: '2' })\n  .scale('series', { independent: true });\n\nchart.render();\n",title:{zh:"双轴多折线条形图",en:"Dual Axis Multiple Line Bar Chart"},filename:"dual-axis-multi-line-bar.ts",isNew:!1},{id:"dual-axis-stacked-group-bar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lfupS49PdxAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst data = [\n  { time: '10:10', call: 4, waiting: 2, people: 2, mock: 3 },\n  { time: '10:15', call: 2, waiting: 6, people: 3, mock: 4 },\n  { time: '10:20', call: 13, waiting: 2, people: 5, mock: 1 },\n  { time: '10:25', call: 9, waiting: 9, people: 1, mock: 2 },\n  { time: '10:30', call: 5, waiting: 2, people: 3, mock: 5 },\n  { time: '10:35', call: 8, waiting: 2, people: 1, mock: 3 },\n  { time: '10:40', call: 13, waiting: 1, people: 2, mock: 2 },\n];\n\nchart.data(data);\n\nchart\n  .interval()\n  .data({\n    transform: [{ type: 'fold', fields: ['call', 'waiting'] }],\n  })\n  .encode('x', 'time')\n  .encode('y', 'value')\n  .encode('color', 'key')\n  .encode('series', () => 'a')\n  .transform({ type: 'stackY' })\n  .scale('y', { nice: true })\n  .axis('y', { title: null });\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'people')\n  .encode('color', () => 'people')\n  .encode('series', () => 'b');\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'mock')\n  .encode('color', () => 'mock')\n  .encode('series', () => 'c')\n  .scale('y', { independent: true })\n  .axis('y', { position: 'right' });\n\nchart.render();\n",title:{zh:"双轴堆叠分组条形图",en:"Dual Axis Stacked Group Bar Chart"},filename:"dual-axis-stacked-group-bar.ts",isNew:!1},{id:"multi-line-sync",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8gQaSIiwhDkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nfunction syncTicksOfDomainsFromZero(scales) {\n  scales.forEach((scale) => scale.update({ nice: true }));\n  const normalize = (d) => d / Math.pow(10, Math.ceil(Math.log(d) / Math.LN10));\n  const maxes = scales.map((scale) => scale.getOptions().domain[1]);\n  const normalized = maxes.map(normalize);\n  const normalizedMax = Math.max(...normalized);\n  for (let i = 0; i < scales.length; i++) {\n    const scale = scales[i];\n    const domain = scale.getOptions().domain;\n    const t = maxes[i] / normalized[i];\n    const newDomainMax = normalizedMax * t;\n    scale.update({ domain: [domain[0], newDomainMax] });\n  }\n}\n\nconst data = [\n  {\n    Month: 'Jan',\n    Evaporation: 2,\n    Precipitation: 2.6,\n    Temperature: 2,\n  },\n  {\n    Month: 'Feb',\n    Evaporation: 4.9,\n    Precipitation: 5.9,\n    Temperature: 2.2,\n  },\n  {\n    Month: 'Mar',\n    Evaporation: 7,\n    Precipitation: 9,\n    Temperature: 3.3,\n  },\n  {\n    Month: 'Apr',\n    Evaporation: 23.2,\n    Precipitation: 26.4,\n    Temperature: 4.5,\n  },\n  {\n    Month: 'May',\n    Evaporation: 25.6,\n    Precipitation: 28.7,\n    Temperature: 6.3,\n  },\n  {\n    Month: 'Jun',\n    Evaporation: 76.7,\n    Precipitation: 70.7,\n    Temperature: 10.2,\n  },\n  {\n    Month: 'Jul',\n    Evaporation: 135.6,\n    Precipitation: 175.6,\n    Temperature: 20.3,\n  },\n  {\n    Month: 'Aug',\n    Evaporation: 162.2,\n    Precipitation: 182.2,\n    Temperature: 23.4,\n  },\n  {\n    Month: 'Sep',\n    Evaporation: 32.6,\n    Precipitation: 48.7,\n    Temperature: 23,\n  },\n  {\n    Month: 'Oct',\n    Evaporation: 20,\n    Precipitation: 18.8,\n    Temperature: 16.5,\n  },\n  {\n    Month: 'Nov',\n    Evaporation: 6.4,\n    Precipitation: 6,\n    Temperature: 12,\n  },\n  {\n    Month: 'Dec',\n    Evaporation: 3.3,\n    Precipitation: 2.3,\n    Temperature: 6.2,\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart\n  .line()\n  .encode('x', 'Month')\n  .encode('y', 'Temperature')\n  .encode('color', '#EE6666')\n  .encode('shape', 'smooth')\n  .scale('y', {\n    independent: true,\n    groupTransform: syncTicksOfDomainsFromZero,\n  })\n  .axis('y', {\n    title: 'Temperature (°C)',\n    grid: null,\n    titleFill: '#EE6666',\n  });\n\nchart\n  .interval()\n  .encode('x', 'Month')\n  .encode('y', 'Evaporation')\n  .encode('color', '#5470C6')\n  .scale('y', { independent: true })\n  .style('fillOpacity', 0.8)\n  .axis('y', {\n    position: 'right',\n    title: 'Evaporation (ml)',\n    titleFill: '#5470C6',\n  });\n\nchart\n  .line()\n  .encode('x', 'Month')\n  .encode('y', 'Precipitation')\n  .encode('color', '#91CC75')\n  .scale('y', { independent: true })\n  .style('lineWidth', 2)\n  .style('lineDash', [2, 2])\n  .axis('y', {\n    position: 'right',\n    title: 'Precipitation (ml)',\n    grid: null,\n    titleFill: '#91CC75',\n  });\n\nchart.render();\n",title:{zh:"多轴图同步刻度",en:"Sync Multi Axis Chart"},filename:"multi-line-sync.ts",isNew:!1}],icon:"",id:"dual",title:{en:"Dual",zh:"多轴图"},api:null,childrenKey:"demos",order:6},{demos:[{id:"rose",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Trl1TqdieqIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 720,\n  height: 720,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .interval()\n  .transform({ type: 'groupX', y: 'sum' })\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/87b2ff47-2a33-4509-869c-dae4cdd81163.csv',\n  })\n  .encode('x', 'year')\n  .encode('y', 'people')\n  .scale('y', { type: 'sqrt' })\n  .axis('y', {\n    titleSpacing: 28,\n    labelFormatter: '~s',\n    tickCount: 5,\n    tickFilter: (d, i) => i !== 0,\n    direction: 'right',\n  })\n  .animate('enter', { type: 'waveIn' })\n  .tooltip({ channel: 'y', valueFormatter: '~s' });\n\nchart.render();\n",title:{zh:"玫瑰图",en:"Rose Chart"},filename:"rose.ts",isNew:!1},{id:"stacked-rose",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*W9NLQriv7w0AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/radial-stacked-bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  height: 800,\n});\n\nconst colors = [\n  '#98abc5',\n  '#8a89a6',\n  '#7b6888',\n  '#6b486b',\n  '#a05d56',\n  '#d0743c',\n  '#ff8c00',\n];\n\nchart.coordinate({ type: 'polar', innerRadius: 0.4 });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/d582a447-2057-4a74-97ed-1d73a5459ea4.csv',\n    transform: [\n      {\n        type: 'fold',\n        fields: [\n          'Under 5 Years',\n          '5 to 13 Years',\n          '14 to 17 Years',\n          '18 to 24 Years',\n          '25 to 44 Years',\n          '45 to 64 Years',\n          '65 Years and Over',\n        ],\n        key: 'Age',\n        value: 'Population',\n      },\n    ],\n  })\n  .transform({ type: 'stackY' })\n  .encode('x', 'State')\n  .encode('y', 'Population')\n  .encode('color', 'Age')\n  .scale('color', { range: colors })\n  .legend('color', { position: 'center', display: 'grid', gridCol: 1 })\n  .scale('y', { type: 'sqrt' })\n  .axis('y', {\n    labelFormatter: '~s',\n    tickFilter: (_, i) => i !== 0,\n    direction: 'center',\n  })\n  .axis('x', { position: 'inner' })\n  .animate('enter', { type: 'waveIn' });\n\nchart.render();\n",title:{zh:"堆叠玫瑰图",en:"Stacked Rose Chart"},filename:"stacked-rose.ts",isNew:!1},{id:"rose-label",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rS9YT4GTFLgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 720,\n  height: 720,\n});\n\nchart.coordinate({ type: 'polar', outerRadius: 0.85 });\n\nchart\n  .interval()\n  .transform({ type: 'groupX', y: 'sum' })\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/87b2ff47-2a33-4509-869c-dae4cdd81163.csv',\n  })\n  .encode('x', 'year')\n  .encode('color', 'year')\n  .encode('y', 'people')\n  .scale('y', { type: 'sqrt' })\n  .scale('x', { padding: 0 })\n  .axis(false)\n  .label({\n    text: 'people',\n    position: 'outside',\n    formatter: '~s',\n    transform: [{ type: 'overlapDodgeY' }],\n  })\n  .legend({ color: { length: 400, layout: { justifyContent: 'center' } } })\n  .animate('enter', { type: 'waveIn' })\n  .tooltip({ channel: 'y', valueFormatter: '~s' });\n\nchart.render();\n",title:{zh:"玫瑰图标签",en:"Rose Chart, Label"},filename:"rose-label.ts",isNew:!1},{id:"wind-rose",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*pu1LTrmzMyUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { direction: 'N', level: '< 0.5 m/s', value: 1.81 },\n  { direction: 'N', level: '0.5-2 m/s', value: 1.78 },\n  { direction: 'N', level: '2-4 m/s', value: 0.16 },\n  { direction: 'N', level: '4-6 m/s', value: 0.0 },\n  { direction: 'N', level: '6-8 m/s', value: 0.0 },\n  { direction: 'N', level: '8-10 m/s', value: 0.0 },\n  { direction: 'N', level: '> 10 m/s', value: 0.0 },\n  { direction: 'NNE', level: '< 0.5 m/s', value: 0.62 },\n  { direction: 'NNE', level: '0.5-2 m/s', value: 1.09 },\n  { direction: 'NNE', level: '2-4 m/s', value: 0.0 },\n  { direction: 'NNE', level: '4-6 m/s', value: 0.0 },\n  { direction: 'NNE', level: '6-8 m/s', value: 0.0 },\n  { direction: 'NNE', level: '8-10 m/s', value: 0.0 },\n  { direction: 'NNE', level: '> 10 m/s', value: 0.0 },\n  { direction: 'NE', level: '< 0.5 m/s', value: 0.82 },\n  { direction: 'NE', level: '0.5-2 m/s', value: 0.82 },\n  { direction: 'NE', level: '2-4 m/s', value: 0.07 },\n  { direction: 'NE', level: '4-6 m/s', value: 0.0 },\n  { direction: 'NE', level: '6-8 m/s', value: 0.0 },\n  { direction: 'NE', level: '8-10 m/s', value: 0.0 },\n  { direction: 'NE', level: '> 10 m/s', value: 0.0 },\n  { direction: 'ENE', level: '< 0.5 m/s', value: 0.59 },\n  { direction: 'ENE', level: '0.5-2 m/s', value: 1.22 },\n  { direction: 'ENE', level: '2-4 m/s', value: 0.07 },\n  { direction: 'ENE', level: '4-6 m/s', value: 0.0 },\n  { direction: 'ENE', level: '6-8 m/s', value: 0.0 },\n  { direction: 'ENE', level: '8-10 m/s', value: 0.0 },\n  { direction: 'ENE', level: '> 10 m/s', value: 0.0 },\n  { direction: 'E', level: '< 0.5 m/s', value: 0.62 },\n  { direction: 'E', level: '0.5-2 m/s', value: 2.2 },\n  { direction: 'E', level: '2-4 m/s', value: 0.49 },\n  { direction: 'E', level: '4-6 m/s', value: 0.0 },\n  { direction: 'E', level: '6-8 m/s', value: 0.0 },\n  { direction: 'E', level: '8-10 m/s', value: 0.0 },\n  { direction: 'E', level: '> 10 m/s', value: 0.0 },\n  { direction: 'ESE', level: '< 0.5 m/s', value: 1.22 },\n  { direction: 'ESE', level: '0.5-2 m/s', value: 2.01 },\n  { direction: 'ESE', level: '2-4 m/s', value: 1.55 },\n  { direction: 'ESE', level: '4-6 m/s', value: 0.3 },\n  { direction: 'ESE', level: '6-8 m/s', value: 0.13 },\n  { direction: 'ESE', level: '8-10 m/s', value: 0.0 },\n  { direction: 'ESE', level: '> 10 m/s', value: 0.0 },\n  { direction: 'SE', level: '< 0.5 m/s', value: 1.61 },\n  { direction: 'SE', level: '0.5-2 m/s', value: 3.06 },\n  { direction: 'SE', level: '2-4 m/s', value: 2.37 },\n  { direction: 'SE', level: '4-6 m/s', value: 2.14 },\n  { direction: 'SE', level: '6-8 m/s', value: 1.74 },\n  { direction: 'SE', level: '8-10 m/s', value: 0.39 },\n  { direction: 'SE', level: '> 10 m/s', value: 0.13 },\n  { direction: 'SSE', level: '< 0.5 m/s', value: 2.04 },\n  { direction: 'SSE', level: '0.5-2 m/s', value: 3.42 },\n  { direction: 'SSE', level: '2-4 m/s', value: 1.97 },\n  { direction: 'SSE', level: '4-6 m/s', value: 0.86 },\n  { direction: 'SSE', level: '6-8 m/s', value: 0.53 },\n  { direction: 'SSE', level: '8-10 m/s', value: 0.49 },\n  { direction: 'SSE', level: '> 10 m/s', value: 0.0 },\n  { direction: 'S', level: '< 0.5 m/s', value: 2.66 },\n  { direction: 'S', level: '0.5-2 m/s', value: 4.74 },\n  { direction: 'S', level: '2-4 m/s', value: 0.64 },\n  { direction: 'S', level: '4-6 m/s', value: 0.0 },\n  { direction: 'S', level: '6-8 m/s', value: 0.0 },\n  { direction: 'S', level: '8-10 m/s', value: 0.49 },\n  { direction: 'S', level: '> 10 m/s', value: 0.0 },\n  { direction: 'SSW', level: '< 0.5 m/s', value: 2.96 },\n  { direction: 'SSW', level: '0.5-2 m/s', value: 4.23 },\n  { direction: 'SSW', level: '2-4 m/s', value: 0.34 },\n  { direction: 'SSW', level: '4-6 m/s', value: 1.03 },\n  { direction: 'SSW', level: '6-8 m/s', value: 0.3 },\n  { direction: 'SSW', level: '8-10 m/s', value: 0.0 },\n  { direction: 'SSW', level: '> 10 m/s', value: 0.0 },\n  { direction: 'SW', level: '< 0.5 m/s', value: 2.53 },\n  { direction: 'SW', level: '0.5-2 m/s', value: 4.01 },\n  { direction: 'SW', level: '2-4 m/s', value: 1.22 },\n  { direction: 'SW', level: '4-6 m/s', value: 0.49 },\n  { direction: 'SW', level: '6-8 m/s', value: 0.13 },\n  { direction: 'SW', level: '8-10 m/s', value: 0.0 },\n  { direction: 'SW', level: '> 10 m/s', value: 0.0 },\n  { direction: 'WSW', level: '< 0.5 m/s', value: 1.97 },\n  { direction: 'WSW', level: '0.5-2 m/s', value: 2.66 },\n  { direction: 'WSW', level: '2-4 m/s', value: 1.97 },\n  { direction: 'WSW', level: '4-6 m/s', value: 0.79 },\n  { direction: 'WSW', level: '6-8 m/s', value: 0.3 },\n  { direction: 'WSW', level: '8-10 m/s', value: 0.0 },\n  { direction: 'WSW', level: '> 10 m/s', value: 0.0 },\n  { direction: 'W', level: '< 0.5 m/s', value: 1.64 },\n  { direction: 'W', level: '0.5-2 m/s', value: 1.71 },\n  { direction: 'W', level: '2-4 m/s', value: 0.92 },\n  { direction: 'W', level: '4-6 m/s', value: 1.45 },\n  { direction: 'W', level: '6-8 m/s', value: 0.26 },\n  { direction: 'W', level: '8-10 m/s', value: 0.1 },\n  { direction: 'W', level: '> 10 m/s', value: 0.0 },\n  { direction: 'WNW', level: '< 0.5 m/s', value: 1.32 },\n  { direction: 'WNW', level: '0.5-2 m/s', value: 2.4 },\n  { direction: 'WNW', level: '2-4 m/s', value: 0.99 },\n  { direction: 'WNW', level: '4-6 m/s', value: 1.61 },\n  { direction: 'WNW', level: '6-8 m/s', value: 0.33 },\n  { direction: 'WNW', level: '8-10 m/s', value: 0.0 },\n  { direction: 'WNW', level: '> 10 m/s', value: 0.0 },\n  { direction: 'NW', level: '< 0.5 m/s', value: 1.58 },\n  { direction: 'NW', level: '0.5-2 m/s', value: 4.28 },\n  { direction: 'NW', level: '2-4 m/s', value: 1.28 },\n  { direction: 'NW', level: '4-6 m/s', value: 0.76 },\n  { direction: 'NW', level: '6-8 m/s', value: 0.66 },\n  { direction: 'NW', level: '8-10 m/s', value: 0.69 },\n  { direction: 'NW', level: '> 10 m/s', value: 0.03 },\n  { direction: 'NNW', level: '< 0.5 m/s', value: 1.51 },\n  { direction: 'NNW', level: '0.5-2 m/s', value: 5.0 },\n  { direction: 'NNW', level: '2-4 m/s', value: 1.32 },\n  { direction: 'NNW', level: '4-6 m/s', value: 0.13 },\n  { direction: 'NNW', level: '6-8 m/s', value: 0.23 },\n  { direction: 'NNW', level: '8-10 m/s', value: 0.13 },\n  { direction: 'NNW', level: '> 10 m/s', value: 0.07 },\n];\n\nconst colors = [\n  '#E3F4BF',\n  '#BEF7C8',\n  '#86E6C8',\n  '#36CFC9',\n  '#209BDD',\n  '#1581E6',\n  '#0860BF',\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 720,\n  padding: 50,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', 'direction')\n  .encode('y', 'value')\n  .encode('color', 'level')\n  .encode('size', 18)\n  .transform([{ type: 'stackY' }])\n  .tooltip({\n    title: (d) => d.direction,\n    items: [\n      (d, i, data, column) => ({\n        name: d.level,\n        value: d.value,\n        channel: 'y',\n      }),\n    ],\n  })\n  .interaction('tooltip', {\n    shared: true,\n  })\n  .scale('color', { range: colors })\n  .axis('x', {\n    line: true,\n    grid: true,\n    gridLineDash: [0, 0],\n    gridLineWidth: 1,\n  })\n  .axis('y', {\n    title: false,\n    line: true,\n    gridLineWidth: 1,\n  });\n\nchart.render();\n",title:{en:"Wind Rose",zh:"Wind Rose"},filename:"wind-rose.ts",isNew:!1},{id:"nightingale-rose",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dHw7RYx7V3cAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nconst data = [\n  { year: '2001', population: 41.8 },\n  { year: '2002', population: 38 },\n  { year: '2003', population: 33.7 },\n  { year: '2004', population: 30.7 },\n  { year: '2005', population: 25.8 },\n  { year: '2006', population: 31.7 },\n  { year: '2007', population: 33 },\n  { year: '2008', population: 46 },\n  { year: '2009', population: 38.3 },\n  { year: '2010', population: 28 },\n  { year: '2011', population: 42.5 },\n  { year: '2012', population: 30.3 },\n];\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 720,\n  width: 720,\n});\nchart.coordinate({ type: 'polar' });\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', 'year')\n  .encode('y', 'population')\n  .scale('x', { padding: 0 })\n  .style({\n    lineWidth: 1,\n    stroke: '#fff',\n  })\n  .axis(false)\n  .label({\n    text: 'year',\n    fontSize: 16,\n    fontWeight: 800,\n    position: 'inside',\n  })\n  .state('active', {\n    fill: '#288AFF',\n    stroke: 'black',\n    lineWidth: 1,\n    zIndex: 101,\n  })\n  .state('inactive', { opacity: 0.5, zIndex: 100 });\n\nchart.interaction('elementHighlight', true);\n\nchart.render();\n",title:{zh:"南丁格尔玫瑰图",en:"Nightingale Rose"},filename:"nightingale-rose.ts",isNew:!1},{id:"donut-rose",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FZtzRbGNkRMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nconst data = [\n  { year: '2001', population: 41.8 },\n  { year: '2002', population: 38 },\n  { year: '2003', population: 33.7 },\n  { year: '2004', population: 30.7 },\n  { year: '2005', population: 25.8 },\n  { year: '2006', population: 31.7 },\n  { year: '2007', population: 33 },\n  { year: '2008', population: 46 },\n  { year: '2009', population: 38.3 },\n  { year: '2010', population: 28 },\n  { year: '2011', population: 42.5 },\n  { year: '2012', population: 30.3 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  width: 720,\n  height: 720,\n});\n\nchart.coordinate({ type: 'polar', innerRadius: 0.2 });\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', 'year')\n  .encode('y', 'population')\n  .encode('color', 'year')\n  .scale('x', { padding: 0 })\n\n  .axis(false)\n  .tooltip({\n    title: (d) => d.year,\n    items: [\n      (d, i, data, column) => ({\n        name: d.year,\n        value: d.population,\n        channel: 'y',\n      }),\n    ],\n  })\n  .legend({\n    color: {\n      position: 'right',\n      layout: {\n        justifyContent: 'center',\n      },\n    },\n  })\n  .state('active', { stroke: 'black', lineWidth: 1, zIndex: 101 })\n  .state('inactive', { opacity: 0.5, zIndex: 100 })\n  .style({\n    lineWidth: 1,\n    stroke: '#fff',\n  });\n\nchart.interaction('elementHighlight', true);\n\nchart.render();\n",title:{zh:"南丁格尔玫瑰环图",en:""},filename:"donut-rose.ts",isNew:!1},{id:"polar-stack",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JWPuSIRzU_MAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { year: '2000', '类型 A': 21.0, '类型 B': 16, '类型 C': 8 },\n  { year: '2001', '类型 A': 25.0, '类型 B': 16, '类型 C': 8 },\n  { year: '2002', '类型 A': 25.0, '类型 B': 15, '类型 C': 8 },\n  { year: '2003', '类型 A': 25.0, '类型 B': 14, '类型 C': 7 },\n  { year: '2004', '类型 A': 25.0, '类型 B': 14, '类型 C': 7 },\n  { year: '2005', '类型 A': 24.0, '类型 B': 13, '类型 C': 8 },\n  { year: '2006', '类型 A': 24.0, '类型 B': 14, '类型 C': 7 },\n  { year: '2007', '类型 A': 26.0, '类型 B': 16, '类型 C': 7 },\n  { year: '2008', '类型 A': 26.0, '类型 B': 15.2, '类型 C': 8 },\n  { year: '2009', '类型 A': 27.1, '类型 B': 15.2, '类型 C': 10 },\n  { year: '2010', '类型 A': 27.5, '类型 B': 15.4, '类型 C': 8 },\n  { year: '2011', '类型 A': 26.4, '类型 B': 15.2, '类型 C': 9 },\n  { year: '2012', '类型 A': 28.8, '类型 B': 15.4, '类型 C': 9 },\n  { year: '2013', '类型 A': 33.3, '类型 B': 16.7, '类型 C': 12 },\n  { year: '2014', '类型 A': 38.2, '类型 B': 19.5, '类型 C': 18 },\n];\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  width: 720,\n  height: 720,\n});\n\nchart.coordinate({ type: 'polar', innerRadius: 0.1 });\n\nchart\n  .interval()\n  .data({\n    value: data,\n    transform: [\n      {\n        type: 'fold',\n        fields: ['类型 A', '类型 B', '类型 C'],\n        key: '难民类型',\n        value: 'count',\n      },\n    ],\n  })\n\n  .encode('x', 'year')\n  .encode('y', 'count')\n  .encode('color', '难民类型')\n  .scale('x', { padding: 0 })\n  .style({\n    lineWidth: 1,\n    stroke: '#fff',\n  })\n  .transform([{ type: 'stackY' }])\n  .axis('x', {\n    line: true,\n    grid: true,\n    gridLineDash: [0, 0],\n    gridLineWidth: 1,\n  })\n  .axis('y', {\n    title: false,\n    line: true,\n    gridLineWidth: 1,\n  })\n  .legend({\n    color: {\n      position: 'bottom',\n      layout: {\n        justifyContent: 'center',\n      },\n    },\n  })\n  .state('active', { stroke: 'black', lineWidth: 1, zIndex: 101 })\n  .state('inactive', { opacity: 0.5, zIndex: 100 });\n\nchart.interaction('tooltip', {\n  body: false,\n  crosshairsStroke: 'red',\n  crosshairsStrokeWidth: 4,\n});\n\nchart.interaction('elementHighlight', true);\n\nchart.render();\n",title:{en:"stacked column chart in polar coordinate",zh:"极坐标下的层叠柱状图"},filename:"polar-stack.ts",isNew:!1}],icon:"",id:"rose",title:{en:"Rose",zh:"玫瑰图"},api:null,childrenKey:"demos",order:6},{demos:[{id:"bar-radial",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TVXmRq627aEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'radial', innerRadius: 0.1, endAngle: Math.PI });\n\nchart\n  .interval()\n  .data([\n    { question: '问题 1', percent: 0.21 },\n    { question: '问题 2', percent: 0.4 },\n    { question: '问题 3', percent: 0.49 },\n    { question: '问题 4', percent: 0.52 },\n    { question: '问题 5', percent: 0.53 },\n    { question: '问题 6', percent: 0.84 },\n    { question: '问题 7', percent: 1.0 },\n    { question: '问题 8', percent: 1.2 },\n  ])\n  .encode('x', 'question')\n  .encode('y', 'percent')\n  .encode('color', 'percent')\n  .style('stroke', 'white')\n  .scale('color', {\n    range: '#BAE7FF-#1890FF-#0050B3',\n  })\n  .axis('y', { tickFilter: (d, i) => i !== 0 })\n  .legend({\n    color: {\n      length: 400,\n      position: 'bottom',\n      layout: { justifyContent: 'center' },\n    },\n  })\n  .animate('enter', { type: 'waveIn', duration: 800 });\n\nchart.render();\n",title:{zh:"玉珏图",en:"Radial Bar Chart"},filename:"bar-radial.ts",isNew:!1},{id:"bar-cornered-radial",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2Xd0Sq0iq7gAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'radial', endAngle: Math.PI });\n\nchart\n  .interval()\n  .data({\n    // Data is collected by the end of 2022.11.09\n    value: [\n      { name: 'G', star: 814 },\n      { name: 'G2', star: 11425 },\n      { name: 'G2Plot', star: 2320 },\n      { name: 'S2', star: 968 },\n      { name: 'F2', star: 7346 },\n      { name: 'L7', star: 2888 },\n      { name: 'G6', star: 9314 },\n      { name: 'X6', star: 3985 },\n      { name: 'AVA', star: 1151 },\n    ],\n    transform: [{ type: 'sortBy', fields: [['star', true]] }],\n  })\n  .encode('x', 'name')\n  .encode('y', 'star')\n  .scale('y', { type: 'sqrt' })\n  .encode('color', 'name')\n  .encode('size', 40)\n  .style('radius', 20)\n  .label({\n    text: 'star',\n    position: 'outside',\n    autoRotate: true,\n    rotateToAlignArc: true,\n    dx: 4,\n  })\n  .axis('x', { title: false })\n  .axis('y', false)\n  .animate('enter', { type: 'waveIn', duration: 1000 });\n\nchart.render();\n",title:{zh:"圆角玉珏图",en:"Cornered Radial Bar Chart"},filename:"bar-cornered-radial.ts",isNew:!1},{id:"apple-activity",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*o3j-SZCiTZwAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 244,\n  height: 244,\n});\n\nchart\n  .data([\n    {\n      name: 'activity1',\n      percent: 0.6,\n      color: '#1ad5de',\n      icon: 'https://gw.alipayobjects.com/zos/antfincdn/ck11Y6aRrz/shangjiantou.png',\n    },\n    {\n      name: 'activity2',\n      percent: 0.2,\n      color: '#a0ff03',\n      icon: 'https://gw.alipayobjects.com/zos/antfincdn/zY2JB7hhrO/shuangjiantou.png',\n    },\n    {\n      name: 'activity3',\n      percent: 0.3,\n      color: '#e90b3a',\n      icon: 'https://gw.alipayobjects.com/zos/antfincdn/%24qBxSxdK05/jiantou.png',\n    },\n  ])\n  .coordinate({ type: 'radial', innerRadius: 0.2 });\n\nchart\n  .interval()\n  .encode('x', 'name')\n  .encode('y', 1)\n  .encode('size', 52)\n  .encode('color', 'color')\n  .scale('color', { type: 'identity' })\n  .style('fillOpacity', 0.25)\n  .animate(false);\n\nchart\n  .interval()\n  .encode('x', 'name')\n  .encode('y', 'percent')\n  .encode('color', 'color')\n  .encode('size', 52)\n  .style('radius', 26)\n  .style('shadowColor', 'rgba(0,0,0,0.45)')\n  .style('shadowBlur', 20)\n  .style('shadowOffsetX', -2)\n  .style('shadowOffsetY', -5)\n  .axis(false)\n  .animate('enter', {\n    type: 'waveIn',\n    easing: 'easing-out-bounce',\n    duration: 1000,\n  });\n\nchart\n  .image()\n  .encode('x', 'name')\n  .encode('y', 0)\n  .encode('src', (d) => d.icon)\n  .encode('size', 12)\n  .style('transform', 'translateX(10)');\n\nchart.render();\n",title:{zh:"Apple 活动图",en:"Apple Activity"},filename:"apple-activity.ts",isNew:!1},{id:"radial-bar-with-background",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9FxwQIEcoDMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { type: '1-3秒', value: 0.16 },\n  { type: '4-10秒', value: 0.125 },\n  { type: '11-30秒', value: 0.2 },\n  { type: '1-3分', value: 0.2 },\n  { type: '3-10分', value: 0.05 },\n  { type: '10-30分', value: 0.01 },\n  { type: '30+分', value: 0.015 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  theme: 'dark',\n});\n\nchart.data(data).coordinate({ type: 'radial', innerRadius: 0.35 });\n\nchart\n  .interval()\n  .encode('x', 'type')\n  .encode('y', 0.2)\n  .style('fill', '#202020')\n  .state({\n    active: { strokeWidth: 0 },\n  })\n  .tooltip(false);\n\nchart\n  .interval()\n  .encode('x', 'type')\n  .encode('y', 'value')\n  .encode('color', [\n    (val) => (val.type === '10-30分' || val.type === '30+分' ? 'high' : 'low'),\n  ])\n  .scale('color', { range: ['#5B8FF9', '#ff4d4f'] })\n  .style('radius', 20)\n  .tooltip([\n    (item) => ({\n      name: item.type,\n      value: item.value,\n    }),\n  ])\n  .axis(false)\n  .legend(false)\n  .state({\n    active: { stroke: '#fff', strokeWidth: 1 },\n  })\n  .interaction('elementHighlight');\n\nchart\n  .image()\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('width', 100)\n  .style('height', 80)\n  .encode(\n    'src',\n    'https://gw.alipayobjects.com/mdn/rms_ef85c6/afts/img/A*0DYiQKP08cQAAAAAAAAAAAAAARQnAQ',\n  )\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"带背景的玉珏图",en:"Radial bar chart with background"},filename:"radial-bar-with-background.ts",isNew:!1},{id:"radial-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*T3NtSLBLc0sAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { State: 'WY', 小于5岁: 25635, '5至13岁': 1890, '14至17岁': 9314 },\n  { State: 'DC', 小于5岁: 30352, '5至13岁': 20439, '14至17岁': 10225 },\n  { State: 'VT', 小于5岁: 38253, '5至13岁': 42538, '14至17岁': 15757 },\n  { State: 'ND', 小于5岁: 51896, '5至13岁': 67358, '14至17岁': 18794 },\n  { State: 'AK', 小于5岁: 72083, '5至13岁': 85640, '14至17岁': 22153 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'radial' });\n\nchart\n  .interval()\n  .data({\n    value: data,\n    transform: [\n      {\n        type: 'fold',\n        fields: ['小于5岁', '5至13岁', '14至17岁'],\n        key: '年龄段',\n        value: '人口数量',\n        retains: ['State'],\n      },\n    ],\n  })\n  .encode('x', 'State')\n  .encode('y', '人口数量')\n  .encode('color', '年龄段')\n  .scale('y', { domainMax: 200000 })\n  .scale('color', { range: ['#6395FA', '#62DAAB', '#657798'] })\n  .transform({ type: 'stackY' })\n  .axis({\n    x: {\n      title: false,\n      line: true,\n    },\n    y: {\n      line: true,\n      grid: true,\n      gridLineDash: [4, 4],\n      tickCount: 10,\n      tickFilter: (datum) => datum != 200000,\n    },\n  })\n  .legend({\n    color: {\n      position: 'bottom',\n      layout: { justifyContent: 'center' },\n    },\n  })\n  .interaction('elementHighlightByX')\n  .interaction('tooltip', {\n    shared: true,\n  });\n\nchart.render();\n",title:{en:"Radial stacked bar chart",zh:"径向堆叠条形图"},filename:"radial-stacked.ts",isNew:!1},{id:"radial-line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*h3MESLqnM4QAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { term: 'Zombieland', count: 9 },\n  { term: 'Wieners', count: 8 },\n  { term: 'Toy Story', count: 8 },\n  { term: 'trashkannon', count: 7 },\n  { term: 'the GROWLERS', count: 6 },\n  { term: 'mudweiser', count: 6 },\n  { term: 'ThunderCats', count: 4 },\n  { term: 'The Taqwacores - Motion Picture', count: 4 },\n  { term: 'The Shawshank Redemption', count: 2 },\n  { term: 'The Olivia Experiment', count: 1 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  padding: 50,\n});\n\nchart\n  .data(data)\n  .coordinate({ type: 'radial', innerRadius: 0.2, endAngle: Math.PI });\n\nchart\n  .interval()\n  .encode('x', 'term')\n  .encode('y', 'count')\n  .encode('size', 5)\n  .axis({\n    y: false,\n    x: {\n      title: false,\n    },\n  });\n\nchart\n  .point()\n  .encode('x', 'term')\n  .encode('y', 'count')\n  .encode('shape', 'point')\n  .encode('size', 4)\n  .tooltip({\n    title: (item) => item.term,\n    items: [\n      (item) => ({\n        name: 'count',\n        value: item.count,\n      }),\n    ],\n  });\n\nchart\n  .text()\n  .style('text', 'Music')\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('textAlign', 'center')\n  .style('fontSize', 24);\n\nchart.render();\n",title:{en:"Radial bar chart",zh:"径向条形图"},filename:"radial-line.ts",isNew:!1}],icon:"",id:"radial",title:{en:"Radial",zh:"径向图"},api:null,childrenKey:"demos",order:7},{demos:[{id:"voronoi",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*pohxT40PSroAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport * as d3 from 'd3-voronoi';\n\nconst layout = (data) => {\n  return d3\n    .voronoi()\n    .x((d) => d.x)\n    .y((d) => d.y)\n    .extent([\n      [0, 0],\n      [800, 600],\n    ])\n    .polygons(data)\n    .map((p) =>\n      Object.assign({}, p, {\n        x: p.map((pi) => pi[0]),\n        y: p.map((pi) => pi[1]),\n      }),\n    );\n};\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingLeft: 0,\n  paddingRight: 0,\n  paddingTop: 0,\n  paddingBottom: 0,\n});\n\nchart\n  .polygon()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/voronoi.json',\n    transform: [\n      {\n        type: 'custom',\n        callback: layout,\n      },\n    ],\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', (d) => d.data.value)\n  .scale('x', { domain: [0, 800] })\n  .scale('y', { domain: [0, 600] })\n  .axis(false)\n  .style('stroke', '#fff')\n  .style('fillOpacity', 0.65);\n\nchart.render();\n",title:{zh:"沃罗诺伊图",en:"Voronoi"},filename:"voronoi.ts",isNew:!1},{id:"treemap",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WKfRQ7tK0aYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport * as d3 from 'd3-hierarchy';\n\nconst layout = (data) => {\n  const root = d3.hierarchy(data);\n  root.count();\n  d3.treemap().size([1, 1])(root);\n  return root\n    .descendants()\n    .map((d) =>\n      Object.assign(d, {\n        x: [d.x0, d.x1, d.x1, d.x0],\n        y: [d.y0, d.y0, d.y1, d.y1],\n      }),\n    )\n    .filter((d) => d.height === 0);\n};\nconst name = (d) => {\n  const { name } = d.data;\n  return name.length > 5 ? name.slice(0, 4) + '...' : name;\n};\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingLeft: 4,\n  paddingBottom: 4,\n  paddingRight: 4,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/5155ef81-db23-49f3-b72b-d436a219d289.json',\n    transform: [{ type: 'custom', callback: layout }],\n  })\n  .legend(false);\n\nchart\n  .polygon()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('size', 'r')\n  .encode('color', (d) => d.parent.data.name)\n  .tooltip({\n    title: '',\n    items: [(d) => d.parent.data.name],\n  })\n  .scale('x', { domain: [0, 1] })\n  .scale('y', { domain: [0, 1], range: [0, 1] })\n  .scale('size', { type: 'identity' })\n  .axis(false);\n\nchart\n  .text()\n  .data({\n    transform: [\n      {\n        type: 'filter',\n        callback: (d) => d.height === 0,\n      },\n    ],\n  })\n  .encode('x', (d) => d.x[0])\n  .encode('y', (d) => d.y[0])\n  .encode('text', name)\n  .style('dy', 15)\n  .style('dx', 5)\n  .style('fill', 'black')\n  .style('textAlign', 'start')\n  .style('fontSize', 12);\n\nchart.render();\n",title:{zh:"矩形树图",en:"Treemap"},filename:"treemap.ts",isNew:!1}],icon:"",id:"polygon",title:{en:"Polygon",zh:"多边形"},api:null,childrenKey:"demos",order:8},{demos:[{id:"radar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-xcxS7E8sKcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: 'Design', type: 'a', score: 70 },\n  { item: 'Design', type: 'b', score: 30 },\n  { item: 'Development', type: 'a', score: 60 },\n  { item: 'Development', type: 'b', score: 70 },\n  { item: 'Marketing', type: 'a', score: 50 },\n  { item: 'Marketing', type: 'b', score: 60 },\n  { item: 'Users', type: 'a', score: 40 },\n  { item: 'Users', type: 'b', score: 50 },\n  { item: 'Test', type: 'a', score: 60 },\n  { item: 'Test', type: 'b', score: 70 },\n  { item: 'Language', type: 'a', score: 70 },\n  { item: 'Language', type: 'b', score: 50 },\n  { item: 'Technology', type: 'a', score: 50 },\n  { item: 'Technology', type: 'b', score: 40 },\n  { item: 'Support', type: 'a', score: 30 },\n  { item: 'Support', type: 'b', score: 40 },\n  { item: 'Sales', type: 'a', score: 60 },\n  { item: 'Sales', type: 'b', score: 40 },\n  { item: 'UX', type: 'a', score: 50 },\n  { item: 'UX', type: 'b', score: 60 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .data(data)\n  .scale('x', { padding: 0.5, align: 0 })\n  .scale('y', { tickCount: 5 })\n  .axis('x', { grid: true })\n  .axis('y', { zIndex: 1, title: false });\n\nchart\n  .area()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .encode('shape', 'smooth')\n  .style('fillOpacity', 0.5)\n  .scale('y', { domainMax: 80 });\n\nchart\n  .line()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .encode('shape', 'smooth')\n  .style('lineWidth', 2);\n\nchart.interaction('tooltip', { crosshairsLineDash: [4, 4] });\n\nchart.render();\n",title:{zh:"雷达图",en:"Radar"},filename:"radar.ts",isNew:!1},{id:"multi-radar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*M3nGRIBdVXoAAAAAAAAAAAAAemJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst position = ['Points', 'Rebounds', 'Assists', 'Steals', 'Blocks'];\n\nconst data = [\n  {\n    name: 'Jordan',\n    Points: 30.1,\n    Rebounds: 6.2,\n    Assists: 5.3,\n    Steals: 2.3,\n    Blocks: 0.8,\n  },\n  {\n    name: 'LeBron James',\n    Points: 27.0,\n    Rebounds: 7.4,\n    Assists: 7.4,\n    Steals: 1.6,\n    Blocks: 0.8,\n  },\n];\n\nchart.options({\n  type: 'line',\n  title: 'Jordan vs LeBron James NBA Stats Comparison',\n  data,\n  coordinate: { type: 'radar' },\n  encode: {\n    position: ['Points', 'Rebounds', 'Assists', 'Steals', 'Blocks'],\n    color: 'name',\n  },\n  style: {\n    lineWidth: 1.5,\n    strokeOpacity: 0.4,\n  },\n  scale: Object.fromEntries(\n    Array.from({ length: position.length }, (_, i) => [\n      `position${i === 0 ? '' : i}`,\n      {\n        domainMin: 0,\n        nice: true,\n      },\n    ]),\n  ),\n  interaction: { tooltip: { series: false } },\n  axis: Object.fromEntries(\n    Array.from({ length: position.length }, (_, i) => [\n      `position${i === 0 ? '' : i}`,\n      {\n        zIndex: 1,\n        titleFontSize: 10,\n        titleSpacing: 8,\n        label: true,\n        labelFill: '#000',\n        labelOpacity: 0.45,\n        labelFontSize: 10,\n        line: true,\n        lineFill: '#000',\n        lineOpacity: 0.25,\n      },\n    ]),\n  ),\n});\n\nchart.render();\n",title:{zh:"多个维度的雷达图",en:"Multi-dimensional Radar"},filename:"multi-radar.ts",isNew:!1},{id:"grid-radial",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*zRVhQKaw1zwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: 'Design', type: 'a', score: 70 },\n  { item: 'Design', type: 'b', score: 30 },\n  { item: 'Development', type: 'a', score: 60 },\n  { item: 'Development', type: 'b', score: 70 },\n  { item: 'Marketing', type: 'a', score: 50 },\n  { item: 'Marketing', type: 'b', score: 60 },\n  { item: 'Users', type: 'a', score: 40 },\n  { item: 'Users', type: 'b', score: 50 },\n  { item: 'Test', type: 'a', score: 60 },\n  { item: 'Test', type: 'b', score: 70 },\n  { item: 'Language', type: 'a', score: 70 },\n  { item: 'Language', type: 'b', score: 50 },\n  { item: 'Technology', type: 'a', score: 50 },\n  { item: 'Technology', type: 'b', score: 40 },\n  { item: 'Support', type: 'a', score: 30 },\n  { item: 'Support', type: 'b', score: 40 },\n  { item: 'Sales', type: 'a', score: 60 },\n  { item: 'Sales', type: 'b', score: 40 },\n  { item: 'UX', type: 'a', score: 50 },\n  { item: 'UX', type: 'b', score: 60 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .data(data)\n  .scale('x', { padding: 0.5, align: 0 })\n  .scale('y', { tickCount: 5, domainMax: 80 })\n  .axis('x', {\n    grid: true,\n    gridLineWidth: 1,\n    tick: false,\n    gridLineDash: [0, 0],\n  })\n  .axis('y', {\n    zIndex: 1,\n    title: false,\n    gridConnect: 'line',\n    gridLineWidth: 1,\n    gridLineDash: [0, 0],\n  });\n\nchart\n  .area()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .style('fillOpacity', 0.5);\n\nchart\n  .line()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .style('lineWidth', 2);\n\nchart\n  .point()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .tooltip(null);\n\nchart.interaction('tooltip', { crosshairsLineDash: [4, 4] });\n\nchart.render();\n",title:{zh:"雷达图(带网格)",en:"Radar"},filename:"grid-radial.ts",isNew:!1},{id:"radial-with-background-color",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*jjhCTKfZHpgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: 'Design', type: 'a', score: 70 },\n  { item: 'Design', type: 'b', score: 30 },\n  { item: 'Development', type: 'a', score: 60 },\n  { item: 'Development', type: 'b', score: 70 },\n  { item: 'Marketing', type: 'a', score: 50 },\n  { item: 'Marketing', type: 'b', score: 60 },\n  { item: 'Users', type: 'a', score: 40 },\n  { item: 'Users', type: 'b', score: 50 },\n  { item: 'Test', type: 'a', score: 60 },\n  { item: 'Test', type: 'b', score: 70 },\n  { item: 'Language', type: 'a', score: 70 },\n  { item: 'Language', type: 'b', score: 50 },\n  { item: 'Technology', type: 'a', score: 50 },\n  { item: 'Technology', type: 'b', score: 40 },\n  { item: 'Support', type: 'a', score: 30 },\n  { item: 'Support', type: 'b', score: 40 },\n  { item: 'Sales', type: 'a', score: 60 },\n  { item: 'Sales', type: 'b', score: 40 },\n  { item: 'UX', type: 'a', score: 50 },\n  { item: 'UX', type: 'b', score: 60 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .data(data)\n  .scale('x', { padding: 0.5, align: 0 })\n  .scale('y', { tickCount: 5, domainMin: 0, domainMax: 80 })\n  .axis('x', {\n    grid: true,\n    gridLineWidth: 1,\n    tick: false,\n    gridLineDash: [0, 0],\n  })\n  .axis('y', {\n    zIndex: 1,\n    title: false,\n    gridLineWidth: 1,\n    gridLineDash: [0, 0],\n    gridAreaFill: (dataum, index, data) => {\n      return index % 2 === 1 ? 'rgba(0, 0, 0, 0.04)' : '';\n    },\n  });\n\nchart\n  .line()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .style('lineWidth', 2);\n\nchart\n  .point()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .tooltip(null);\n\nchart.interaction('tooltip', { crosshairsLineDash: [4, 4] });\n\nchart.render();\n",title:{zh:"雷达图(带底色)",en:"Radar"},filename:"radial-with-background-color.ts",isNew:!1},{id:"complex-radial",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xjsASojtRJgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { x: 0, y: 0 },\n  { x: 1, y: 0.0785 },\n  { x: 2, y: 0.1568 },\n  { x: 3, y: 0.2347 },\n  { x: 4, y: 0.3119 },\n  { x: 5, y: 0.3882 },\n  { x: 6, y: 0.4635 },\n  { x: 7, y: 0.5376 },\n  { x: 8, y: 0.6101 },\n  { x: 9, y: 0.681 },\n  { x: 10, y: 0.75 },\n  { x: 11, y: 0.817 },\n  { x: 12, y: 0.8817 },\n  { x: 13, y: 0.944 },\n  { x: 14, y: 1.0037 },\n  { x: 15, y: 1.0607 },\n  { x: 16, y: 1.1147 },\n  { x: 17, y: 1.1657 },\n  { x: 18, y: 1.2135 },\n  { x: 19, y: 1.258 },\n  { x: 20, y: 1.299 },\n  { x: 21, y: 1.3365 },\n  { x: 22, y: 1.3703 },\n  { x: 23, y: 1.4004 },\n  { x: 24, y: 1.4266 },\n  { x: 25, y: 1.4489 },\n  { x: 26, y: 1.4672 },\n  { x: 27, y: 1.4815 },\n  { x: 28, y: 1.4918 },\n  { x: 29, y: 1.4979 },\n  { x: 30, y: 1.5 },\n  { x: 31, y: 1.4979 },\n  { x: 32, y: 1.4918 },\n  { x: 33, y: 1.4815 },\n  { x: 34, y: 1.4672 },\n  { x: 35, y: 1.4489 },\n  { x: 36, y: 1.4266 },\n  { x: 37, y: 1.4004 },\n  { x: 38, y: 1.3703 },\n  { x: 39, y: 1.3365 },\n  { x: 40, y: 1.299 },\n  { x: 41, y: 1.258 },\n  { x: 42, y: 1.2135 },\n  { x: 43, y: 1.1657 },\n  { x: 44, y: 1.1147 },\n  { x: 45, y: 1.0607 },\n  { x: 46, y: 1.0037 },\n  { x: 47, y: 0.944 },\n  { x: 48, y: 0.8817 },\n  { x: 49, y: 0.817 },\n  { x: 50, y: 0.75 },\n  { x: 51, y: 0.681 },\n  { x: 52, y: 0.6101 },\n  { x: 53, y: 0.5376 },\n  { x: 54, y: 0.4635 },\n  { x: 55, y: 0.3882 },\n  { x: 56, y: 0.3119 },\n  { x: 57, y: 0.2347 },\n  { x: 58, y: 0.1568 },\n  { x: 59, y: 0.0785 },\n  { x: 60, y: 0 },\n  { x: 61, y: 0.0785 },\n  { x: 62, y: 0.1568 },\n  { x: 63, y: 0.2347 },\n  { x: 64, y: 0.3119 },\n  { x: 65, y: 0.3882 },\n  { x: 66, y: 0.4635 },\n  { x: 67, y: 0.5376 },\n  { x: 68, y: 0.6101 },\n  { x: 69, y: 0.681 },\n  { x: 70, y: 0.75 },\n  { x: 71, y: 0.817 },\n  { x: 72, y: 0.8817 },\n  { x: 73, y: 0.944 },\n  { x: 74, y: 1.0037 },\n  { x: 75, y: 1.0607 },\n  { x: 76, y: 1.1147 },\n  { x: 77, y: 1.1657 },\n  { x: 78, y: 1.2135 },\n  { x: 79, y: 1.258 },\n  { x: 80, y: 1.299 },\n  { x: 81, y: 1.3365 },\n  { x: 82, y: 1.3703 },\n  { x: 83, y: 1.4004 },\n  { x: 84, y: 1.4266 },\n  { x: 85, y: 1.4489 },\n  { x: 86, y: 1.4672 },\n  { x: 87, y: 1.4815 },\n  { x: 88, y: 1.4918 },\n  { x: 89, y: 1.4979 },\n  { x: 90, y: 1.5 },\n  { x: 91, y: 1.4979 },\n  { x: 92, y: 1.4918 },\n  { x: 93, y: 1.4815 },\n  { x: 94, y: 1.4672 },\n  { x: 95, y: 1.4489 },\n  { x: 96, y: 1.4266 },\n  { x: 97, y: 1.4004 },\n  { x: 98, y: 1.3703 },\n  { x: 99, y: 1.3365 },\n  { x: 100, y: 1.299 },\n  { x: 101, y: 1.258 },\n  { x: 102, y: 1.2135 },\n  { x: 103, y: 1.1657 },\n  { x: 104, y: 1.1147 },\n  { x: 105, y: 1.0607 },\n  { x: 106, y: 1.0037 },\n  { x: 107, y: 0.944 },\n  { x: 108, y: 0.8817 },\n  { x: 109, y: 0.817 },\n  { x: 110, y: 0.75 },\n  { x: 111, y: 0.681 },\n  { x: 112, y: 0.6101 },\n  { x: 113, y: 0.5376 },\n  { x: 114, y: 0.4635 },\n  { x: 115, y: 0.3882 },\n  { x: 116, y: 0.3119 },\n  { x: 117, y: 0.2347 },\n  { x: 118, y: 0.1568 },\n  { x: 119, y: 0.0785 },\n  { x: 120, y: 0 },\n  { x: 121, y: 0.0785 },\n  { x: 122, y: 0.1568 },\n  { x: 123, y: 0.2347 },\n  { x: 124, y: 0.3119 },\n  { x: 125, y: 0.3882 },\n  { x: 126, y: 0.4635 },\n  { x: 127, y: 0.5376 },\n  { x: 128, y: 0.6101 },\n  { x: 129, y: 0.681 },\n  { x: 130, y: 0.75 },\n  { x: 131, y: 0.817 },\n  { x: 132, y: 0.8817 },\n  { x: 133, y: 0.944 },\n  { x: 134, y: 1.0037 },\n  { x: 135, y: 1.0607 },\n  { x: 136, y: 1.1147 },\n  { x: 137, y: 1.1657 },\n  { x: 138, y: 1.2135 },\n  { x: 139, y: 1.258 },\n  { x: 140, y: 1.299 },\n  { x: 141, y: 1.3365 },\n  { x: 142, y: 1.3703 },\n  { x: 143, y: 1.4004 },\n  { x: 144, y: 1.4266 },\n  { x: 145, y: 1.4489 },\n  { x: 146, y: 1.4672 },\n  { x: 147, y: 1.4815 },\n  { x: 148, y: 1.4918 },\n  { x: 149, y: 1.4979 },\n  { x: 150, y: 1.5 },\n  { x: 151, y: 1.4979 },\n  { x: 152, y: 1.4918 },\n  { x: 153, y: 1.4815 },\n  { x: 154, y: 1.4672 },\n  { x: 155, y: 1.4489 },\n  { x: 156, y: 1.4266 },\n  { x: 157, y: 1.4004 },\n  { x: 158, y: 1.3703 },\n  { x: 159, y: 1.3365 },\n  { x: 160, y: 1.299 },\n  { x: 161, y: 1.258 },\n  { x: 162, y: 1.2135 },\n  { x: 163, y: 1.1657 },\n  { x: 164, y: 1.1147 },\n  { x: 165, y: 1.0607 },\n  { x: 166, y: 1.0037 },\n  { x: 167, y: 0.944 },\n  { x: 168, y: 0.8817 },\n  { x: 169, y: 0.817 },\n  { x: 170, y: 0.75 },\n  { x: 171, y: 0.681 },\n  { x: 172, y: 0.6101 },\n  { x: 173, y: 0.5376 },\n  { x: 174, y: 0.4635 },\n  { x: 175, y: 0.3882 },\n  { x: 176, y: 0.3119 },\n  { x: 177, y: 0.2347 },\n  { x: 178, y: 0.1568 },\n  { x: 179, y: 0.0785 },\n  { x: 180, y: 0 },\n  { x: 181, y: 0.0785 },\n  { x: 182, y: 0.1568 },\n  { x: 183, y: 0.2347 },\n  { x: 184, y: 0.3119 },\n  { x: 185, y: 0.3882 },\n  { x: 186, y: 0.4635 },\n  { x: 187, y: 0.5376 },\n  { x: 188, y: 0.6101 },\n  { x: 189, y: 0.681 },\n  { x: 190, y: 0.75 },\n  { x: 191, y: 0.817 },\n  { x: 192, y: 0.8817 },\n  { x: 193, y: 0.944 },\n  { x: 194, y: 1.0037 },\n  { x: 195, y: 1.0607 },\n  { x: 196, y: 1.1147 },\n  { x: 197, y: 1.1657 },\n  { x: 198, y: 1.2135 },\n  { x: 199, y: 1.258 },\n  { x: 200, y: 1.299 },\n  { x: 201, y: 1.3365 },\n  { x: 202, y: 1.3703 },\n  { x: 203, y: 1.4004 },\n  { x: 204, y: 1.4266 },\n  { x: 205, y: 1.4489 },\n  { x: 206, y: 1.4672 },\n  { x: 207, y: 1.4815 },\n  { x: 208, y: 1.4918 },\n  { x: 209, y: 1.4979 },\n  { x: 210, y: 1.5 },\n  { x: 211, y: 1.4979 },\n  { x: 212, y: 1.4918 },\n  { x: 213, y: 1.4815 },\n  { x: 214, y: 1.4672 },\n  { x: 215, y: 1.4489 },\n  { x: 216, y: 1.4266 },\n  { x: 217, y: 1.4004 },\n  { x: 218, y: 1.3703 },\n  { x: 219, y: 1.3365 },\n  { x: 220, y: 1.299 },\n  { x: 221, y: 1.258 },\n  { x: 222, y: 1.2135 },\n  { x: 223, y: 1.1657 },\n  { x: 224, y: 1.1147 },\n  { x: 225, y: 1.0607 },\n  { x: 226, y: 1.0037 },\n  { x: 227, y: 0.944 },\n  { x: 228, y: 0.8817 },\n  { x: 229, y: 0.817 },\n  { x: 230, y: 0.75 },\n  { x: 231, y: 0.681 },\n  { x: 232, y: 0.6101 },\n  { x: 233, y: 0.5376 },\n  { x: 234, y: 0.4635 },\n  { x: 235, y: 0.3882 },\n  { x: 236, y: 0.3119 },\n  { x: 237, y: 0.2347 },\n  { x: 238, y: 0.1568 },\n  { x: 239, y: 0.0785 },\n  { x: 240, y: 0 },\n  { x: 241, y: 0.0785 },\n  { x: 242, y: 0.1568 },\n  { x: 243, y: 0.2347 },\n  { x: 244, y: 0.3119 },\n  { x: 245, y: 0.3882 },\n  { x: 246, y: 0.4635 },\n  { x: 247, y: 0.5376 },\n  { x: 248, y: 0.6101 },\n  { x: 249, y: 0.681 },\n  { x: 250, y: 0.75 },\n  { x: 251, y: 0.817 },\n  { x: 252, y: 0.8817 },\n  { x: 253, y: 0.944 },\n  { x: 254, y: 1.0037 },\n  { x: 255, y: 1.0607 },\n  { x: 256, y: 1.1147 },\n  { x: 257, y: 1.1657 },\n  { x: 258, y: 1.2135 },\n  { x: 259, y: 1.258 },\n  { x: 260, y: 1.299 },\n  { x: 261, y: 1.3365 },\n  { x: 262, y: 1.3703 },\n  { x: 263, y: 1.4004 },\n  { x: 264, y: 1.4266 },\n  { x: 265, y: 1.4489 },\n  { x: 266, y: 1.4672 },\n  { x: 267, y: 1.4815 },\n  { x: 268, y: 1.4918 },\n  { x: 269, y: 1.4979 },\n  { x: 270, y: 1.5 },\n  { x: 271, y: 1.4979 },\n  { x: 272, y: 1.4918 },\n  { x: 273, y: 1.4815 },\n  { x: 274, y: 1.4672 },\n  { x: 275, y: 1.4489 },\n  { x: 276, y: 1.4266 },\n  { x: 277, y: 1.4004 },\n  { x: 278, y: 1.3703 },\n  { x: 279, y: 1.3365 },\n  { x: 280, y: 1.299 },\n  { x: 281, y: 1.258 },\n  { x: 282, y: 1.2135 },\n  { x: 283, y: 1.1657 },\n  { x: 284, y: 1.1147 },\n  { x: 285, y: 1.0607 },\n  { x: 286, y: 1.0037 },\n  { x: 287, y: 0.944 },\n  { x: 288, y: 0.8817 },\n  { x: 289, y: 0.817 },\n  { x: 290, y: 0.75 },\n  { x: 291, y: 0.681 },\n  { x: 292, y: 0.6101 },\n  { x: 293, y: 0.5376 },\n  { x: 294, y: 0.4635 },\n  { x: 295, y: 0.3882 },\n  { x: 296, y: 0.3119 },\n  { x: 297, y: 0.2347 },\n  { x: 298, y: 0.1568 },\n  { x: 299, y: 0.0785 },\n  { x: 300, y: 0 },\n  { x: 301, y: 0.0785 },\n  { x: 302, y: 0.1568 },\n  { x: 303, y: 0.2347 },\n  { x: 304, y: 0.3119 },\n  { x: 305, y: 0.3882 },\n  { x: 306, y: 0.4635 },\n  { x: 307, y: 0.5376 },\n  { x: 308, y: 0.6101 },\n  { x: 309, y: 0.681 },\n  { x: 310, y: 0.75 },\n  { x: 311, y: 0.817 },\n  { x: 312, y: 0.8817 },\n  { x: 313, y: 0.944 },\n  { x: 314, y: 1.0037 },\n  { x: 315, y: 1.0607 },\n  { x: 316, y: 1.1147 },\n  { x: 317, y: 1.1657 },\n  { x: 318, y: 1.2135 },\n  { x: 319, y: 1.258 },\n  { x: 320, y: 1.299 },\n  { x: 321, y: 1.3365 },\n  { x: 322, y: 1.3703 },\n  { x: 323, y: 1.4004 },\n  { x: 324, y: 1.4266 },\n  { x: 325, y: 1.4489 },\n  { x: 326, y: 1.4672 },\n  { x: 327, y: 1.4815 },\n  { x: 328, y: 1.4918 },\n  { x: 329, y: 1.4979 },\n  { x: 330, y: 1.5 },\n  { x: 331, y: 1.4979 },\n  { x: 332, y: 1.4918 },\n  { x: 333, y: 1.4815 },\n  { x: 334, y: 1.4672 },\n  { x: 335, y: 1.4489 },\n  { x: 336, y: 1.4266 },\n  { x: 337, y: 1.4004 },\n  { x: 338, y: 1.3703 },\n  { x: 339, y: 1.3365 },\n  { x: 340, y: 1.299 },\n  { x: 341, y: 1.258 },\n  { x: 342, y: 1.2135 },\n  { x: 343, y: 1.1657 },\n  { x: 344, y: 1.1147 },\n  { x: 345, y: 1.0607 },\n  { x: 346, y: 1.0037 },\n  { x: 347, y: 0.944 },\n  { x: 348, y: 0.8817 },\n  { x: 349, y: 0.817 },\n  { x: 350, y: 0.75 },\n  { x: 351, y: 0.681 },\n  { x: 352, y: 0.6101 },\n  { x: 353, y: 0.5376 },\n  { x: 354, y: 0.4635 },\n  { x: 355, y: 0.3882 },\n  { x: 356, y: 0.3119 },\n  { x: 357, y: 0.2347 },\n  { x: 358, y: 0.1568 },\n  { x: 359, y: 0.0785 },\n  { x: 360, y: 0 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\nconst keyframe = chart.timingKeyframe({\n  direction: 'alternate',\n  iterationCount: 4,\n});\n\nkeyframe\n  .line()\n  .data(data)\n  .coordinate({ type: 'polar' })\n  .axis('x', {\n    grid: null,\n    line: true,\n    lineLineWidth: 1,\n  })\n  .axis('y', false)\n  .scale('x', { tickCount: 12 })\n  .interaction('tooltip', {\n    crosshairs: false,\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', '#ff8800')\n  .style('lineWidth', 2);\n\nkeyframe\n  .line()\n  .data(data)\n  .axis('x', {\n    grid: null,\n    line: true,\n    lineLineWidth: 1,\n  })\n  .axis('y', false)\n  .scale('x', { tickCount: 12 })\n  .interaction('tooltip', {\n    crosshairs: false,\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', '#ff8800')\n  .style('lineWidth', 2);\n\nchart.render();\n",title:{zh:"复杂雷达图",en:"Radar"},filename:"complex-radial.ts",isNew:!1},{id:"parallel-radar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4sqyTZUFCNkAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/parallel-coordinates\n */\nimport { Chart } from '@antv/g2';\n\nconst axis = {\n  zIndex: 1,\n  labelStroke: '#fff',\n  labelLineWidth: 5,\n  labelFontSize: 10,\n  labelStrokeLineJoin: 'round',\n  titleStroke: '#fff',\n  titleFontSize: 10,\n  titleLineWidth: 5,\n  titleStrokeLineJoin: 'round',\n  lineStroke: 'black',\n  tickStroke: 'black',\n  lineLineWidth: 1,\n};\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'radar' });\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/cars3.json',\n  })\n  .encode('position', [\n    'economy (mpg)',\n    'cylinders',\n    'displacement (cc)',\n    'power (hp)',\n    'weight (lb)',\n    '0-60 mph (s)',\n    'year',\n  ])\n  .encode('color', 'weight (lb)')\n  .style('lineWidth', 1.5)\n  .style('strokeOpacity', 0.4)\n  .scale('color', {\n    palette: 'brBG',\n    offset: (t) => 1 - t,\n  })\n  .legend({\n    color: {\n      position: 'bottom',\n      labelFormatter: '~s',\n      length: 200,\n      layout: { justifyContent: 'center' },\n    },\n  })\n  .axis('position', axis)\n  .axis('position1', axis)\n  .axis('position2', axis)\n  .axis('position3', axis)\n  .axis('position4', axis)\n  .axis('position5', axis)\n  .axis('position6', axis)\n  .axis('position7', axis);\n\nchart.interaction('tooltip', { series: false });\n\nchart.render();\n",title:{zh:"雷达图",en:"Radar"},filename:"parallel-radar.ts",isNew:!1},{id:"area-radial",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*-m-2QolJUt0AAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/radial-area-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 954,\n  height: 954,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/seasonal-weather.json',\n  transform: [\n    {\n      type: 'map',\n      callback: (d) => ({\n        ...d,\n        date: new Date(d.date),\n      }),\n    },\n  ],\n});\n\nchart.coordinate({ type: 'polar', innerRadius: 0.4 });\n\nchart\n  .axis('y', {\n    zIndex: 1,\n    direction: 'center',\n    title: null,\n    labelFormatter: (d, i, array) =>\n      i === array.length - 1 ? `${d}°F` : `${d}`,\n    labelStroke: '#fff',\n    labelLineWidth: 5,\n  })\n  .axis('x', {\n    grid: true,\n    position: 'inner',\n  })\n  .scale('x', { utc: true });\n\nchart\n  .area()\n  .encode('x', 'date')\n  .encode('y', ['minmin', 'maxmax'])\n  .style('fill', 'lightsteelblue')\n  .style('fillOpacity', 0.2);\n\nchart\n  .area()\n  .encode('x', 'date')\n  .encode('y', ['min', 'max'])\n  .style('fill', 'steelblue')\n  .style('fillOpacity', 0.2);\n\nchart\n  .line()\n  .encode('x', 'date')\n  .encode('y', 'avg')\n  .style('stroke', 'steelblue')\n  .style('lineWidth', 1.5)\n  .tooltip({ channel: 'y', valueFormatter: '.1f' });\n\nchart.render();\n",title:{zh:"径向面积图",en:"Radial Area Chart"},filename:"area-radial.ts",isNew:!1},{id:"square-radar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JBvBT5c5_2sAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({\n  type: 'polar',\n  startAngle: (-Math.PI * 3) / 4,\n  endAngle: (Math.PI * 5) / 4,\n});\n\nchart\n  .line()\n  .data([\n    { item: 'Design', type: 'a', score: 70 },\n    { item: 'Development', type: 'a', score: 60 },\n    { item: 'Marketing', type: 'a', score: 50 },\n    { item: 'Users', type: 'a', score: 40 },\n  ])\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .scale('x', {\n    padding: 0.5,\n    align: 0,\n  })\n  .scale('y', {\n    domainMin: 0,\n    domainMax: 80,\n  })\n  .style({\n    zIndex: 0,\n    lineWidth: 5,\n    lineJoin: 'round',\n  })\n  .axis('x', {\n    grid: true,\n    zIndex: 1,\n    title: false,\n    gridLineWidth: 1,\n    gridLineDash: null,\n  })\n  .axis('y', {\n    titleOpacity: '0',\n    gridConnect: 'line',\n    gridLineWidth: 1,\n    gridLineDash: [0, 0],\n    gridAreaFill: 'rgba(0, 0, 0, 0.04)',\n  });\n\nchart.render();\n",title:{zh:"方形雷达图",en:"Square radar Chart"},filename:"square-radar.ts",isNew:!1}],icon:"",id:"radar",title:{en:"Radar",zh:"雷达图"},api:null,childrenKey:"demos",order:8},{demos:[{id:"line-parallel-vertical",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*aX6WSJw7proAAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/parallel-coordinates\n */\nimport { Chart } from '@antv/g2';\n\nconst axis = {\n  zIndex: 1,\n  titlePosition: 'right',\n  line: true,\n  labelStroke: '#fff',\n  labelLineWidth: 5,\n  labelFontSize: 10,\n  labelStrokeLineJoin: 'round',\n  titleStroke: '#fff',\n  titleFontSize: 10,\n  titleLineWidth: 5,\n  titleStrokeLineJoin: 'round',\n  titleTransform: 'translate(-50%, 0) rotate(-90)',\n  lineStroke: 'black',\n  tickStroke: 'black',\n  lineLineWidth: 1,\n};\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'parallel' });\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/cars3.json',\n  })\n  .encode('position', [\n    'economy (mpg)',\n    'cylinders',\n    'displacement (cc)',\n    'power (hp)',\n    'weight (lb)',\n    '0-60 mph (s)',\n    'year',\n  ])\n  .encode('color', 'weight (lb)')\n  .style('lineWidth', 1.5)\n  .style('strokeOpacity', 0.4)\n  .scale('color', {\n    palette: 'brBG',\n    offset: (t) => 1 - t,\n  })\n  .legend({\n    color: { length: 400, layout: { justifyContent: 'center' } },\n  })\n  .axis('position', axis)\n  .axis('position1', axis)\n  .axis('position2', axis)\n  .axis('position3', axis)\n  .axis('position4', axis)\n  .axis('position5', axis)\n  .axis('position6', axis)\n  .axis('position7', axis);\n\nchart.interaction('tooltip', { series: false });\n\nchart.render();\n",title:{zh:"竖直平行坐标系",en:"Vertical Parallel"},filename:"line-parallel-vertical.ts",isNew:!1},{id:"line-parallel-horizontal",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*SOZOT7Smha0AAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/parallel-coordinates\n */\nimport { Chart } from '@antv/g2';\n\nconst axis = {\n  zIndex: 1,\n  line: true,\n  labelStroke: '#fff',\n  labelLineWidth: 5,\n  labelFontSize: 10,\n  labelStrokeLineJoin: 'round',\n  titleStroke: '#fff',\n  titleFontSize: 10,\n  titleLineWidth: 5,\n  titleStrokeLineJoin: 'round',\n  lineStroke: 'black',\n  tickStroke: 'black',\n  lineLineWidth: 1,\n};\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'parallel', transform: [{ type: 'transpose' }] });\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/cars3.json',\n  })\n  .encode('position', [\n    'economy (mpg)',\n    'cylinders',\n    'displacement (cc)',\n    'power (hp)',\n    'weight (lb)',\n    '0-60 mph (s)',\n    'year',\n  ])\n  .encode('color', 'weight (lb)')\n  .style('lineWidth', 1.5)\n  .style('strokeOpacity', 0.4)\n  .scale('color', {\n    palette: 'brBG',\n    offset: (t) => 1 - t,\n  })\n  .legend({\n    color: { length: 400, layout: { justifyContent: 'center' } },\n  })\n  .axis('position', axis)\n  .axis('position1', axis)\n  .axis('position2', axis)\n  .axis('position3', axis)\n  .axis('position4', axis)\n  .axis('position5', axis)\n  .axis('position6', axis)\n  .axis('position7', axis);\n\nchart.interaction('tooltip', { series: false });\n\nchart.render();\n",title:{zh:"水平平行坐标系",en:"Horizontal Parallel"},filename:"line-parallel-horizontal.ts",isNew:!1}],icon:"",id:"parallel",title:{en:"Parallel",zh:"平行坐标系"},api:null,childrenKey:"demos",order:9},{demos:[{id:"line-candle-stick",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*IXIkSa7SW2sAAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/candlestick-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/aapl2.json',\n    transform: [\n      {\n        type: 'map',\n        callback: (d) => ({\n          ...d,\n          Date: new Date(d.Date),\n        }),\n      },\n    ],\n  })\n  .scale('color', {\n    domain: [1, 0, -1],\n    range: ['#4daf4a', '#999999', '#e41a1c'],\n  });\n\nchart\n  .link()\n  .encode('x', 'Date')\n  .encode('y', ['Low', 'High'])\n  .encode('color', (d) => Math.sign(d.Close - d.Open)) // For LegendFilter.\n  .style('stroke', 'black')\n  .tooltip({\n    title: (d) => d.Date.toLocaleString(),\n    items: [\n      { field: 'Low', name: 'low' },\n      { field: 'High', name: 'high' },\n    ],\n  });\n\nchart\n  .link()\n  .encode('x', 'Date')\n  .encode('y', ['Open', 'Close'])\n  .encode('color', (d) => Math.sign(d.Close - d.Open))\n  .style('radius', 2)\n  .style('fillOpacity', 1)\n  .style('lineWidth', 4)\n  .style('lineCap', 'round')\n  .tooltip({\n    title: '',\n    items: [\n      { field: 'Open', name: 'open' },\n      { field: 'Close', name: 'close' },\n    ],\n  });\n\nchart.interaction('tooltip', { shared: true, groupName: false });\n\nchart.render();\n",title:{zh:"股票图",en:"Candlestick chart"},filename:"line-candle-stick.ts",isNew:!1},{id:"basis",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ehjWTYLKU_wAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  {\n    time: '2015-11-19',\n    start: 8.18,\n    max: 8.33,\n    min: 7.98,\n    end: 8.32,\n    volumn: 1810,\n    money: 14723.56,\n  },\n  {\n    time: '2015-11-18',\n    start: 8.37,\n    max: 8.6,\n    min: 8.03,\n    end: 8.09,\n    volumn: 2790.37,\n    money: 23309.19,\n  },\n  {\n    time: '2015-11-17',\n    start: 8.7,\n    max: 8.78,\n    min: 8.32,\n    end: 8.37,\n    volumn: 3729.04,\n    money: 31709.71,\n  },\n  {\n    time: '2015-11-16',\n    start: 8.18,\n    max: 8.69,\n    min: 8.05,\n    end: 8.62,\n    volumn: 3095.44,\n    money: 26100.69,\n  },\n  {\n    time: '2015-11-13',\n    start: 8.01,\n    max: 8.75,\n    min: 7.97,\n    end: 8.41,\n    volumn: 5815.58,\n    money: 48562.37,\n  },\n  {\n    time: '2015-11-12',\n    start: 7.76,\n    max: 8.18,\n    min: 7.61,\n    end: 8.15,\n    volumn: 4742.6,\n    money: 37565.36,\n  },\n  {\n    time: '2015-11-11',\n    start: 7.55,\n    max: 7.81,\n    min: 7.49,\n    end: 7.8,\n    volumn: 3133.82,\n    money: 24065.42,\n  },\n  {\n    time: '2015-11-10',\n    start: 7.5,\n    max: 7.68,\n    min: 7.44,\n    end: 7.57,\n    volumn: 2670.35,\n    money: 20210.58,\n  },\n  {\n    time: '2015-11-09',\n    start: 7.65,\n    max: 7.66,\n    min: 7.3,\n    end: 7.58,\n    volumn: 2841.79,\n    money: 21344.36,\n  },\n  {\n    time: '2015-11-06',\n    start: 7.52,\n    max: 7.71,\n    min: 7.48,\n    end: 7.64,\n    volumn: 2725.44,\n    money: 20721.51,\n  },\n  {\n    time: '2015-11-05',\n    start: 7.48,\n    max: 7.57,\n    min: 7.29,\n    end: 7.48,\n    volumn: 3520.85,\n    money: 26140.83,\n  },\n  {\n    time: '2015-11-04',\n    start: 7.01,\n    max: 7.5,\n    min: 7.01,\n    end: 7.46,\n    volumn: 3591.47,\n    money: 26285.52,\n  },\n  {\n    time: '2015-11-03',\n    start: 7.1,\n    max: 7.17,\n    min: 6.82,\n    end: 7,\n    volumn: 2029.21,\n    money: 14202.33,\n  },\n  {\n    time: '2015-11-02',\n    start: 7.09,\n    max: 7.44,\n    min: 6.93,\n    end: 7.17,\n    volumn: 3191.31,\n    money: 23205.11,\n  },\n  {\n    time: '2015-10-30',\n    start: 6.98,\n    max: 7.27,\n    min: 6.84,\n    end: 7.18,\n    volumn: 3522.61,\n    money: 25083.44,\n  },\n  {\n    time: '2015-10-29',\n    start: 6.94,\n    max: 7.2,\n    min: 6.8,\n    end: 7.05,\n    volumn: 2752.27,\n    money: 19328.44,\n  },\n  {\n    time: '2015-10-28',\n    start: 7.01,\n    max: 7.14,\n    min: 6.8,\n    end: 6.85,\n    volumn: 2311.11,\n    money: 16137.32,\n  },\n  {\n    time: '2015-10-27',\n    start: 6.91,\n    max: 7.31,\n    min: 6.48,\n    end: 7.18,\n    volumn: 3172.9,\n    money: 21827.3,\n  },\n  {\n    time: '2015-10-26',\n    start: 6.9,\n    max: 7.08,\n    min: 6.87,\n    end: 6.95,\n    volumn: 2769.31,\n    money: 19337.44,\n  },\n  {\n    time: '2015-10-23',\n    start: 6.71,\n    max: 6.85,\n    min: 6.58,\n    end: 6.79,\n    volumn: 2483.18,\n    money: 16714.31,\n  },\n  {\n    time: '2015-10-22',\n    start: 6.38,\n    max: 6.67,\n    min: 6.34,\n    end: 6.65,\n    volumn: 2225.88,\n    money: 14465.56,\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data(data)\n  .encode('x', 'time')\n  .encode('color', (d) => {\n    const trend = Math.sign(d.start - d.end);\n    return trend > 0 ? '下跌' : trend === 0 ? '不变' : '上涨';\n  })\n  .scale('x', {\n    compare: (a, b) => new Date(a).getTime() - new Date(b).getTime(),\n  })\n  .scale('color', {\n    domain: ['下跌', '不变', '上涨'],\n    range: ['#4daf4a', '#999999', '#e41a1c'],\n  });\n\nchart\n  .link()\n  .encode('y', ['min', 'max'])\n  .tooltip({\n    title: 'time',\n    items: [\n      { field: 'start', name: '开盘价' },\n      { field: 'end', name: '收盘价' },\n      { field: 'min', name: '最低价' },\n      { field: 'max', name: '最高价' },\n    ],\n  });\n\nchart\n  .interval()\n  .encode('y', ['start', 'end'])\n  .style('fillOpacity', 1)\n  .style('stroke', (d) => {\n    if (d.start === d.end) return '#999999';\n  })\n  .axis('y', {\n    title: false,\n  })\n  .tooltip({\n    title: 'time',\n    items: [\n      { field: 'start', name: '开盘价' },\n      { field: 'end', name: '收盘价' },\n      { field: 'min', name: '最低价' },\n      { field: 'max', name: '最高价' },\n    ],\n  });\n\nchart.render();\n",title:{zh:"K线图",en:"Candle Stick Chart"},filename:"basis.ts",isNew:!1},{id:"k-and-column",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*cYx-T6bM3AYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\ndocument.getElementById('container').innerHTML = `\n  <div id=\"kChart\" ></div>\n  <div id=\"columnChart\"></div>\n`;\n\nconst KChart = new Chart({\n  container: 'kChart',\n  autoFit: true,\n  height: 360,\n  paddingLeft: 60,\n});\n\nKChart.data({\n  type: 'fetch',\n  value:\n    'https://gw.alipayobjects.com/os/antvdemo/assets/data/candle-sticks.json',\n})\n  .encode('x', 'time')\n  .encode('color', (d) => {\n    const trend = Math.sign(d.start - d.end);\n    return trend > 0 ? '下跌' : trend === 0 ? '不变' : '上涨';\n  })\n  .scale('x', {\n    compare: (a, b) => new Date(a).getTime() - new Date(b).getTime(),\n  })\n  .scale('color', {\n    domain: ['下跌', '不变', '上涨'],\n    range: ['#4daf4a', '#999999', '#e41a1c'],\n  });\n\nKChart.link()\n  .encode('y', ['min', 'max'])\n  .tooltip({\n    title: 'time',\n    items: [\n      { field: 'start', name: '开盘价' },\n      { field: 'end', name: '收盘价' },\n      { field: 'min', name: '最低价' },\n      { field: 'max', name: '最高价' },\n    ],\n  });\n\nKChart.interval()\n  .encode('y', ['start', 'end'])\n  .style('fillOpacity', 1)\n  .style('stroke', (d) => {\n    if (d.start === d.end) return '#999999';\n  })\n  .axis('x', {\n    title: false,\n  })\n  .axis('y', {\n    title: false,\n  })\n  .tooltip({\n    title: 'time',\n    items: [\n      { field: 'start', name: '开盘价' },\n      { field: 'end', name: '收盘价' },\n      { field: 'min', name: '最低价' },\n      { field: 'max', name: '最高价' },\n    ],\n  });\n\nconst ColumnChart = new Chart({\n  container: 'columnChart',\n  autoFit: true,\n  paddingTop: 0,\n  paddingBottom: 0,\n  height: 180,\n  paddingLeft: 60,\n});\n\nColumnChart.data({\n  type: 'fetch',\n  value:\n    'https://gw.alipayobjects.com/os/antvdemo/assets/data/candle-sticks.json',\n});\n\nColumnChart.interval()\n  .encode('x', 'time')\n  .encode('y', 'volumn')\n  .encode('color', (d) => {\n    const trend = Math.sign(d.start - d.end);\n    return trend > 0 ? '下跌' : trend === 0 ? '不变' : '上涨';\n  })\n  .scale('x', {\n    compare: (a, b) => new Date(a).getTime() - new Date(b).getTime(),\n  })\n  .scale('color', {\n    domain: ['下跌', '不变', '上涨'],\n    range: ['#4daf4a', '#999999', '#e41a1c'],\n  })\n  .axis('x', false)\n  .axis('y', {\n    title: false,\n  });\n\nKChart.on('legend:filter', (e) => {\n  const { nativeEvent, data } = e;\n  if (!nativeEvent) return;\n  ColumnChart.emit('legend:filter', { data });\n});\n\nKChart.on('legend:reset', (e) => {\n  const { nativeEvent, data } = e;\n  if (!nativeEvent) return;\n  ColumnChart.emit('legend:reset', { data });\n});\n\nKChart.render();\nColumnChart.render();\n",title:{zh:"K 线图与柱状图",en:"Candlestick chart and column chart"},filename:"k-and-column.ts",isNew:!1},{id:"k-and-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*h_ykRqdQySkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/stock-03.json',\n  })\n  .encode('x', 'date')\n  .scale('color', {\n    domain: ['down', 'up'],\n    range: ['#4daf4a', '#e41a1c'],\n  })\n  .scale('x', {\n    compare: (a, b) => new Date(a).getTime() - new Date(b).getTime(),\n  })\n  .scale('y', {\n    domain: [20, 35],\n  })\n  .axis('x', {\n    labelFormatter: (d) => new Date(d).toLocaleDateString(),\n  });\n\nchart.interaction('tooltip', {\n  shared: true,\n});\n\nchart\n  .area()\n  .encode('y', 'range')\n  .style('fillOpacity', 0.3)\n  .style('fill', '#64b5f6')\n  .animate(false);\n\nchart\n  .link()\n  .encode('y', ['lowest', 'highest'])\n  .encode('color', 'trend')\n  .animate('enter', {\n    type: 'waveIn',\n  });\n\nchart\n  .interval()\n  .encode('y', ['start', 'end'])\n  .encode('color', 'trend')\n  .style('fillOpacity', 1)\n  .axis('y', {\n    title: false,\n  })\n  .tooltip({\n    title: 'date',\n    items: [\n      { field: 'start' },\n      { field: 'end' },\n      { field: 'lowest' },\n      { field: 'highest' },\n    ],\n  })\n  .animate('enter', {\n    type: 'waveIn',\n  });\n\nchart.line().encode('x', 'date').encode('y', 'mean').style('stroke', '#FACC14');\n\nchart.render();\n",title:{zh:"K 线图与范围区域图",en:"Candlestick chart and area range"},filename:"k-and-area.ts",isNew:!1}],icon:"",id:"candlestick",title:{en:"Candlestick",zh:"股票图"},api:null,childrenKey:"demos",order:10},{demos:[{id:"link",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*fjoBSKcG2lMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@observablehq/plot-link?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .link()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antfincdn/SM13%24lHuYH/metros.json',\n  })\n  .encode('x', ['POP_1980', 'POP_2015'])\n  .encode('y', ['R90_10_1980', 'R90_10_2015'])\n  .encode('color', (d) => d.R90_10_2015 - d.R90_10_1980)\n  .scale('x', { type: 'log' })\n  .style('arrow', true)\n  .style('arrowSize', 6)\n  .axis('x', {\n    labelFormatter: '~s',\n    labelTransform: 'rotate(90)',\n  })\n  .legend(false)\n  .tooltip({ title: { channel: 'color', valueFormatter: '.1f' } });\n\nchart.render();\n",title:{zh:"箭线",en:"Link Chart"},filename:"link.ts",isNew:!1},{id:"link-shape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*QRAQRLPWWSkAAAAAAAAAAAAAemJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@observablehq/plot-link?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\n[\n  { x1: 5, y1: 5, x2: 8, y2: 8, shape: 'link' },\n  { x1: 5, y1: 12, x2: 8, y2: 15, shape: 'smooth' },\n  { x1: 12, y1: 5, x2: 15, y2: 8, shape: 'vhv' },\n  { x1: 12, y1: 12, x2: 15, y2: 15, shape: 'arc' },\n].forEach((data) => {\n  chart\n    .link()\n    .data([data])\n    .encode('x', ['x1', 'x2'])\n    .encode('y', ['y1', 'y2'])\n    .scale({\n      x: { domainMin: 2, domainMax: 22 },\n      y: { domainMin: 4, domainMax: 18 },\n    })\n    .style({\n      arrow: true,\n      arrowSize: 10,\n      lineWidth: 5,\n      stroke: '#1f1aa1',\n      shape: data.shape,\n    });\n});\n\nchart.render();\n",title:{zh:"link 内置形状",en:"Link shape"},filename:"link-shape.ts",isNew:!1},{id:"link-annotation",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*b6WrQ4PYPCoAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@observablehq/plot-link?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\n\nconst income = [\n  {\n    type: 'All workers',\n    m: 57791,\n    f: 41518,\n    age: 'total',\n  },\n  {\n    type: 'Less than 9th grade',\n    m: 26789,\n    f: 20499,\n    age: 'total',\n  },\n  {\n    type: '9th to 12th grade (no diploma)',\n    m: 31434,\n    f: 23351,\n    age: 'total',\n  },\n  {\n    type: 'High school graduate',\n    m: 42466,\n    f: 29410,\n    age: 'total',\n  },\n  {\n    type: 'Some college, no degree',\n    m: 48431,\n    f: 35916,\n    age: 'total',\n  },\n  {\n    type: 'Associate’s degree',\n    m: 51485,\n    f: 40463,\n    age: 'total',\n  },\n  {\n    type: 'Bachelor’s degree or more',\n    m: 88843,\n    f: 59052,\n    age: 'total',\n  },\n  {\n    type: 'All workers',\n    m: 26170,\n    f: 23462,\n    age: '18 to 24 years old',\n  },\n  {\n    type: 'Less than 9th grade',\n    m: 19361,\n    f: null,\n    age: '18 to 24 years old',\n  },\n  {\n    type: '9th to 12th grade (no diploma)',\n    m: 20918,\n    f: 17514,\n    age: '18 to 24 years old',\n  },\n  {\n    type: 'High school graduate',\n    m: 24974,\n    f: 20427,\n    age: '18 to 24 years old',\n  },\n  {\n    type: 'Some college, no degree',\n    m: 26957,\n    f: 21822,\n    age: '18 to 24 years old',\n  },\n  {\n    type: 'Associate’s degree',\n    m: 29698,\n    f: 26638,\n    age: '18 to 24 years old',\n  },\n  {\n    type: 'Bachelor’s degree or more',\n    m: 38275,\n    f: 32865,\n    age: '18 to 24 years old',\n  },\n  {\n    type: 'All workers',\n    m: 46181,\n    f: 38581,\n    age: '25 to 34 years old',\n  },\n  {\n    type: 'Less than 9th grade',\n    m: 23453,\n    f: 18180,\n    age: '25 to 34 years old',\n  },\n  {\n    type: '9th to 12th grade (no diploma)',\n    m: 29347,\n    f: 21955,\n    age: '25 to 34 years old',\n  },\n  {\n    type: 'High school graduate',\n    m: 37181,\n    f: 26299,\n    age: '25 to 34 years old',\n  },\n  {\n    type: 'Some college, no degree',\n    m: 41073,\n    f: 32853,\n    age: '25 to 34 years old',\n  },\n  {\n    type: 'Associate’s degree',\n    m: 42357,\n    f: 38857,\n    age: '25 to 34 years old',\n  },\n  {\n    type: 'Bachelor’s degree or more',\n    m: 67195,\n    f: 50341,\n    age: '25 to 34 years old',\n  },\n  {\n    type: 'All workers',\n    m: 63247,\n    f: 44183,\n    age: '35 to 44 years old',\n  },\n  {\n    type: 'Less than 9th grade',\n    m: 29302,\n    f: 21152,\n    age: '35 to 44 years old',\n  },\n  {\n    type: '9th to 12th grade (no diploma)',\n    m: 31018,\n    f: 24637,\n    age: '35 to 44 years old',\n  },\n  {\n    type: 'High school graduate',\n    m: 45316,\n    f: 30769,\n    age: '35 to 44 years old',\n  },\n  {\n    type: 'Some college, no degree',\n    m: 53080,\n    f: 37323,\n    age: '35 to 44 years old',\n  },\n  {\n    type: 'Associate’s degree',\n    m: 58759,\n    f: 41892,\n    age: '35 to 44 years old',\n  },\n  {\n    type: 'Bachelor’s degree or more',\n    m: 95002,\n    f: 63427,\n    age: '35 to 44 years old',\n  },\n  {\n    type: 'All workers',\n    m: 67635,\n    f: 45332,\n    age: '45 to 54 years old',\n  },\n  {\n    type: 'Less than 9th grade',\n    m: 28988,\n    f: 21633,\n    age: '45 to 54 years old',\n  },\n  {\n    type: '9th to 12th grade (no diploma)',\n    m: 35615,\n    f: 24304,\n    age: '45 to 54 years old',\n  },\n  {\n    type: 'High school graduate',\n    m: 49199,\n    f: 31984,\n    age: '45 to 54 years old',\n  },\n  {\n    type: 'Some college, no degree',\n    m: 56320,\n    f: 39785,\n    age: '45 to 54 years old',\n  },\n  {\n    type: 'Associate’s degree',\n    m: 57363,\n    f: 44191,\n    age: '45 to 54 years old',\n  },\n  {\n    type: 'Bachelor’s degree or more',\n    m: 101763,\n    f: 65001,\n    age: '45 to 54 years old',\n  },\n  {\n    type: 'All workers',\n    m: 65956,\n    f: 43870,\n    age: '55 to 64 years old',\n  },\n  {\n    type: 'Less than 9th grade',\n    m: 29913,\n    f: 19681,\n    age: '55 to 64 years old',\n  },\n  {\n    type: '9th to 12th grade (no diploma)',\n    m: 41136,\n    f: 25078,\n    age: '55 to 64 years old',\n  },\n  {\n    type: 'High school graduate',\n    m: 47741,\n    f: 31015,\n    age: '55 to 64 years old',\n  },\n  {\n    type: 'Some college, no degree',\n    m: 56120,\n    f: 40749,\n    age: '55 to 64 years old',\n  },\n  {\n    type: 'Associate’s degree',\n    m: 51978,\n    f: 39477,\n    age: '55 to 64 years old',\n  },\n  {\n    type: 'Bachelor’s degree or more',\n    m: 92223,\n    f: 64054,\n    age: '55 to 64 years old',\n  },\n  {\n    type: 'All workers',\n    m: 58565,\n    f: 38629,\n    age: '65 years old and over',\n  },\n  {\n    type: 'Less than 9th grade',\n    m: 26062,\n    f: null,\n    age: '65 years old and over',\n  },\n  {\n    type: '9th to 12th grade (no diploma)',\n    m: 32810,\n    f: 27948,\n    age: '65 years old and over',\n  },\n  {\n    type: 'High school graduate',\n    m: 42766,\n    f: 29170,\n    age: '65 years old and over',\n  },\n  {\n    type: 'Some college, no degree',\n    m: 51091,\n    f: 43082,\n    age: '65 years old and over',\n  },\n  {\n    type: 'Associate’s degree',\n    m: 48347,\n    f: 37079,\n    age: '65 years old and over',\n  },\n  {\n    type: 'Bachelor’s degree or more',\n    m: 85106,\n    f: 58288,\n    age: '65 years old and over',\n  },\n];\n\nconst incdomain = (() => {\n  const elements = []\n    .concat(\n      income.map((v) => v.m),\n      income.map((v) => v.f),\n    )\n    .filter((v) => typeof v === 'number');\n\n  return [Math.min(...elements), Math.max(...elements)];\n})();\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingRight: 20,\n});\n\nchart\n  .link()\n  .data([1])\n  .encode('x', [() => incdomain[0], () => incdomain[1]])\n  .encode('y', [() => incdomain[0], () => incdomain[1]])\n  .tooltip(false)\n  .label({\n    position: 'top-right',\n    text: (v) => `${v * 100}%`,\n    dx: 4,\n    textAlign: 'start',\n    textBaseline: 'middle',\n  })\n  .style('stroke', '#000');\n\nchart\n  .link()\n  .data([0.6, 0.7, 0.8, 0.9])\n  .encode('x', [() => incdomain[0], () => incdomain[1]])\n  .encode('y', [(v) => v * incdomain[0], (v) => v * incdomain[1]])\n  .tooltip(false)\n  .label({\n    position: 'top-right',\n    text: (v) => `${v * 100}%`,\n    dx: 4,\n    textAlign: 'start',\n    textBaseline: 'middle',\n  })\n  .style('stroke', '#000')\n  .style('opacity', 0.2);\n\nchart\n  .point()\n  .data(income)\n  .encode('x', 'm')\n  .encode('y', 'f')\n  .encode('size', 4)\n  .encode('shape', 'hollow')\n  .style('stroke', '#000');\n\nchart.render();\n",title:{zh:"Link 辅助线",en:"Link Annotation"},filename:"link-annotation.ts",isNew:!1}],icon:"",id:"link",title:{en:"Link",zh:"连接图"},api:null,childrenKey:"demos",order:11},{demos:[{id:"wind",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1LQ2Sbpwl6YAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .vector()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antfincdn/F5VcgnqRku/wind.json',\n  })\n  .encode('x', 'longitude')\n  .encode('y', 'latitude')\n  .encode('rotate', ({ u, v }) => (Math.atan2(v, u) * 180) / Math.PI)\n  .encode('size', ({ u, v }) => Math.hypot(v, u))\n  .encode('color', ({ u, v }) => Math.hypot(v, u))\n  .scale('size', { range: [6, 20] })\n  .scale('color', { palette: 'viridis' })\n  .axis('x', { grid: false })\n  .axis('y', { grid: false })\n  .legend(false)\n  .tooltip({ title: { channel: 'color', valueFormatter: '.1f' } });\n\nchart.render();\n",title:{zh:"风向量场",en:"Wind Vector"},filename:"wind.ts",isNew:!1},{id:"poisson",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*uZwwQLVg1yYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nfetch('https://gw.alipayobjects.com/os/antfincdn/OJOgPypkeE/poisson-disk.json')\n  .then((res) => res.json())\n  .then((poisson) => {\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n    });\n\n    const data = poisson.map(([x, y]) => ({\n      x,\n      y,\n      size: (noise(x + 2, y) + 0.5) * 24,\n      rotate: noise(x, y) * 360,\n    }));\n\n    chart\n      .vector()\n      .data(data)\n      .encode('x', 'x')\n      .encode('y', 'y')\n      .encode('rotate', 'rotate')\n      .encode('size', 'size')\n      .encode('color', 'black')\n      .scale('size', { range: [6, 20] })\n      .axis('x', { grid: false })\n      .axis('y', { grid: false })\n      .legend(false)\n      .tooltip([\n        { channel: 'x', valueFormatter: '.2f' },\n        { channel: 'y', valueFormatter: '.2f' },\n      ]);\n\n    chart.render();\n  });\n\n// ------------ library ---------------\nconst p = [\n  151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233, 7, 225, 140,\n  36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148, 247, 120, 234,\n  75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57, 177, 33, 88, 237,\n  149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165, 71, 134, 139, 48,\n  27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133, 230, 220, 105,\n  92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1, 216, 80, 73,\n  209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116, 188, 159, 86,\n  164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124, 123, 5, 202, 38,\n  147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16, 58, 17, 182, 189,\n  28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163, 70, 221, 153, 101,\n  155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110, 79, 113, 224, 232,\n  178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193, 238, 210, 144, 12,\n  191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107, 49, 192, 214, 31,\n  181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45, 127, 4, 150, 254,\n  138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128, 195, 78, 66, 215,\n  61, 156, 180, 151, 160, 137, 91, 90, 15, 131, 13, 201, 95, 96, 53, 194, 233,\n  7, 225, 140, 36, 103, 30, 69, 142, 8, 99, 37, 240, 21, 10, 23, 190, 6, 148,\n  247, 120, 234, 75, 0, 26, 197, 62, 94, 252, 219, 203, 117, 35, 11, 32, 57,\n  177, 33, 88, 237, 149, 56, 87, 174, 20, 125, 136, 171, 168, 68, 175, 74, 165,\n  71, 134, 139, 48, 27, 166, 77, 146, 158, 231, 83, 111, 229, 122, 60, 211, 133,\n  230, 220, 105, 92, 41, 55, 46, 245, 40, 244, 102, 143, 54, 65, 25, 63, 161, 1,\n  216, 80, 73, 209, 76, 132, 187, 208, 89, 18, 169, 200, 196, 135, 130, 116,\n  188, 159, 86, 164, 100, 109, 198, 173, 186, 3, 64, 52, 217, 226, 250, 124,\n  123, 5, 202, 38, 147, 118, 126, 255, 82, 85, 212, 207, 206, 59, 227, 47, 16,\n  58, 17, 182, 189, 28, 42, 223, 183, 170, 213, 119, 248, 152, 2, 44, 154, 163,\n  70, 221, 153, 101, 155, 167, 43, 172, 9, 129, 22, 39, 253, 19, 98, 108, 110,\n  79, 113, 224, 232, 178, 185, 112, 104, 218, 246, 97, 228, 251, 34, 242, 193,\n  238, 210, 144, 12, 191, 179, 162, 241, 81, 51, 145, 235, 249, 14, 239, 107,\n  49, 192, 214, 31, 181, 199, 106, 157, 184, 84, 204, 176, 115, 121, 50, 45,\n  127, 4, 150, 254, 138, 236, 205, 93, 222, 114, 67, 29, 24, 72, 243, 141, 128,\n  195, 78, 66, 215, 61, 156, 180,\n];\n\nconst noise = octave(perlin2, 2);\n\nfunction octave(noise, octaves) {\n  return function (x, y, z) {\n    let total = 0;\n    let frequency = 1;\n    let amplitude = 1;\n    let value = 0;\n    for (let i = 0; i < octaves; ++i) {\n      value += noise(x * frequency, y * frequency, z * frequency) * amplitude;\n      total += amplitude;\n      amplitude *= 0.5;\n      frequency *= 2;\n    }\n    return value / total;\n  };\n}\n\nfunction perlin2(x, y) {\n  const xi = Math.floor(x),\n    yi = Math.floor(y);\n  const X = xi & 255,\n    Y = yi & 255;\n  const u = fade((x -= xi)),\n    v = fade((y -= yi));\n  const A = p[X] + Y,\n    B = p[X + 1] + Y;\n  return lerp(\n    v,\n    lerp(u, grad2(p[A], x, y), grad2(p[B], x - 1, y)),\n    lerp(u, grad2(p[A + 1], x, y - 1), grad2(p[B + 1], x - 1, y - 1)),\n  );\n}\n\nfunction fade(t) {\n  return t * t * t * (t * (t * 6 - 15) + 10);\n}\n\nfunction grad2(i, x, y) {\n  const v = i & 1 ? y : x;\n  return i & 2 ? -v : v;\n}\n\nfunction lerp(t, a, b) {\n  return a + t * (b - a);\n}\n// ------------ library ---------------\n",title:{zh:"珀林噪声场",en:"Perlin noise"},filename:"poisson.ts",isNew:!1}],icon:"",id:"vector",title:{en:"Vector",zh:"向量场"},api:null,childrenKey:"demos",order:12},{demos:[{id:"box",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*fykJSJFMPtQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { x: 'Oceania', y: [1, 9, 16, 22, 24] },\n  { x: 'East Europe', y: [1, 5, 8, 12, 16] },\n  { x: 'Australia', y: [1, 8, 12, 19, 26] },\n  { x: 'South America', y: [2, 8, 12, 21, 28] },\n  { x: 'North Africa', y: [1, 8, 14, 18, 24] },\n  { x: 'North America', y: [3, 10, 17, 28, 30] },\n  { x: 'West Europe', y: [1, 7, 10, 17, 22] },\n  { x: 'West Africa', y: [1, 6, 8, 13, 16] },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .box()\n  .data(data)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', 'x')\n  .scale('x', { paddingInner: 0.6, paddingOuter: 0.3 })\n  .scale('y', { zero: true })\n  .legend(false)\n  .style('stroke', 'black')\n  .tooltip([\n    { name: 'min', channel: 'y' },\n    { name: 'q1', channel: 'y1' },\n    { name: 'q2', channel: 'y2' },\n    { name: 'q3', channel: 'y3' },\n    { name: 'max', channel: 'y4' },\n  ]);\n\nchart.render();\n",title:{zh:"预处理箱线图",en:"Boxplot"},filename:"box.ts",isNew:!1},{id:"grouped-box",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*CqOoTa4Y4GAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  {\n    Species: 'I. setosa',\n    type: 'SepalLength',\n    value: 5.1,\n    bin: [4.3, 4.8, 5, 5.2, 5.8],\n  },\n  {\n    Species: 'I. setosa',\n    type: 'SepalWidth',\n    value: 3.5,\n    bin: [2.3, 3.2, 3.4, 3.7, 4.4],\n  },\n  {\n    Species: 'I. setosa',\n    type: 'PetalLength',\n    value: 1.4,\n    bin: [1, 1.4, 1.5, 1.6, 1.9],\n  },\n  {\n    Species: 'I. setosa',\n    type: 'PetalWidth',\n    value: 0.2,\n    bin: [0.1, 0.2, 0.2, 0.3, 0.6],\n  },\n  {\n    Species: 'I. versicolor',\n    type: 'SepalLength',\n    value: 7,\n    bin: [4.9, 5.6, 5.9, 6.3, 7],\n  },\n  {\n    Species: 'I. versicolor',\n    type: 'SepalWidth',\n    value: 3.2,\n    bin: [2, 2.5, 2.8, 3, 3.4],\n  },\n  {\n    Species: 'I. versicolor',\n    type: 'PetalLength',\n    value: 4.7,\n    bin: [3, 4, 4.35, 4.6, 5.1],\n  },\n  {\n    Species: 'I. versicolor',\n    type: 'PetalWidth',\n    value: 1.4,\n    bin: [1, 1.2, 1.3, 1.5, 1.8],\n  },\n  {\n    Species: 'I. virginica',\n    type: 'SepalLength',\n    value: 6.3,\n    bin: [4.9, 6.2, 6.5, 6.9, 7.9],\n  },\n  {\n    Species: 'I. virginica',\n    type: 'SepalWidth',\n    value: 3.3,\n    bin: [2.2, 2.8, 3, 3.2, 3.8],\n  },\n  {\n    Species: 'I. virginica',\n    type: 'PetalLength',\n    value: 6,\n    bin: [4.5, 5.1, 5.55, 5.9, 6.9],\n  },\n  {\n    Species: 'I. virginica',\n    type: 'PetalWidth',\n    value: 2.5,\n    bin: [1.4, 1.8, 2, 2.3, 2.5],\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .box()\n  .data(data)\n  .encode('x', 'type')\n  .encode('y', 'bin')\n  .encode('series', 'Species')\n  .encode('color', 'Species')\n  .scale('x', { paddingInner: 0.2, paddingOuter: 0.1 })\n  .scale('y', { zero: true })\n  .scale('series', { paddingInner: 0.3, paddingOuter: 0.1 })\n  .style('stroke', 'black')\n  .tooltip([\n    { name: 'min', channel: 'y' },\n    { name: 'q1', channel: 'y1' },\n    { name: 'q2', channel: 'y2' },\n    { name: 'q3', channel: 'y3' },\n    { name: 'max', channel: 'y4' },\n  ]);\n\nchart.render();\n",title:{zh:"预处理分组箱线图",en:"Grouped Boxplot"},filename:"grouped-box.ts",isNew:!1},{id:"boxplot",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*yuoXSJhQol0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .boxplot()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/morley.json',\n  })\n  .encode('x', 'Expt')\n  .encode('y', 'Speed')\n  .style('point', false);\n\nchart.render();\n",title:{zh:"无异常点箱线图",en:"Boxplot"},filename:"boxplot.ts",isNew:!1},{id:"boxplot-outlier",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*PxD1QZ8xRsIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  inset: 6,\n  autoFit: true,\n});\n\nchart\n  .boxplot()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/morley.json',\n  })\n  .encode('x', 'Expt')\n  .encode('y', 'Speed');\n\nchart.render();\n",title:{zh:"带异常点箱线图",en:"Boxplot with Outlier"},filename:"boxplot-outlier.ts",isNew:!1},{id:"grouped-boxplot-outlier",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*jHAhR5NH2OQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .boxplot()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/penguins.json',\n  })\n  .encode('x', 'species')\n  .encode('y', 'flipper_length_mm')\n  .encode('color', 'sex')\n  .encode('series', 'sex');\n\nchart.render();\n",title:{zh:"带异常点分组箱线图",en:"grouped Boxplot with Outlier"},filename:"grouped-boxplot-outlier.ts",isNew:!1},{id:"boxplot-1d",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DsE6S4ZS-68AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 120,\n  inset: 6,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .boxplot()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/morley.json',\n    transform: [{ type: 'filter', callback: (d) => d.Expt === 1 }],\n  })\n  .encode('y', 'Speed')\n  .style('boxFill', '#aaa')\n  .style('pointStroke', '#000');\n\nchart.render();\n",title:{zh:"一维箱线图",en:"Boxplot 1d"},filename:"boxplot-1d.ts",isNew:!1},{id:"polar-box",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*H3feTr-k4XQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { x: 'Oceania', y: [1, 9, 16, 22, 24] },\n  { x: 'East Europe', y: [1, 5, 8, 12, 16] },\n  { x: 'Australia', y: [1, 8, 12, 19, 26] },\n  { x: 'South America', y: [2, 8, 12, 21, 28] },\n  { x: 'North Africa', y: [1, 8, 14, 18, 24] },\n  { x: 'North America', y: [3, 10, 17, 28, 30] },\n  { x: 'West Europe', y: [1, 7, 10, 17, 22] },\n  { x: 'West Africa', y: [1, 6, 8, 13, 16] },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'polar', innerRadius: 0.2 });\n\nchart\n  .box()\n  .data(data)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', 'x')\n  .scale('x', { paddingInner: 0.6, paddingOuter: 0.3 })\n  .scale('y', { zero: true })\n  .style('stroke', 'black')\n  .axis('y', { tickCount: 5 })\n  .tooltip({ channel: 'y', name: 'min' })\n  .tooltip({ channel: 'y1', name: 'q1' })\n  .tooltip({ channel: 'y2', name: 'q2' })\n  .tooltip({ channel: 'y3', name: 'q3' })\n  .tooltip({ channel: 'y4', name: 'max' })\n  .legend(false);\n\nchart.render();\n",title:{zh:"径向箱线图",en:"Polar Boxplot"},filename:"polar-box.ts",isNew:!1}],icon:"",id:"box",title:{en:"Box",zh:"箱线图"},api:null,childrenKey:"demos",order:13},{demos:[{id:"paragraph",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*W9TRQJd7BbsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst paragraph = [\n  'Call me Ishmael. Some years ago—never mind how long precisely—having little or no money in my purse, and nothing particular to interest me on shore, I thought I would sail about a little and see the watery part of the world. It is a way I have of driving off the spleen and regulating the circulation. Whenever I find myself growing grim about the mouth; whenever it is a damp, drizzly November in my soul; whenever I find myself involuntarily pausing before coffin warehouses, and bringing up the rear of every funeral I meet; and especially whenever my hypos get such an upper hand of me, that it requires a strong moral principle to prevent me from deliberately stepping into the street, and methodically knocking people’s hats off—then, I account it high time to get to sea as soon as I can. This is my substitute for pistol and ball. With a philosophical flourish Cato throws himself upon his sword; I quietly take to the ship. There is nothing surprising in this. If they but knew it, almost all men in their degree, some time or other, cherish very nearly the same feelings towards the ocean with me.',\n  'There now is your insular city of the Manhattoes, belted round by wharves as Indian isles by coral reefs—commerce surrounds it with her surf. Right and left, the streets take you waterward. Its extreme downtown is the battery, where that noble mole is washed by waves, and cooled by breezes, which a few hours previous were out of sight of land. Look at the crowds of water-gazers there.',\n  'Circumambulate the city of a dreamy Sabbath afternoon. Go from Corlears Hook to Coenties Slip, and from thence, by Whitehall, northward. What do you see?—Posted like silent sentinels all around the town, stand thousands upon thousands of mortal men fixed in ocean reveries. Some leaning against the spiles; some seated upon the pier-heads; some looking over the bulwarks of ships from China; some high aloft in the rigging, as if striving to get a still better seaward peep. But these are all landsmen; of week days pent up in lath and plaster—tied to counters, nailed to benches, clinched to desks. How then is this? Are the green fields gone? What do they here?',\n].map((text, idx) => ({ idx, text }));\n\nconst chart = new Chart({\n  container: 'container',\n  width: 640,\n  height: 480,\n});\n\nchart.data(paragraph);\n\nchart\n  .text()\n  .encode('x', 'idx')\n  .encode('y', 1)\n  .encode('text', 'idx')\n  .scale('x', { type: 'band' })\n  .scale('y', { domain: [0, 1] })\n  .style('wordWrap', true)\n  .style('wordWrapWidth', 160)\n  .style('dx', -75)\n  .style('dy', 0)\n  .style('textAlign', 'left')\n  .style('textBaseline', 'top')\n  .style('fontSize', 12)\n  .style('background', true)\n  .style('backgroundFill', '#416180')\n  .style('backgroundFillOpacity', 0.05)\n  .style('backgroundRadius', 3)\n  .style('backgroundPadding', [2, 4])\n  .axis(false)\n  .legend(false);\n\nchart\n  .text()\n  .encode('x', 'idx')\n  .encode('y', 1)\n  .encode('text', 'text')\n  .encode('color', 'text')\n  .scale('x', { type: 'band' })\n  .scale('y', { domain: [0, 1] })\n  .style('wordWrap', true)\n  .style('wordWrapWidth', 160)\n  .style('dx', -80)\n  .style('dy', 25)\n  .style('textAlign', 'left')\n  .style('textBaseline', 'top')\n  .style('fontSize', 10)\n  .style('lineWidth', 0)\n  .axis(false)\n  .legend(false);\n\nchart.render();\n",title:{zh:"文本段落",en:"Paragraph"},filename:"paragraph.ts",isNew:!1},{id:"poetry",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hKf9TbJEeooAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst words =\n  `This Is Just To Say\\nWilliam Carlos Williams, 1934\\n\\nI have eaten\\nthe plums\\nthat were in\\nthe icebox\\n\\nand which\\nyou were probably\\nsaving\\nfor breakfast\\n\\nForgive me\\nthey were delicious\\nso sweet\\nand so cold`\n    .split('\\n')\n    .map((d) => ({ text: d }));\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .text()\n  .data(words)\n  .encode('x', 0.5)\n  .encode('y', (_, idx) => idx)\n  .encode('text', 'text')\n  .encode('color', (_, idx) => idx)\n  .encode('opacity', (_, idx) => idx)\n  .scale('y', { type: 'point' })\n  .style('textAlign', 'center')\n  .style('textBaseline', 'middle')\n  .style('fontSize', 16)\n  .scale('color', { offset: (t) => 1 - t })\n  .axis(false)\n  .legend(false);\n\nchart.render();\n",title:{zh:"诗词可视化",en:"Poetry"},filename:"poetry.ts",isNew:!1},{id:"train",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9oS5TKxuK-MAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 600,\n  height: 300,\n  paddingLeft: 48,\n});\n\nconst X = new Array(21).fill(0).map((_, idx) => idx + 4);\nconst Y = [-3, -2, -1, 0, 1, 2, 3];\n\n// Time axis\nchart\n  .text()\n  .data(X.slice(1))\n  .encode('x', (v) => v)\n  .encode('y', 0)\n  .encode('text', (v) => (v < 12 ? `${v}a` : `${v - 12}p`))\n  .scale('x', { domain: X })\n  .scale('y', { domain: Y })\n  .style('fill', 'grey')\n  .axis(false);\n\n// South / North label\nchart\n  .text()\n  .data(['South', 'North'])\n  .encode('x', 4)\n  .encode('y', (_, idx) => (idx == 0 ? -1 : 1))\n  .encode('text', (t) => t)\n  .scale('x', { domain: X })\n  .scale('y', { domain: Y })\n  .style('textAlign', 'right')\n  .axis(false);\n\n// NLB\nchart\n  .text()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/caltrain.json',\n  })\n  .transform([{ type: 'stackY' }])\n  .encode('x', (d) => Number(d.hours))\n  .encode('y', (d) => (d.orientation === 'S' ? -1 : 1))\n  .encode('color', 'type')\n  .encode('text', (d) => d.minutes.padStart(2, '0'))\n  .scale('x', { domain: X })\n  .scale('y', { domain: Y })\n  .scale('color', { range: ['currentColor', 'peru', 'brown'] })\n  .style('stroke', 'transparent');\n\nchart.render();\n",title:{zh:"火车调度",en:"Train"},filename:"train.ts",isNew:!1},{id:"wordCloud",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0xE1T7W2Oq4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingTop: 40,\n});\n\nchart\n  .wordCloud()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/philosophy-word.json',\n  })\n  .layout({\n    spiral: 'rectangular',\n    fontSize: [20, 100],\n  })\n  .encode('color', 'text');\n\nchart.render();\n",title:{zh:"词云图",en:"WordCloud"},filename:"wordCloud.ts",isNew:!1},{id:"wordCloud-english",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*H6BoRoDMolwAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"/**\n * A recreation of this demo: // https://www.jasondavies.com/wordcloud/\n */\nimport { Chart } from '@antv/g2';\n\nconst Word = {\n  '32': 2,\n  word: 10,\n  cloud: 1,\n  generator: 1,\n  works: 1,\n  layout: 4,\n  algorithm: 4,\n  positioning: 1,\n  words: 8,\n  without: 3,\n  overlap: 1,\n  available: 1,\n  github: 1,\n  open: 1,\n  source: 1,\n  license: 1,\n  d3cloud: 1,\n  note: 1,\n  code: 1,\n  converting: 1,\n  text: 1,\n  rendering: 1,\n  final: 1,\n  output: 1,\n  requires: 1,\n  additional: 1,\n  development: 1,\n  placement: 2,\n  quite: 1,\n  slow: 1,\n  hundred: 1,\n  run: 1,\n  asynchronously: 1,\n  configurable: 1,\n  time: 2,\n  step: 3,\n  size: 1,\n  makes: 1,\n  possible: 2,\n  animate: 1,\n  placed: 5,\n  stuttering: 1,\n  recommended: 1,\n  always: 1,\n  use: 1,\n  even: 2,\n  animations: 1,\n  prevents: 1,\n  browsers: 1,\n  event: 1,\n  loop: 1,\n  blocking: 1,\n  placing: 1,\n  incredibly: 1,\n  simple: 2,\n  starting: 2,\n  important: 1,\n  attempt: 1,\n  place: 1,\n  point: 1,\n  usually: 1,\n  near: 1,\n  middle: 1,\n  somewhere: 1,\n  central: 1,\n  horizontal: 1,\n  line: 1,\n  intersects: 1,\n  previously: 2,\n  move: 2,\n  one: 1,\n  along: 1,\n  increasing: 1,\n  spiral: 1,\n  repeat: 1,\n  intersections: 1,\n  found: 1,\n  hard: 1,\n  part: 1,\n  making: 1,\n  perform: 2,\n  efficiently: 1,\n  according: 1,\n  jonathan: 1,\n  feinberg: 1,\n  wordle: 1,\n  uses: 1,\n  combination: 1,\n  hierarchical: 2,\n  bounding: 3,\n  boxes: 1,\n  quadtrees: 1,\n  achieve: 1,\n  reasonable: 1,\n  speeds: 1,\n  glyphs: 1,\n  javascript: 1,\n  isnt: 1,\n  way: 1,\n  retrieve: 3,\n  precise: 1,\n  glyph: 1,\n  shapes: 1,\n  via: 1,\n  dom: 1,\n  except: 1,\n  perhaps: 1,\n  svg: 1,\n  fonts: 1,\n  instead: 1,\n  draw: 2,\n  hidden: 1,\n  canvas: 1,\n  element: 1,\n  pixel: 2,\n  data: 2,\n  retrieving: 1,\n  separately: 2,\n  expensive: 2,\n  many: 1,\n  pixels: 2,\n  batch: 1,\n  operation: 3,\n  sprites: 1,\n  masks: 2,\n  initial: 1,\n  implementation: 2,\n  performed: 1,\n  collision: 3,\n  detection: 2,\n  using: 1,\n  sprite: 7,\n  doesnt: 1,\n  copy: 1,\n  appropriate: 1,\n  position: 1,\n  larger: 2,\n  representing: 1,\n  whole: 2,\n  area: 4,\n  advantage: 1,\n  involves: 1,\n  comparing: 2,\n  candidate: 3,\n  relevant: 1,\n  rather: 1,\n  previous: 1,\n  somewhat: 1,\n  surprisingly: 1,\n  lowlevel: 1,\n  hack: 1,\n  made: 1,\n  tremendous: 1,\n  difference: 1,\n  constructing: 1,\n  compressed: 1,\n  blocks: 1,\n  '1bit': 1,\n  '32bit': 1,\n  integers: 1,\n  thus: 1,\n  reducing: 1,\n  number: 1,\n  checks: 1,\n  memory: 1,\n  times: 1,\n  fact: 1,\n  turned: 1,\n  beat: 1,\n  box: 2,\n  quadtree: 1,\n  everything: 1,\n  tried: 1,\n  large: 2,\n  areas: 1,\n  font: 1,\n  sizes: 1,\n  think: 2,\n  primarily: 1,\n  version: 2,\n  needs: 1,\n  single: 2,\n  test: 1,\n  per: 1,\n  whereas: 1,\n  compare: 1,\n  every: 1,\n  overlaps: 1,\n  slightly: 1,\n  another: 1,\n  possibility: 1,\n  merge: 1,\n  tree: 2,\n  fairly: 1,\n  though: 1,\n  compared: 1,\n  analagous: 1,\n  mask: 1,\n  essentially: 1,\n  oring: 1,\n  block: 1,\n};\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .wordCloud()\n  .data(Object.entries(Word).map(([text, value]) => ({ text, value })))\n  .layout({\n    fontSize: [20, 100],\n  })\n  .encode('color', 'text')\n  .legend(false);\n\nchart.render();\n",title:{zh:"英文字符词云图",en:"English WordCloud"},filename:"wordCloud-english.ts",isNew:!1},{id:"wordCloud-mask",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*P6MoSriYWhkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  height: 400,\n});\n\nchart\n  .wordCloud()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/antvdemo/assets/data/antv-keywords.json',\n  })\n  .layout({\n    imageMask:\n      'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*LKU4TYEiB-4AAAAAAAAAAAAADmJ7AQ/original',\n    fontSize: 12,\n  })\n  .encode('color', 'name')\n  .encode('text', 'name')\n  .legend(false);\n\nchart.render();\n",title:{zh:"带图片遮罩的词云图",en:"WordCloud with image mask"},filename:"wordCloud-mask.ts",isNew:!1},{id:"stem-leaf",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*5NHKSLY9WFgAAAAAQsAAAAgAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\nconst chart = new Chart({\n  container: 'container',\n  width: 1000,\n  height: 600,\n});\n\nconst rawData = {\n  left: [\n    45, 47, 48, 52, 53, 55, 56, 57, 59, 62, 63, 64, 65, 66, 67, 68, 69, 71, 72,\n    73, 74, 75, 76, 77, 78,\n  ],\n  right: [\n    43, 44, 46, 51, 54, 55, 58, 59, 61, 62, 63, 64, 65, 66, 67, 68, 72, 73, 74,\n    75, 76, 77, 79, 82,\n  ],\n};\n// process data\nfunction processDualStemLeaf(data) {\n  const stemMap = new Map();\n  ['left', 'right'].forEach((side) => {\n    data[side].forEach((score) => {\n      const stem = Math.floor(score / 10);\n      const leaf = score % 10;\n      if (!stemMap.has(stem)) {\n        stemMap.set(stem, { left: [], right: [] });\n      }\n      stemMap.get(stem)[side].push(leaf);\n    });\n  });\n  // sort\n  Array.from(stemMap.values()).forEach((group) => {\n    group.left.sort((a, b) => b - a);\n    group.right.sort((a, b) => a - b);\n  });\n  const stems = Array.from(stemMap.keys()).sort((a, b) => a - b);\n  const chartData = [];\n\n  stems.forEach((stem, index) => {\n    const yPos = stems.length - index - 1;\n    const { left, right } = stemMap.get(stem);\n    chartData.push({\n      x: 0.5,\n      y: yPos,\n      text: `${stem}`,\n      type: 'stem',\n      color: '#333',\n    });\n    left.forEach((leaf, i) => {\n      chartData.push({\n        x: 0.45 - (i + 1) * 0.035, // 右侧起始位置递减\n        y: yPos,\n        text: `${leaf}`,\n        type: 'leaf-left',\n        color: '#1f77b4',\n      });\n    });\n    right.forEach((leaf, i) => {\n      chartData.push({\n        x: 0.55 + i * 0.035, // 左侧起始位置递增\n        y: yPos,\n        text: `${leaf}`,\n        type: 'leaf-right',\n        color: '#ff7f0e',\n      });\n    });\n  });\n  return { chartData, maxY: stems.length };\n}\nconst { chartData, maxY } = processDualStemLeaf(rawData);\n// stem and leaf\nchart\n  .text()\n  .data(chartData)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('text', 'text')\n  .encode('fill', 'color')\n  .style('textAlign', 'center')\n  .style('textBaseline', 'middle')\n  .style('fontSize', (d) => {\n    if (d.type === 'stem') return 18;\n    return d.type.includes('leaf') ? 14 : 16;\n  })\n  .style('fontWeight', (d) => (d.type === 'stem' ? 'bold' : 'normal'))\n  .style('dx', (d) => (d.type === 'stem' ? -10 : 0))\n  .scale('x', { domain: [0, 1], nice: false })\n  .scale('y', { domain: [-1, maxY], nice: false })\n  .axis(false);\n// title\nchart\n  .text()\n  .data([\n    { x: 0.4, y: maxY, text: 'A班', color: '#1f77b4' },\n    { x: 0.55, y: maxY, text: 'B班', color: '#ff7f0e' },\n  ])\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('text', 'text')\n  .encode('fill', 'color')\n  .style('fontWeight', 'bold')\n  .style('fontSize', 14);\n// dividing line\nchart.lineX().data([0.46, 0.52]).style({\n  lineWidth: 2,\n  stroke: '#000',\n  strokeOpacity: 0.8,\n});\nchart.render();\n",title:{zh:"茎叶图",en:"Stem Leaf"},filename:"stem-leaf.ts",isNew:!1}],icon:"",id:"text",title:{en:"Text",zh:"文本"},api:null,childrenKey:"demos",order:14},{demos:[{id:"logo",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*R8TRQJMrQ-AAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  {\n    name: 'Internet Explorer',\n    value: 26,\n    url: 'https://gw.alipayobjects.com/zos/rmsportal/eOYRaLPOmkieVvjyjTzM.png',\n  },\n  {\n    name: 'Chrome',\n    value: 40,\n    url: 'https://gw.alipayobjects.com/zos/rmsportal/dWJWRLWfpOEbwCyxmZwu.png',\n  },\n  {\n    name: 'Firefox',\n    value: 30,\n    url: 'https://gw.alipayobjects.com/zos/rmsportal/ZEPeDluKmAoTioCABBTc.png',\n  },\n  {\n    name: 'Safari',\n    value: 24,\n    url: 'https://gw.alipayobjects.com/zos/rmsportal/eZYhlLzqWLAYwOHQAXmc.png',\n  },\n  {\n    name: 'Opera',\n    value: 15,\n    url: 'https://gw.alipayobjects.com/zos/rmsportal/vXiGOWCGZNKuVVpVYQAw.png',\n  },\n  {\n    name: 'Undetectable',\n    value: 8,\n    url: 'https://gw.alipayobjects.com/zos/rmsportal/NjApYXminrnhBgOXyuaK.png',\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart\n  .link()\n  .encode('x', ['name', 'name'])\n  .encode('y', (d) => [0, d.value])\n  .style('stroke', '#dfdfdf')\n  .style('lineDash', [2, 2]);\n\nchart\n  .line()\n  .encode('x', 'name')\n  .encode('y', 'value')\n  .encode('shape', 'smooth')\n  .scale('x', { type: 'band' })\n  .scale('y', { domain: [0, 50] })\n  .style('opacity', 0.5);\n\nchart\n  .image()\n  .encode('x', 'name')\n  .encode('y', 'value')\n  .encode('src', 'url')\n  .scale('x', { type: 'band' })\n  .scale('y', { domain: [0, 50] })\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"浏览器图标",en:"Browser Logo"},filename:"logo.ts",isNew:!1},{id:"icon",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*CKmISLNs5FAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst dataXO = [\n  {\n    x: 0,\n    y: 0.241,\n    type: 'x',\n  },\n  {\n    x: 1,\n    y: 0.367,\n    type: 'x',\n  },\n  {\n    x: 2,\n    y: 0.036,\n    type: 'x',\n  },\n  {\n    x: 3,\n    y: 0.112,\n    type: 'o',\n  },\n  {\n    x: 4,\n    y: 0.382,\n    type: 'x',\n  },\n  {\n    x: 5,\n    y: 0.594,\n    type: 'o',\n  },\n  {\n    x: 6,\n    y: 0.516,\n    type: 'o',\n  },\n  {\n    x: 7,\n    y: 0.634,\n    type: 'x',\n  },\n  {\n    x: 8,\n    y: 0.612,\n    type: 'x',\n  },\n  {\n    x: 9,\n    y: 0.271,\n    type: 'o',\n  },\n  {\n    x: 10,\n    y: 0.241,\n    type: 'o',\n  },\n  {\n    x: 11,\n    y: 0.955,\n    type: 'o',\n  },\n  {\n    x: 12,\n    y: 0.336,\n    type: 'x',\n  },\n  {\n    x: 13,\n    y: 0.307,\n    type: 'x',\n  },\n  {\n    x: 14,\n    y: 0.747,\n    type: 'x',\n  },\n];\n\nconst x =\n  'https://gw.alipayobjects.com/zos/antfincdn/xYAYJ3T969/94c968a3f33eac63c63b87b2f0f6cd97e2db624c65646d6839a5eb4d9c1b5543e922befd040cc5d55deaaa1c7e57c0075a186aa25874490616f2652d11f08592.svg';\nconst o =\n  'https://gw.alipayobjects.com/zos/antfincdn/JtFvbgBbjN/3917899b7468c526a5bfe18f94d3cf1cfedf7a7c808976870a866d71d4a322af778ffb34fd3c06783be80ff60b10be3279d5dbc82f07a7201f4978130bc8edd6.svg';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .image()\n  .data(dataXO)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('size', 'y')\n  .encode('src', ({ type }) => (type === 'x' ? x : o))\n  .scale('x', { type: 'band' })\n  .scale('y', { domain: [0, 1] })\n  .scale('size', { type: 'linear', range: [12, 32] })\n  .legend('size', false);\n\nchart.render();\n",title:{zh:" 图标标记",en:"Icon symbol"},filename:"icon.ts",isNew:!1},{id:"contributor",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*zD2UToZzYloAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst Avatars = [\n  'https://gw.alipayobjects.com/zos/antfincdn/z8eXl6l9GM/aiyin.jpg',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*cu6GQ7yNpJIAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*IFYESbDDqI0AAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*z6bUQ7bvuAYAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*zIFOTbhtCoMAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*z9SnQpiMnIgAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*aGTWQKFIx2cAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/zos/antfincdn/n%26uTxqsNHe/IMG_3154.JPG',\n  'http://alipay-rmsdeploy-image.cn-hangzhou.alipay.aliyun-inc.com/antfincdn/sX13FkC4%26C/erling.jpg',\n  'https://gw.alipayobjects.com/zos/antfincdn/4VUXCQEiBd/c4f901c7-f591-4616-8dfc-83aecf839cd8.png',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*5kqTSZE-9KMAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*_OhHTo0gxAMAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/zos/antfincdn/aXQ3OTu6Er/IMG_3509.JPG',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*blSIQbwdOqsAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*rVgGS5sJwHQAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*gB63QppvTsgAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/zos/antfincdn/AefmmqKied/3ca2b3d8-e568-4bec-b10d-e4e432cb6f23.png',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*iBIzSZMCWRcAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*GHQQQYTL4g8AAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*VXoNRoRXPBwAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*WZcQRJtWWlIAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*-wAXRKlOrW4AAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*LSpRS6i_WOcAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*23r_SpWxPdEAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*R3QzTpZM7IUAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*vU-mRr0XrfcAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*LMcOQKUxbUEAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*8CiTTqjnzcEAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/zos/antfincdn/smBVaflWk5/my.jpg',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*V7E0RqRAlG4AAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*_E0SR4LCxaAAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*PmifSa53auQAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*mWkGRqxLexYAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*CPXKQ76YlfwAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/zos/antfincdn/c9K5r1m%26y9/d0b8a090-f034-43e6-aeeb-f59cb6c7c33c.png',\n  'https://gw.alipayobjects.com/zos/antfincdn/L%261dAufvjL/IMG_1477.JPG',\n  'https://gw.alipayobjects.com/zos/antfincdn/NkfCEL7RTL/7cdd44fc-8624-4b6c-8947-67f78e79142f.png',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*dl_gToTY6msAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*QFEMTaidg9QAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/zos/antfincdn/KGawdl9Ahq/touxiang.JPG',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*y1cFS4MDmPIAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_23b644/afts/img/A*qykaTLGttsgAAAAAAAAAAABkARQnAQ',\n  'https://gw.alipayobjects.com/zos/antfincdn/QL5d8rcf%24M/IMG_6534.JPG',\n  'https://gw.alipayobjects.com/mdn/rms_04a9e5/afts/img/A*ZmohRYwarWcAAAAAAAAAAAAAARQnAQ',\n  'https://gw.alipayobjects.com/mdn/rms_04a9e5/afts/img/A*1O_3R4Wcwy0AAAAAAAAAAAAAARQnAQ',\n];\n\n// Code from https://juejin.cn/post/6995818748191981604\nfunction getLovePoints() {\n  let angle = 0;\n  let x = 0;\n  let y = 0;\n  const a = 6;\n  const points = [];\n  for (let i = 0; i < 20; i += 0.2) {\n    angle = i / Math.PI;\n    x = a * (16 * Math.sin(angle) ** 3);\n    y =\n      a *\n      (13 * Math.cos(angle) -\n        5 * Math.cos(2 * angle) -\n        2 * Math.cos(3 * angle) -\n        Math.cos(4 * angle));\n    points.push({ x, y });\n  }\n  return points;\n}\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  padding: 40,\n});\n\nchart.data(getLovePoints());\n\nchart\n  .image()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('src', (_, idx) => Avatars[idx % Avatars.length])\n  .encode('size', 48)\n  .style({\n    opacity: 0.7,\n    shadowColor: '#fad7e0',\n    shadowBlur: 40,\n    shadowOffsetY: 20,\n  })\n  .axis(false)\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"贡献者",en:"Contributor"},filename:"contributor.ts",isNew:!1}],icon:"",id:"image",title:{en:"Image",zh:"图片"},api:null,childrenKey:"demos",order:15},{demos:[{id:"gauge-default",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hpjTRr6LM7IAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .gauge()\n  .data({\n    value: {\n      target: 120,\n      total: 400,\n      name: 'score',\n    },\n  })\n  .legend(false);\n\nchart.render();\n",title:{zh:"仪表盘",en:"Gauge Chart"},filename:"gauge-default.ts",isNew:!1},{id:"gauge-custom-color",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*vE7cR6ZHHk0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .gauge()\n  .data({\n    value: {\n      target: 159,\n      total: 400,\n      name: 'score',\n      thresholds: [100, 200, 400],\n    },\n  })\n  .scale('color', {\n    range: ['#F4664A', '#FAAD14', 'green'],\n  })\n  .style(\n    'textContent',\n    (target, total) => `得分：${target}\\n占比：${(target / total) * 100}%`,\n  )\n  .legend(false);\n\nchart.render();\n",title:{zh:"自定义仪表盘颜色",en:"Custom Color Gauge Chart"},filename:"gauge-custom-color.ts",isNew:!1},{id:"gauge-round",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_tUeQ64QNVEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .gauge()\n  .data({\n    value: {\n      target: 159,\n      total: 400,\n      name: 'score',\n      thresholds: [100, 200, 400],\n    },\n  })\n  .scale('color', {\n    range: ['#F4664A', '#FAAD14', 'green'],\n  })\n  .style({\n    arcShape: 'round',\n    arcLineWidth: 2,\n    arcStroke: '#fff',\n  })\n  .style(\n    'textContent',\n    (target, total) => `得分：${target}\\n占比：${(target / total) * 100}%`,\n  )\n  .legend(false);\n\nchart.render();\n",title:{zh:"仪表盘内置 round 形状",en:"Round Shape Gauge Chart"},filename:"gauge-round.ts",isNew:!1},{id:"gauge-custom-shape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lC7RQ73JwaQAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { Path } from '@antv/g';\n\nconst chart = new Chart({ container: 'container' });\n\nfunction getOrigin(points) {\n  if (points.length === 1) return points[0];\n  const [[x0, y0, z0 = 0], [x2, y2, z2 = 0]] = points;\n  return [(x0 + x2) / 2, (y0 + y2) / 2, (z0 + z2) / 2];\n}\n// 自定义指针形状\nconst customShape = (style) => {\n  return (points, value, coordinate, theme) => {\n    // 获取几何点中心坐标\n    const [x, y] = getOrigin(points);\n    const [cx, cy] = coordinate.getCenter();\n    // 计算指针方向角度\n    const angle = Math.atan2(y - cy, x - cx);\n    const length = 100; // 指针长度\n    const width = 8; // 指针底部宽度\n    // 构造指针三角形路径\n    return new Path({\n      style: {\n        d: [\n          ['M', cx + Math.cos(angle) * length, cy + Math.sin(angle) * length], // 顶点\n          [\n            'L',\n            cx + Math.cos(angle + Math.PI / 2) * width,\n            cy + Math.sin(angle + Math.PI / 2) * width,\n          ], // 底部左点\n          [\n            'L',\n            cx + Math.cos(angle - Math.PI / 2) * width,\n            cy + Math.sin(angle - Math.PI / 2) * width,\n          ], // 底部右点\n          ['Z'], // 闭合路径\n        ],\n        fill: '#30BF78', // 填充色\n      },\n    });\n  };\n};\n\nchart.options({\n  type: 'gauge',\n  data: {\n    value: {\n      target: 159,\n      total: 424,\n      name: 'score',\n    },\n  },\n  style: {\n    pointerShape: customShape,\n    pinShape: false,\n    textContent: (target, total) => {\n      return `得分：${target}\\n占比：${(target / total) * 100}%`;\n    },\n  },\n});\n\nchart.render();\n",title:{zh:"仪表盘自定义指针形状",en:"Custom Shape Gauge Chart"},filename:"gauge-custom-shape.ts",isNew:!1}],icon:"",id:"gauge",title:{en:"Gauge",zh:"仪表盘"},api:null,childrenKey:"demos",order:16},{demos:[{id:"liquid-default",screenshot:"https://mdn.alipayobjects.com/huamei_za7we3/afts/img/A*cHArRaizyBsAAAAAAAAAAAAADo2bAQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.liquid().data(0.3).style({\n  outlineBorder: 4,\n  outlineDistance: 8,\n  waveLength: 128,\n});\n\nchart.render();\n",title:{zh:"水波图",en:"Liquid Chart"},filename:"liquid-default.ts",isNew:!1},{id:"liquid-content",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*5ZT3R4yo_3kAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.liquid().data(0.581).style({\n  contentFill: '#000',\n  contentText: 'center text',\n  contentStroke: '#fff',\n  contentLineWidth: 2,\n  outlineBorder: 4,\n  outlineDistance: 8,\n  waveLength: 128,\n});\n\nchart.render();\n",title:{zh:"水波图 文本内容",en:"Content Text Liquid Chart"},filename:"liquid-content.ts",isNew:!1},{id:"liquid-pin",screenshot:"https://mdn.alipayobjects.com/huamei_za7we3/afts/img/A*G5TyT4PNLK0AAAAAAAAAAAAADo2bAQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.liquid().data(0.581).style({\n  shape: 'pin', // Build-in shapes: rect, circle, pin, diamond, triangle.\n  contentFill: '#fff',\n  outlineBorder: 4,\n  outlineDistance: 8,\n  waveLength: 128,\n});\n\nchart.render();\n",title:{zh:"水滴形状水波图",en:"Pin Liquid Chart"},filename:"liquid-pin.ts",isNew:!1},{id:"liquid-background",screenshot:"https://mdn.alipayobjects.com/huamei_za7we3/afts/img/A*QgkTSq1OdvoAAAAAAAAAAAAADo2bAQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.liquid().data(0.3).style({\n  backgroundFill: 'pink',\n});\n\nchart.render();\n",title:{zh:"带背景的水波图",en:"Background Liquid Chart"},filename:"liquid-background.ts",isNew:!1},{id:"liquid-custom-shape",screenshot:"https://mdn.alipayobjects.com/huamei_za7we3/afts/img/A*LYOpQLfrlqMAAAAAAAAAAAAADo2bAQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .liquid()\n  .data(0.3)\n  .style({\n    shape: (x, y, r) => {\n      const path = [];\n      const w = r * 2;\n\n      for (let i = 0; i < 5; i++) {\n        path.push([\n          i === 0 ? 'M' : 'L',\n          (Math.cos(((18 + i * 72) * Math.PI) / 180) * w) / 2 + x,\n          (-Math.sin(((18 + i * 72) * Math.PI) / 180) * w) / 2 + y,\n        ]);\n        path.push([\n          'L',\n          (Math.cos(((54 + i * 72) * Math.PI) / 180) * w) / 4 + x,\n          (-Math.sin(((54 + i * 72) * Math.PI) / 180) * w) / 4 + y,\n        ]);\n      }\n      path.push(['Z']);\n      return path;\n    },\n    outlineBorder: 4,\n    outlineDistance: 8,\n    waveLength: 128,\n  });\n\nchart.render();\n",title:{zh:"自定义形状水波图",en:"Custom Shape Liquid Chart"},filename:"liquid-custom-shape.ts",isNew:!1}],icon:"",id:"Liquid",title:{en:"Liquid",zh:"水波图"},api:null,childrenKey:"demos",order:16},{demos:[{id:"sunburst-default",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Wk2MRYp8VO4AAAAAAAAAAAAADmJ7AQ/original",source:"import { plotlib } from '@antv/g2-extension-plot';\nimport { Runtime, corelib, extend } from '@antv/g2';\n\nconst Chart = extend(Runtime, { ...corelib(), ...plotlib() });\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .sunburst()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antfincdn/ryp44nvUYZ/coffee.json',\n  })\n  .animate('enter', { type: 'waveIn' })\n  .coordinate({ type: 'polar', innerRadius: 0 });\n\nchart.render();\n",title:{zh:"旭日图",en:"Sunburst Chart"},filename:"sunburst-default.ts",isNew:!1},{id:"sunburst-label",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GBxdT697NYQAAAAAAAAAAAAADmJ7AQ/original",source:"import { plotlib } from '@antv/g2-extension-plot';\nimport { Runtime, corelib, extend } from '@antv/g2';\n\nconst Chart = extend(Runtime, { ...corelib(), ...plotlib() });\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .sunburst()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json',\n  })\n  .encode('value', 'sum')\n  .label({\n    text: 'name',\n    transform: [\n      {\n        type: 'overflowHide',\n      },\n    ],\n  });\n\nchart.render();\n",title:{zh:"旭日图带标签",en:"Sunburst Label Chart"},filename:"sunburst-label.ts",isNew:!1},{id:"sunburst-color",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7L4tQ4F61ZkAAAAAAAAAAAAADmJ7AQ/original",source:"import { plotlib } from '@antv/g2-extension-plot';\nimport { Runtime, corelib, extend } from '@antv/g2';\n\nconst Chart = extend(Runtime, { ...corelib(), ...plotlib() });\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .sunburst()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json',\n  })\n  .encode('value', 'sum')\n  .encode('color', 'label');\n\nchart.render();\n",title:{zh:"旭日图自定义颜色通道",en:"Sunburst ColorField Chart"},filename:"sunburst-color.ts",isNew:!1},{id:"sunburst-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*BP7zQ6SMiKcAAAAAAAAAAAAADmJ7AQ/original",source:"import { plotlib } from '@antv/g2-extension-plot';\nimport { Runtime, corelib, extend } from '@antv/g2';\n\nconst Chart = extend(Runtime, { ...corelib(), ...plotlib() });\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .sunburst()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json',\n  })\n  .encode('value', 'sum')\n  .style({\n    radius: 8,\n    // 内置透明度 fillOpacity ，根据 0.85 ** depth 层级计算,\n    fillOpacity: (v) => v['fillOpacity'],\n    fill: (v) => {\n      if (v['path'] === '类别 3') return 'red';\n      if (v['name'] === '类别 2.1.1') return 'red';\n    },\n  });\n\nchart.render();\n",title:{zh:"旭日图自定义样式",en:"Sunburst Style Chart"},filename:"sunburst-style.ts",isNew:!1},{id:"sunburst-pattern",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rVCgTqydP5kAAAAAAAAAAAAADmJ7AQ/original",source:"import { lines } from '@antv/g-pattern';\nimport { plotlib } from '@antv/g2-extension-plot';\nimport { Runtime, corelib, extend } from '@antv/g2';\n\nconst Chart = extend(Runtime, { ...corelib(), ...plotlib() });\n\nconst colors = ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb'];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .sunburst()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json',\n  })\n  .encode('value', 'sum')\n  .style({\n    fill: (_, idx) => {\n      return {\n        image: lines({\n          backgroundColor: colors[idx % colors.length],\n          backgroundOpacity: 0.65,\n          stroke: colors[idx % colors.length],\n          lineWidth: 4,\n          spacing: 5,\n        }),\n        repetition: 'repeat',\n        transform: 'rotate(30deg)',\n      };\n    },\n  });\n\nchart.render();\n",title:{zh:"旭日图自定义纹理",en:"Sunburst Pattern Chart"},filename:"sunburst-pattern.ts",isNew:!1},{id:"sunburst-interaction",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7C0NQK9_TfwAAAAAAAAAAAAADmJ7AQ/original",source:"import { plotlib } from '@antv/g2-extension-plot';\nimport { Runtime, corelib, extend } from '@antv/g2';\n\nconst Chart = extend(Runtime, { ...corelib(), ...plotlib() });\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .sunburst()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/sunburst.json',\n  })\n  .encode('value', 'sum')\n  .label({\n    text: 'name',\n    transform: [\n      {\n        type: 'overflowHide',\n      },\n    ],\n  })\n  .interaction({\n    drillDown: {\n      breadCrumb: {\n        rootText: '起始',\n        style: {\n          fontSize: '18px',\n          fill: '#333',\n        },\n        active: {\n          fill: 'red',\n        },\n      },\n      // FixedColor default: true, true -> drillDown update scale, false -> scale keep.\n      isFixedColor: false,\n    },\n  })\n  .state({\n    active: { zIndex: 2, stroke: 'red' },\n    inactive: { zIndex: 1, stroke: '#fff' },\n  });\n\nchart.render();\n",title:{zh:"旭日图交互配置",en:"Sunburst Interaction Config Chart"},filename:"sunburst-interaction.ts",isNew:!1}],icon:"",id:"sunburst",title:{en:"Sunburst",zh:"旭日图"},api:null,childrenKey:"demos",order:16},{demos:[{id:"funnel",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9GDLQpMor0oAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { action: '浏览网站', pv: 50000 },\n  { action: '放入购物车', pv: 35000 },\n  { action: '生成订单', pv: 25000 },\n  { action: '支付订单', pv: 15000 },\n  { action: '完成交易', pv: 8000 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({\n  transform: [{ type: 'transpose' }],\n});\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'action')\n  .encode('y', 'pv')\n  .encode('color', 'action')\n  .encode('shape', 'funnel')\n  .transform({ type: 'symmetryY' })\n  .scale('x', { padding: 0 })\n  .animate('enter', { type: 'fadeIn' })\n  .label({\n    text: (d) => `${d.action}\\n${d.pv}`,\n    position: 'inside',\n    transform: [{ type: 'contrastReverse' }],\n  })\n  .axis(false);\n\nchart.render();\n",title:{zh:"漏斗图",en:"Funnel"},filename:"funnel.ts",isNew:!1},{id:"pyramid",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*VpuRSZGqnlUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { action: '浏览网站', pv: 50000 },\n  { action: '放入购物车', pv: 35000 },\n  { action: '生成订单', pv: 25000 },\n  { action: '支付订单', pv: 15000 },\n  { action: '完成交易', pv: 8000 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingRight: 80,\n});\n\nchart.coordinate({\n  transform: [{ type: 'transpose' }],\n});\n\nchart.data({\n  type: 'inline',\n  value: data,\n  transform: [\n    {\n      type: 'custom',\n      callback: (data) => data.map((d) => ({ ...d, rate: d.pv / data[0].pv })),\n    },\n  ],\n});\n\nchart\n  .interval()\n  .encode('x', 'action')\n  .encode('y', 'pv')\n  .encode('color', 'action')\n  .encode('shape', 'pyramid')\n  .transform({ type: 'symmetryY' })\n  .scale('x', { padding: 0 })\n  .animate('enter', { type: 'fadeIn' })\n  .label({\n    text: (d) => `${d.action} ${d.pv}`,\n    textAlign: 'left',\n  })\n  .label({\n    text: (d) => `${(d.rate * 100).toFixed(1)}%`,\n    position: 'inside',\n    transform: [{ type: 'contrastReverse' }],\n  })\n  .legend('color', { position: 'bottom' })\n  .axis(false);\n\nchart.render();\n",title:{zh:"金字塔图",en:"Pyramid"},filename:"pyramid.ts",isNew:!1},{id:"mirror-funnel",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ejYqRJVJ12gAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { action: '访问', visitor: 500, site: '站点1' },\n  { action: '浏览', visitor: 400, site: '站点1' },\n  { action: '交互', visitor: 300, site: '站点1' },\n  { action: '下单', visitor: 200, site: '站点1' },\n  { action: '完成', visitor: 100, site: '站点1' },\n  { action: '访问', visitor: 550, site: '站点2' },\n  { action: '浏览', visitor: 420, site: '站点2' },\n  { action: '交互', visitor: 280, site: '站点2' },\n  { action: '下单', visitor: 150, site: '站点2' },\n  { action: '完成', visitor: 80, site: '站点2' },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart.scale('x', { padding: 0 });\nchart.scale('color', {\n  range: ['#0050B3', '#1890FF', '#40A9FF', '#69C0FF', '#BAE7FF'],\n});\nchart.axis(false);\n\nchart.coordinate({\n  transform: [{ type: 'transpose' }],\n});\n\nchart\n  .interval()\n  .data({\n    transform: [\n      {\n        type: 'filter',\n        callback: (d) => d.site === '站点1',\n      },\n    ],\n  })\n  .encode('x', 'action')\n  .encode('y', 'visitor')\n  .encode('color', 'action')\n  .encode('shape', 'funnel')\n  .label({\n    text: 'visitor',\n    position: 'inside',\n    transform: [{ type: 'contrastReverse' }],\n  })\n  .label({\n    text: 'action',\n    position: 'right',\n    dx: (d) => {\n      return d.action === '完成' ? 48 : 16;\n    },\n  })\n  .style('stroke', '#FFF')\n  .animate('enter', { type: 'fadeIn' });\n\nchart\n  .interval()\n  .data({\n    transform: [\n      {\n        type: 'filter',\n        callback: (d) => d.site === '站点2',\n      },\n    ],\n  })\n  .encode('x', 'action')\n  .encode('y', (d) => -d.visitor)\n  .encode('color', 'action')\n  .encode('shape', 'funnel')\n  .label({\n    text: 'visitor',\n    position: 'inside',\n    transform: [{ type: 'contrastReverse' }],\n  })\n  .style('stroke', '#FFF')\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"对比漏斗图",en:"Mirror Funnel"},filename:"mirror-funnel.ts",isNew:!1},{id:"funnel-annotation",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*P_kASqVFAzoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst r = (start, end) => `${(((start - end) / start) * 100).toFixed(2)} %`;\n\nconst data = [\n  { text: 'A', value: 12000 },\n  { text: 'B', value: 9800 },\n  { text: 'C', value: 6789 },\n  { text: 'D', value: 4569 },\n];\nconst encodeX = 'text';\nconst encodeY = 'value';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingRight: 60,\n});\n\nchart.coordinate({\n  transform: [{ type: 'transpose' }],\n});\n\nchart\n  .interval()\n  .data(data)\n  .transform({ type: 'symmetryY' })\n  .axis(false)\n  .legend(false)\n  .encode('x', encodeX)\n  .encode('y', encodeY)\n  .encode('color', encodeX)\n  .encode('shape', 'funnel')\n  .scale('x', { paddingOuter: 0, paddingInner: 0 })\n  .label({\n    text: (d) => `${d[encodeX]} ${d[encodeY]}`,\n    position: 'inside',\n    fontSize: 20,\n  })\n  .label({\n    text: '',\n    // Use div to mock a line.\n    render: (d, data, i) =>\n      i !== 0\n        ? `<div style=\"height:1px;width:30px;background:#aaa;margin:0 20px;\"></div>`\n        : '',\n    position: 'top-right',\n  })\n  .label({\n    text: (d, i) => (i !== 0 ? '转换率' : ''),\n    position: 'top-right',\n    textAlign: 'left',\n    textBaseline: 'middle',\n    fill: '#aaa',\n    dx: 60,\n  })\n  .label({\n    text: (d, i, data) =>\n      i !== 0 ? r(data[i - 1][encodeY], data[i][encodeY]) : '',\n    position: 'top-right',\n    textAlign: 'left',\n    textBaseline: 'middle',\n    dx: 60,\n    dy: 15,\n  });\n\nchart\n  .connector()\n  .data([\n    {\n      startX: data[0][encodeX],\n      startY: data[data.length - 1][encodeX],\n      endX: 0,\n      endY: (data[0][encodeY] - data[data.length - 1][encodeY]) / 2,\n    },\n  ])\n  .encode('x', 'startX')\n  .encode('x1', 'startY')\n  .encode('y', 'endX')\n  .encode('y1', 'endY')\n  .label({\n    text: '转换率',\n    position: 'left',\n    textAlign: 'start',\n    textBaseline: 'middle',\n    fill: '#aaa',\n    dx: 10,\n  })\n  .label({\n    text: r(data[0][encodeY], data[data.length - 1][encodeY]),\n    position: 'left',\n    textAlign: 'start',\n    dy: 15,\n    dx: 10,\n    fill: '#000',\n  })\n  .style('stroke', '#aaa')\n  .style('markerEnd', false)\n  .style('connectLength1', -12)\n  .style('offset2', -20);\n\nchart.render();\n",title:{zh:"转化漏斗图",en:"Annotation Funnel"},filename:"funnel-annotation.ts",isNew:!1}],icon:"",id:"funnel",title:{en:"Funnel",zh:"漏斗图"},api:null,childrenKey:"demos",order:17},{demos:[{id:"bullet",screenshot:"https://mdn.alipayobjects.com/huamei_za7we3/afts/img/A*rRZQQ6I4Ic4AAAAAAAAAAAAADo2bAQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst data = [\n  {\n    title: '满意度',\n    ranges: 100,\n    measures: 80,\n    target: 85,\n  },\n];\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'title')\n  .encode('y', 'ranges')\n  .encode('color', '#f0efff')\n  .style('maxWidth', 30)\n  .axis({\n    y: {\n      grid: true,\n      gridLineWidth: 2,\n    },\n    x: {\n      title: false,\n    },\n  });\n\nchart\n  .interval()\n  .encode('x', 'title')\n  .encode('y', 'measures')\n  .encode('color', '#5B8FF9')\n  .style('maxWidth', 20)\n  .label({\n    text: 'measures',\n    position: 'right',\n    textAlign: 'left',\n    dx: 5,\n  });\n\nchart\n  .point()\n  .encode('x', 'title')\n  .encode('y', 'target')\n  .encode('shape', 'line')\n  .encode('color', '#3D76DD')\n  .encode('size', 8)\n  .tooltip({\n    title: false,\n    items: [{ channel: 'y' }],\n  });\n\nchart.render();\n",title:{zh:"子弹图",en:"Bullet"},filename:"bullet.ts",isNew:!1},{id:"bullet-datas",screenshot:"https://mdn.alipayobjects.com/huamei_za7we3/afts/img/A*fHiHTrdGO10AAAAAAAAAAAAADo2bAQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst colors = {\n  ranges: ['#bfeec8', '#FFe0b0', '#FFbcb8'],\n  measures: ['#61DDAA', '#5B8FF9'],\n  target: '#39a3f4',\n};\n\nconst data = [\n  {\n    title: '满意度',\n    ranges: 100,\n    measures: 60,\n    target: 90,\n  },\n  {\n    title: '满意度',\n    ranges: 80,\n    measures: 10,\n  },\n  {\n    title: '满意度',\n    ranges: 30,\n  },\n];\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .data(data)\n  .scale('color', {\n    range: [colors['ranges'], colors['measures'], colors['target']].flat(),\n  })\n  .legend('color', {\n    itemMarker: (d) => {\n      return d === '目标' ? 'line' : 'square';\n    },\n  });\n\nchart\n  .interval()\n  .axis({\n    y: {\n      grid: true,\n      gridLineWidth: 2,\n    },\n    x: {\n      title: false,\n    },\n  })\n  .encode('x', 'title')\n  .encode('y', 'ranges')\n  .encode('color', (d, i) => ['优', '良', '差'][i])\n  .style('maxWidth', 30);\n\nchart\n  .interval()\n  .encode('x', 'title')\n  .encode('y', 'measures')\n  .encode('color', (d, i) => ['下半年', '上半年'][i] || '下半年')\n  .style('maxWidth', 20)\n  .label({\n    text: 'measures',\n    position: 'right',\n    textAlign: 'left',\n    dx: 5,\n  });\n\nchart\n  .point()\n  .encode('x', 'title')\n  .encode('y', 'target')\n  .encode('shape', 'line')\n  .encode('color', () => '目标')\n  .encode('size', 8)\n  .style('lineWidth', 1)\n  .tooltip({\n    title: false,\n    items: [{ channel: 'y' }],\n  });\n\nchart.interaction('tooltip', { shared: true });\n\nchart.render();\n",title:{zh:"子弹图 更多数据",en:"Bullet more data"},filename:"bullet-datas.ts",isNew:!1},{id:"bullets",screenshot:"https://mdn.alipayobjects.com/huamei_za7we3/afts/img/A*wTXUQoxeACgAAAAAAAAAAAAADo2bAQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst data = [\n  {\n    title: '5🌟',\n    ranges: 100,\n    measures: 40,\n    target: 85,\n  },\n  {\n    title: '4🌟',\n    ranges: 100,\n    measures: 80,\n    target: 40,\n  },\n  {\n    title: '3🌟',\n    ranges: 100,\n    measures: 20,\n    target: 22,\n  },\n  {\n    title: '0-2🌟',\n    ranges: 100,\n    measures: 30,\n    target: 10,\n  },\n];\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'title')\n  .encode('y', 'ranges')\n  .encode('color', '#f0efff')\n  .style('maxWidth', 30)\n  .axis({\n    y: {\n      grid: true,\n      gridLineWidth: 2,\n    },\n    x: {\n      title: false,\n    },\n  });\n\nchart\n  .interval()\n  .encode('x', 'title')\n  .encode('y', 'measures')\n  .encode('color', '#5B8FF9')\n  .style('maxWidth', 20)\n  .label({\n    text: 'measures',\n    position: 'right',\n    textAlign: 'left',\n    dx: 5,\n  });\n\nchart\n  .point()\n  .encode('size', 15)\n  .encode('x', 'title')\n  .encode('y', 'target')\n  .encode('shape', 'line')\n  .encode('color', 'red')\n  .tooltip({\n    title: false,\n    items: [{ channel: 'y' }],\n  });\n\nchart.render();\n",title:{zh:"多条子弹图",en:"Bullet charts"},filename:"bullets.ts",isNew:!1}],icon:"",id:"bullet",title:{en:"Bullet",zh:"子弹图"},api:null,childrenKey:"demos",order:18},{demos:[{id:"line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*oIAqSKbh60cAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  264, 417, 438, 887, 309, 397, 550, 575, 563, 430, 525, 592, 492, 467, 513,\n  546, 983, 340, 539, 243, 226, 192,\n];\n\nconst chart = new Chart({\n  container: 'container',\n  width: 480,\n  height: 80,\n});\n\nchart.data(data);\n\nchart\n  .line()\n  .encode('x', (_, idx) => idx)\n  .encode('y', (d) => d)\n  .encode('shape', 'smooth')\n  .animate('enter', { type: 'fadeIn' })\n  .label({\n    selector: 'last',\n    text: (d) => d,\n    textAlign: 'right',\n    textBaseline: 'bottom',\n    dx: -10,\n    dy: -10,\n    connector: true,\n    fontSize: 10,\n  })\n  .axis(false);\n\nchart.interaction('tooltip', {\n  render: (e, { title, items }) => items[0].value,\n});\n\nchart.render();\n",title:{zh:"迷你折线图",en:"Mini line"},filename:"line.ts",isNew:!1},{id:"area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*e7gFTKK4RXwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  264, 417, 438, 887, 309, 397, 550, 575, 563, 430, 525, 592, 492, 467, 513,\n  546, 983, 340, 539, 243, 226, 192,\n];\n\nconst chart = new Chart({\n  container: 'container',\n  width: 480,\n  height: 80,\n});\n\nchart.data(data);\n\nchart\n  .area()\n  .encode('x', (_, idx) => idx)\n  .encode('y', (d) => d)\n  .encode('shape', 'smooth')\n  .scale('y', { zero: true })\n  .style('fill', 'linear-gradient(-90deg, white 0%, darkgreen 100%)')\n  .style('fillOpacity', 0.6)\n  .animate('enter', { type: 'fadeIn' })\n  .axis(false);\n\nchart.interaction('tooltip', {\n  render: (e, { title, items }) => items[0].value,\n});\n\nchart.render();\n",title:{zh:"迷你面积图",en:"Mini area"},filename:"area.ts",isNew:!1},{id:"column",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*mVxXQZLTI8UAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  264, 417, 438, 887, 309, 397, 550, 575, 563, 430, 525, 592, 492, 467, 513,\n  546, 983, 340, 539, 243, 226, 192,\n];\n\nconst chart = new Chart({\n  container: 'container',\n  width: 480,\n  height: 80,\n});\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', (_, idx) => idx)\n  .encode('y', (d) => d)\n  .axis(false);\n\nchart\n  .lineY()\n  .data([700])\n  .style('arrow', true)\n  .style('stroke', 'red')\n  .style('lineDash', [2, 2])\n  .style('arrow', true)\n  .label({\n    text: 'value = 700',\n    position: 'right',\n    dx: -10,\n    textBaseline: 'bottom',\n  });\n\nchart.interaction('tooltip', {\n  render: (e, { title, items }) => items[0].value,\n});\n\nchart.render();\n",title:{zh:"迷你柱形图",en:"Mini column"},filename:"column.ts",isNew:!1},{id:"pie",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Y4-MR51q9sEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 100,\n  height: 100,\n});\n\nchart.coordinate({ type: 'theta' });\n\nchart\n  .interval()\n  .data([\n    { id: 'c', value: 526 },\n    { id: 'sass', value: 220 },\n    { id: 'php', value: 325 },\n    { id: 'elixir', value: 561 },\n    { id: 'rust', value: 54 },\n  ])\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .encode('color', 'id')\n  .style('radius', 4)\n  .style('stroke', '#fff')\n  .style('lineWidth', 1)\n  .animate('enter', { type: 'waveIn' })\n  .axis(false)\n  .legend(false);\n\nchart.interaction('tooltip', {\n  render: (e, { title, items }) => items[0].value,\n});\n\nchart.render();\n",title:{zh:"迷你饼图",en:"Mini pie"},filename:"pie.ts",isNew:!1},{id:"progress",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ZJ6JSL4WFt8AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst progress = 0.7;\n\nconst chart = new Chart({\n  container: 'container',\n  width: 480,\n  height: 60,\n});\n\nchart.coordinate({\n  transform: [{ type: 'transpose' }],\n});\n\nchart\n  .interval()\n  .data([1, progress])\n  .encode('y', (d) => d)\n  .encode('color', (d, idx) => idx)\n  .scale('y', { domain: [0, 1] })\n  .scale('color', { range: ['#000000', '#a0ff03'] })\n  .legend(false)\n  .axis(false);\n\nchart.text().style({\n  text: `${progress * 100}%`,\n  x: '50%',\n  y: '50%',\n  textAlign: 'center',\n  fontSize: 16,\n  fontStyle: 'bold',\n});\n\nchart.interaction('tooltip', false);\n\nchart.render();\n",title:{zh:"迷你进度条",en:"Mini progress"},filename:"progress.ts",isNew:!1},{id:"ring",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9K68TYbHx7IAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst progress = 0.7;\n\nconst chart = new Chart({\n  container: 'container',\n  width: 100,\n  height: 100,\n});\n\nchart.coordinate({ type: 'theta', innerRadius: 0.7 });\n\nchart\n  .interval()\n  .data([1, progress])\n  .encode('y', (d) => d)\n  .encode('color', (d, idx) => idx)\n  .scale('y', { domain: [0, 1] })\n  .scale('color', { range: ['#000000', '#a0ff03'] })\n  .animate('enter', { type: 'waveIn' })\n  .axis(false)\n  .legend(false);\n\nchart.text().style({\n  text: `${progress * 100}%`,\n  x: '50%',\n  y: '50%',\n  textAlign: 'center',\n  fontSize: 16,\n  fontStyle: 'bold',\n});\n\nchart.interaction('tooltip', false);\n\nchart.render();\n",title:{zh:"迷你环图",en:"Mini ring"},filename:"ring.ts",isNew:!1}],icon:"",id:"mini",title:{en:"Mini charts",zh:"迷你图"},api:null,childrenKey:"demos",order:18},{demos:[{id:"density",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-EcIQ7sKufsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/species.json',\n  transform: [\n    {\n      type: 'kde',\n      field: 'y',\n      groupBy: ['x'],\n      size: 20,\n    },\n  ],\n});\n\nchart\n  .density()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', 'x')\n  .encode('size', 'size')\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"核密度图",en:"Density with KDE"},filename:"density.ts",isNew:!1},{id:"violin",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*QXpmQaR71yYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/species.json',\n});\n\nchart\n  .density()\n  .data({\n    transform: [\n      {\n        type: 'kde',\n        field: 'y',\n        groupBy: ['x', 'species'],\n      },\n    ],\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('series', 'species')\n  .encode('color', 'species')\n  .encode('size', 'size')\n  .tooltip(false);\n\nchart\n  .boxplot()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('series', 'species')\n  .encode('color', 'species')\n  .encode('shape', 'violin')\n  .style('opacity', 0.5)\n  .style('strokeOpacity', 0.5)\n  .style('point', false);\n\nchart.render();\n",title:{zh:"小提琴图",en:"Violin"},filename:"violin.ts",isNew:!1},{id:"violin-polar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*r027Q4SUC3kAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({\n  type: 'polar',\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/species.json',\n});\n\nchart\n  .density()\n  .data({\n    transform: [\n      {\n        type: 'kde',\n        field: 'y',\n        groupBy: ['x', 'species'],\n      },\n    ],\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('series', 'species')\n  .encode('color', 'species')\n  .encode('size', 'size')\n  .tooltip(false);\n\nchart\n  .boxplot()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('series', 'species')\n  .encode('color', 'species')\n  .encode('shape', 'violin')\n  .style('opacity', 0.5)\n  .style('strokeOpacity', 0.5)\n  .style('point', false);\n\nchart.render();\n",title:{zh:"极坐标小提琴图",en:"Violin in polar"},filename:"violin-polar.ts",isNew:!1}],icon:"",id:"violin",title:{en:"Violin",zh:"小提琴图"},api:null,childrenKey:"demos",order:19},{demos:[{id:"heatmap",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ze7gSYylw_QAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  padding: 0,\n});\n\nchart.axis(false);\n\nchart\n  .image()\n  .style(\n    'src',\n    'https://gw.alipayobjects.com/zos/rmsportal/NeUTMwKtPcPxIFNTWZOZ.png',\n  )\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('width', '100%')\n  .style('height', '100%')\n  .tooltip(false);\n\nchart\n  .heatmap()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/heatmap.json',\n  })\n  .encode('x', 'g')\n  .encode('y', 'l')\n  .encode('color', 'tmp')\n  .style('opacity', 0)\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"密度热力图",en:"Heatmap"},filename:"heatmap.ts",isNew:!1},{id:"heatmap-density",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0AfVQpGgcsoAAAAAAAAAAAAADmJ7AQ/original",source:"import DataSet from '@antv/data-set';\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/diamond.json',\n});\n\nchart.scale('x', { nice: true, domainMin: -0.5 });\nchart.scale('y', { nice: true, domainMin: -2000 });\nchart.scale('color', { nice: true });\n\nchart\n  .heatmap()\n  .data({\n    transform: [\n      {\n        type: 'custom',\n        callback: (data) => {\n          const dv = new DataSet.View().source(data);\n          dv.transform({\n            type: 'kernel-smooth.density',\n            fields: ['carat', 'price'],\n            as: ['carat', 'price', 'density'],\n          });\n          return dv.rows;\n        },\n      },\n    ],\n  })\n  .encode('x', 'carat')\n  .encode('y', 'price')\n  .encode('color', 'density')\n  .style({\n    opacity: 0.3,\n    gradient: [\n      [0, 'white'],\n      [0.2, 'blue'],\n      [0.4, 'cyan'],\n      [0.6, 'lime'],\n      [0.8, 'yellow'],\n      [0.9, 'red'],\n    ],\n  });\n\nchart.point().encode('x', 'carat').encode('y', 'price');\n\nchart.render();\n",title:{zh:"散点分布热力",en:"Heatmap Density"},filename:"heatmap-density.ts",isNew:!1},{id:"mouse-heatmap",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kC58R7TEdd0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { throttle } from 'lodash';\n\nconst data = {};\n\nconst chart = new Chart({\n  container: 'container',\n  width: 640,\n  height: 480,\n  padding: 0,\n});\n\nchart.style({\n  viewFill: '#4e79a7',\n});\n\nchart.data([]);\nchart.axis(false);\n\nchart\n  .heatmap()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', 'v')\n  .scale('x', { domain: [0, 640] })\n  .scale('y', { domain: [0, 480], range: [0, 1] })\n  .style('opacity', 0)\n  .tooltip(false)\n  .animate(false);\n\nchart.render();\n\nchart.on(\n  'plot:pointermove',\n  throttle((e) => {\n    const { x, y } = e;\n\n    const kx = Math.floor(x - (x % 8));\n    const ky = Math.floor(y - (y % 8));\n\n    if (!data[kx]) data[kx] = {};\n    if (!data[kx][ky]) data[kx][ky] = 0;\n\n    data[kx][ky] += 1;\n\n    const d = transform(data);\n\n    chart.changeData(d);\n  }),\n);\n\nfunction transform(dataMap) {\n  const arr = [];\n  Object.keys(dataMap).forEach((x) => {\n    Object.keys(dataMap[x]).forEach((y) => {\n      arr.push({ x, y, v: dataMap[x][y] });\n    });\n  });\n  return arr;\n}\n",title:{zh:"鼠标热力图",en:"Mouse Heatmap"},filename:"mouse-heatmap.ts",isNew:!1}],icon:"",id:"heatmap",title:{en:"Heatmap",zh:"热力图"},api:null,childrenKey:"demos",order:20},{demos:[{id:"venn",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*uJF2T7anbQUAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: http://benfred.github.io/venn.js/examples/intersection_tooltip.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .path()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/lastfm.json',\n    transform: [\n      {\n        type: 'venn',\n        padding: 8,\n        sets: 'sets',\n        size: 'size',\n        as: ['key', 'path'],\n      },\n    ],\n  })\n  .encode('d', 'path')\n  .encode('color', 'key')\n  .label({\n    position: 'inside',\n    text: (d) => d.label || '',\n    transform: [{ type: 'contrastReverse' }],\n  })\n  .style('opacity', (d) => (d.sets.length > 1 ? 0.001 : 0.5))\n  .state('inactive', { opacity: 0.2 })\n  .state('active', { opacity: 0.8 })\n  .interaction('elementHighlight', true)\n  .legend(false);\n\nchart.render();\n",title:{zh:"韦恩图",en:"Venn Chart"},filename:"venn.ts",isNew:!1},{id:"venn-hollow",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lAPPSaOWGXYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .path()\n  .data({\n    type: 'inline',\n    value: [\n      { sets: ['A'], size: 15, label: 'A' },\n      { sets: ['B'], size: 12, label: 'B' },\n      { sets: ['C'], size: 10, label: 'C' },\n      { sets: ['A', 'B'], size: 2, label: 'A&B' },\n      { sets: ['A', 'C'], size: 2, label: 'A&C' },\n      { sets: ['B', 'C'], size: 1, label: 'B&C' },\n      { sets: ['A', 'B', 'C'], size: 1 },\n    ],\n    transform: [\n      {\n        type: 'venn',\n      },\n    ],\n  })\n  .encode('d', 'path')\n  .encode('color', 'key')\n  .encode('shape', 'hollow')\n  .label({\n    position: 'inside',\n    text: (d) => d.label || '',\n    fill: '#000',\n  })\n  .style('opacity', 0.6)\n  .style('lineWidth', 8)\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"空心韦恩图",en:"Hollow Venn"},filename:"venn-hollow.ts",isNew:!1}],icon:"",id:"venn",title:{en:"Venn",zh:"韦恩图"},api:null,childrenKey:"demos",order:21},{demos:[{id:"helix",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dLT0TpvlFd4AAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\n// mock data\nconst data = [];\nconst n = 31;\nfor (let i = 0; i < 372; i++) {\n  const now = new Date();\n  const currentTime = new Date(now.getTime() + i * 1000 * 3600 * 24);\n  const formattedTime = `${currentTime.getFullYear()}.${String(\n    currentTime.getMonth() + 1,\n  ).padStart(2, '0')}.${String(currentTime.getDate()).padStart(2, '0')}`;\n\n  data[i] = {};\n  data[i].time = formattedTime;\n\n  const random = Math.floor(Math.random() * 10);\n  if ((i % n > 2 && i % n < 4) || (i % n >= 6 && i % n < 7)) {\n    data[i].value = 30 + random * 7;\n  } else if (i % n >= 4 && i % n < 6) {\n    data[i].value = 60 + random * 8;\n  } else {\n    data[i].value = 10 + random * 5;\n  }\n}\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 500,\n});\n\nchart.data({\n  value: data,\n});\n\nchart.coordinate({\n  type: 'helix',\n  startAngle: 0.5 * Math.PI,\n  endAngle: 12.5 * Math.PI,\n});\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'value')\n  .encode('color', 'value')\n  .scale('color', {\n    type: 'linear',\n    range: ['#ffffff', '#1890FF'],\n  })\n  .tooltip({\n    title: 'time',\n  })\n  .animate('enter', {\n    type: 'fadeIn',\n  });\n\nchart.render();\n",title:{zh:"螺旋坐标系",en:"Helix"},filename:"helix.ts",isNew:!1},{id:"helix-gene",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*oTCKSYpIWBwAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\n// 模拟数据\nconst data = [];\nconst groups = ['WT', 'KO'];\nconst hours = 72;\nconst baseValues = {\n  WT: 2.0,\n  KO: 2.3,\n};\n\nfor (let i = 0; i < hours; i++) {\n  const time = `${i}h`;\n  groups.forEach((group) => {\n    const fluctuation = Math.random() * 0.4 - 0.2;\n    data.push({\n      time,\n      group,\n      logFPKM: baseValues[group] + Math.sin(i / 10) * 0.3 + fluctuation, // 模拟趋势变化\n    });\n  });\n}\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 600,\n  padding: [50, 50, 50, 50],\n});\n\nchart.data(data);\n\nchart.coordinate({\n  type: 'helix',\n  startAngle: 0.2 * Math.PI,\n  endAngle: 6.5 * Math.PI,\n  innerRadius: 0.1,\n});\n\nchart\n  .interval()\n  .encode('x', 'time')\n  .encode('y', 'group')\n  .encode('color', 'logFPKM')\n  .scale('color', {\n    type: 'linear',\n    range: ['#fff', '#ec4839'],\n  })\n  .tooltip({\n    title: 'time',\n    items: [\n      { field: 'group', name: '组别' },\n      {\n        field: 'logFPKM',\n        name: 'log(FPKM)',\n        valueFormatter: (value) => value.toFixed(2),\n      },\n    ],\n  })\n  .animate('enter', {\n    type: 'fadeIn',\n    duration: 1000,\n  });\n\nchart.render();\n",title:{zh:"基因螺旋图",en:"Gene helix"},filename:"helix-gene.ts",isNew:!1}],icon:"",id:"helix",title:{en:"Helix",zh:"螺旋图"},api:null,childrenKey:"demos",order:22},{demos:[{id:"ema-basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-W7SQJ3KGLMAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 300,\n});\n\nchart.options({\n  type: 'view',\n  children: [\n    {\n      type: 'line',\n      data: {\n        type: 'inline',\n        value: [\n          { x: 0, y: 30 },\n          { x: 1, y: 80 },\n          { x: 2, y: 45 },\n          { x: 3, y: 90 },\n          { x: 4, y: 20 },\n          { x: 5, y: 60 },\n          { x: 6, y: 30 },\n          { x: 7, y: 85 },\n          { x: 8, y: 40 },\n          { x: 9, y: 70 },\n        ],\n        transform: [\n          {\n            type: 'ema',\n            field: 'y',\n            alpha: 0.6,\n            as: 'emaY',\n          },\n        ],\n      },\n      encode: {\n        x: 'x',\n        y: 'emaY',\n      },\n      style: {\n        stroke: '#f90',\n        lineWidth: 2,\n      },\n    },\n    {\n      type: 'line',\n      data: {\n        type: 'inline',\n        value: [\n          { x: 0, y: 30 },\n          { x: 1, y: 80 },\n          { x: 2, y: 45 },\n          { x: 3, y: 90 },\n          { x: 4, y: 20 },\n          { x: 5, y: 60 },\n          { x: 6, y: 30 },\n          { x: 7, y: 85 },\n          { x: 8, y: 40 },\n          { x: 9, y: 70 },\n        ],\n      },\n      encode: {\n        x: 'x',\n        y: 'y',\n      },\n      style: {\n        stroke: '#ccc',\n        lineDash: [4, 2],\n      },\n    },\n  ],\n});\n\nchart.render();\n",title:{zh:"基础平滑图",en:"Ema Chart"},filename:"ema-basic.ts",isNew:!1}],icon:"",id:"ema",title:{en:"Ema",zh:"平滑图"},api:null,childrenKey:"demos",order:23}],childrenKey:"examples"},{id:"analysis",title:{zh:"数据分析",en:"Analysis"},icon:"other",examples:[{demos:[{id:"binx",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WJFaSp1JLHQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .rect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/unemployment2.json',\n  })\n  .encode('x', 'rate')\n  .transform({ type: 'binX', y: 'count' })\n  .style('inset', 0.5);\n\nchart.render();\n",title:{zh:"直方图",en:"Histogram"},filename:"binx.ts",isNew:!1},{id:"binx-color",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*l6NBRburGGcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .rect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/athletes.json',\n  })\n  .encode('x', 'weight')\n  .encode('color', 'sex')\n  .transform({ type: 'binX', y: 'count' })\n  .transform({ type: 'stackY', orderBy: 'series' })\n  .style('inset', 0.5);\n\nchart.render();\n",title:{zh:"颜色分类直方图",en:"Histogram with Color"},filename:"binx-color.ts",isNew:!1},{id:"bin-color",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*oyXhQKobcMMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .rect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/movies.json',\n  })\n  .encode('x', 'IMDB Rating')\n  .encode('y', 'Rotten Tomatoes Rating')\n  .transform({ type: 'bin', color: 'count', thresholdsX: 30, thresholdsY: 20 })\n  .scale('color', { palette: 'ylGnBu' })\n  .tooltip({\n    title: { channel: 'color' },\n    items: [\n      (d, i, data, column) => ({\n        name: 'IMDB Rating',\n        value: `${column.x.value[i]}, ${column.x1.value[i]}`,\n      }),\n      (d, i, data, column) => ({\n        name: 'Rotten Tomatoes Rating',\n        value: `${column.y.value[i]}, ${column.y1.value[i]}`,\n      }),\n    ],\n    render: () => '1',\n  });\n\nchart.render();\n",title:{zh:"颜色分箱",en:"Bin Color Channel"},filename:"bin-color.ts",isNew:!1},{id:"bin-opacity",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*REZQSLd63dYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .rect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/athletes.json',\n  })\n  .encode('x', 'weight')\n  .encode('y', 'height')\n  .encode('color', 'sex')\n  .transform({ type: 'bin', opacity: 'count' })\n  .legend('opacity', false)\n  .style('inset', 0.5)\n  .tooltip({\n    title: { channel: 'opacity' },\n    items: [\n      (d, i, data, column) => ({\n        name: 'weight',\n        value: `${column.x.value[i]}, ${column.x1.value[i]}`,\n      }),\n      (d, i, data, column) => ({\n        name: 'height',\n        value: `${column.y.value[i]}, ${column.y1.value[i]}`,\n      }),\n    ],\n  });\n\nchart.render();\n",title:{zh:"透明度分箱",en:"Bin Opacity Channel"},filename:"bin-opacity.ts",isNew:!1},{id:"bin-size",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*OTA1TLuF-l4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/movies.json',\n  })\n  .encode('x', 'IMDB Rating')\n  .encode('y', 'Rotten Tomatoes Rating')\n  .encode('shape', 'point')\n  .transform({ type: 'bin', size: 'count', thresholdsX: 10, thresholdsY: 10 })\n  .tooltip({\n    title: { channel: 'size' },\n    items: [\n      (d, i, data, column) => ({\n        name: 'IMDB Rating',\n        value: `${column.x.value[i]}, ${column.x1.value[i]}`,\n      }),\n      (d, i, data, column) => ({\n        name: 'Rotten Tomatoes Rating',\n        value: `${column.y.value[i]}, ${column.y1.value[i]}`,\n      }),\n    ],\n  });\n\nchart.render();\n",title:{zh:"大小分箱",en:"Bin Size Channel"},filename:"bin-size.ts",isNew:!1},{id:"poisson",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1YpETqJXr9QAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { randomPoisson } from 'd3-random';\n\nconst random = randomPoisson(Math.pow(10, 2.6));\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .rect()\n  .data(new Array(5000).fill(0).map(random))\n  .encode('x', (d) => d)\n  .transform({ type: 'binX', y: 'count' })\n  .style('stroke', 'white')\n  .tooltip({\n    title: (d, i, data, column) => ({\n      value: `${column.x.value[i]} ~ ${column.x1.value[i]}`,\n    }),\n  });\n\nchart.render();\n",title:{zh:"泊松分布",en:"Poisson distribution"},filename:"poisson.ts",isNew:!1}],icon:"",id:"bin",title:{en:"Bin",zh:"分箱"},api:null,childrenKey:"demos",order:1},{demos:[{id:"bar-layered",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HYb2Rqy2ZCIAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/bar_layered_transparent.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/87b2ff47-2a33-4509-869c-dae4cdd81163.csv',\n    format: 'csv',\n    transform: [\n      {\n        type: 'filter',\n        callback: (d) => d.year === 2000,\n      },\n    ],\n  })\n  .transform({ type: 'groupX', y: 'sum' })\n  .encode('x', 'age')\n  .encode('y', 'people')\n  .encode('color', 'sex')\n  .scale('color', { type: 'ordinal', range: ['#ca8861', '#675193'] })\n  .axis('y', { labelFormatter: '~s' })\n  .style('fillOpacity', 0.7)\n  .tooltip({ channel: 'y', valueFormatter: '~s' });\n\nchart.render();\n",title:{zh:"层叠条形图",en:"Layered Bar Chart"},filename:"bar-layered.ts",isNew:!1},{id:"bar-stacked-diverging",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*UbIuS5Xz51wAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/bar_diverging_stack_transform.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst types = [\n  'Strongly disagree',\n  'Disagree',\n  'Neither agree nor disagree',\n  'Agree',\n  'Strongly agree',\n];\nconst colors = ['#c30d24', '#f3a583', '#cccccc', '#94c6da', '#1770ab'];\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/82c97016-0f99-433b-ab21-9ecf14244610.csv',\n  })\n  .transform({ type: 'stackY' })\n  .encode('x', 'question')\n  .encode('color', 'type')\n  .encode('y', (d) =>\n    d.type === 'Disagree' || d.type === 'Strongly disagree'\n      ? -d.percentage\n      : d.type === 'Neither agree nor disagree'\n      ? -d.percentage / 2\n      : +d.percentage,\n  )\n  .scale('y', { nice: true })\n  .scale('color', { domain: types, range: colors });\n\nchart.render();\n",title:{zh:"发散堆叠条形图",en:"Diverging Stacked Bar Chart"},filename:"bar-stacked-diverging.ts",isNew:!1},{id:"bar-aggregated",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ZMTCT50nmwcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json',\n  })\n  .transform({\n    type: 'groupX',\n    y: 'max',\n  })\n  .encode('x', 'clarity')\n  .encode('y', 'price')\n  .encode('color', 'clarity')\n  .axis('y', { labelFormatter: '~s' })\n  .tooltip({ channel: 'y', valueFormatter: '~s' });\n\nchart.render();\n",title:{zh:"聚合条形图",en:"Aggregated Bar Chart"},filename:"bar-aggregated.ts",isNew:!1},{id:"bar-aggregated-with-label",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_LuoT6SEmbQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/diamond.json',\n  })\n  .transform({\n    type: 'groupX',\n    y: 'max',\n  })\n  .encode('x', 'clarity')\n  .encode('y', 'price')\n  .axis('y', { labelFormatter: '~s' })\n  .label({ text: (d, i, data, { channel }) => channel.y[i] })\n  .style('fill', (d, i, data, { channel }) =>\n    channel.y[i] < 11700 ? '#E49361' : '#4787F7',\n  )\n  .tooltip({ channel: 'y', valueFormatter: '~s' });\n\nchart.render();\n",title:{zh:"带数据标签的聚合条形图",en:"Aggregated Stacked Bar Chart"},filename:"bar-aggregated-with-label.ts",isNew:!1},{id:"bar-aggregated-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*fY5CTLQMv4IAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/stacked_bar_weather.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/3ed6f372-5362-4861-a33b-a16a9efbc922.csv',\n  })\n  .transform({ type: 'groupX', y: 'count' })\n  .transform({ type: 'stackY', reverse: true, orderBy: 'series' })\n  .encode('x', (d) => new Date(d.date).getMonth())\n  .encode('color', 'weather')\n  .scale('color', {\n    domain: ['sun', 'fog', 'drizzle', 'rain', 'snow'],\n    range: ['#e7ba52', '#c7c7c7', '#aec7e8', '#1f77b4', '#9467bd'],\n  });\n\nchart.render();\n",title:{zh:"聚合堆叠条形图",en:"Aggregated Stacked Bar Chart"},filename:"bar-aggregated-stacked.ts",isNew:!1},{id:"bar-aggregated-normalized-stacked",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1oZjT4cKSh8AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/stacked_bar_h_normalized_labeled.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/87b2ff47-2a33-4509-869c-dae4cdd81163.csv',\n    transform: [\n      {\n        type: 'filter',\n        callback: (d) => d.year === 2000,\n      },\n    ],\n  })\n  .transform({ type: 'groupX', y: 'sum' })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'normalizeY' })\n  .encode('x', 'age')\n  .encode('y', 'people')\n  .encode('color', 'sex')\n  .scale('color', { type: 'ordinal', range: ['#ca8861', '#675193'] })\n  .axis('y', { labelFormatter: '.0%' })\n  .label({ text: 'people', position: 'inside', fill: 'white' })\n  .tooltip({ channel: 'y', valueFormatter: '.0%' });\n\nchart.render();\n",title:{zh:"聚合归一化堆叠条形图",en:"Aggregated Normalized Stacked Bar Chart"},filename:"bar-aggregated-normalized-stacked.ts",isNew:!1},{id:"bar-stacked-normalized-1d",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dWoBQ7aVlcQAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of one of these demos: https://observablehq.com/@observablehq/plot-group?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 120,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/penguins.json',\n  })\n  .transform({ type: 'groupColor', y: 'count' })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'normalizeY' })\n  .axis('y', { labelFormatter: '.0%' })\n  .encode('color', 'sex')\n  .label({ text: 'sex', position: 'inside' })\n  .tooltip({ channel: 'y', valueFormatter: '.0%' });\n\nchart.render();\n",title:{zh:"一维聚合堆叠条形图",en:"Aggregated Stacked Bar Chart, 1D"},filename:"bar-stacked-normalized-1d.ts",isNew:!1},{id:"bar-multi-measure",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*-JCwSpV0pAsAAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/bar_grouped_repeated.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/movies.json',\n});\n\nchart\n  .interval()\n  .transform({ type: 'groupX', y: 'sum' })\n  .axis('y', { labelFormatter: '~s' })\n  .axis('x', { labelTransform: 'rotate(90)' })\n  .encode('x', 'Major Genre')\n  .encode('y', 'Worldwide Gross')\n  .encode('series', () => 'Worldwide Gross')\n  .encode('color', () => 'Worldwide Gross')\n  .tooltip({ channel: 'y', valueFormatter: '~s' });\n\nchart\n  .interval()\n  .transform({ type: 'groupX', y: 'sum' })\n  .encode('x', 'Major Genre')\n  .encode('y', 'US Gross')\n  .encode('color', () => 'US Gross')\n  .encode('series', () => 'US Gross')\n  .tooltip({ channel: 'y', valueFormatter: '~s' });\n\nchart.render();\n",title:{zh:"多度量条形图",en:"Multi-Measure Bar Chart"},filename:"bar-multi-measure.ts",isNew:!1}],icon:"",id:"group",title:{en:"Group",zh:"分组"},api:null,childrenKey:"demos",order:1},{demos:[{id:"linear-regression",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*px9zQYKi5FsAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://echarts.apache.org/examples/zh/editor.html?c=scatter-linear-regression\n */\nimport { Chart } from '@antv/g2';\nimport { regressionLinear } from 'd3-regression';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/linear-regression.json',\n});\n\nchart\n  .point()\n  .encode('x', (d) => d[0])\n  .encode('y', (d) => d[1])\n  .encode('shape', 'point')\n  .scale('x', { domain: [0, 1] })\n  .scale('y', { domain: [0, 5] })\n  .style('fillOpacity', 0.75);\n\nchart\n  .line()\n  .data({\n    transform: [\n      {\n        type: 'custom',\n        callback: regressionLinear(),\n      },\n    ],\n  })\n  .encode('x', (d) => d[0])\n  .encode('y', (d) => d[1])\n  .style('stroke', '#30BF78')\n  .style('lineWidth', 2)\n  .label({\n    text: 'y = 1.7x+3.01',\n    selector: 'last',\n    position: 'right',\n    textAlign: 'end',\n    dy: -8,\n  })\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"线性回归线",en:"Linear Regression"},filename:"linear-regression.ts",isNew:!1},{id:"quadratic-regression",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4C26SqNkoG8AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@harrystevens/introducing-d3-regression#quadratic\n */\nimport { Chart } from '@antv/g2';\nimport { regressionQuad } from 'd3-regression';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data([\n  { x: -3, y: 7.5 },\n  { x: -2, y: 3 },\n  { x: -1, y: 0.5 },\n  { x: 0, y: 1 },\n  { x: 1, y: 3 },\n  { x: 2, y: 6 },\n  { x: 3, y: 14 },\n]);\n\nchart\n  .point()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('shape', 'point')\n  .scale('x', { domain: [-4, 4] })\n  .scale('y', { domain: [-2, 14] })\n  .style('fillOpacity', 0.75)\n  .axis('x', { title: false })\n  .axis('y', { title: false });\n\nconst regression = regressionQuad()\n  .x((d) => d.x)\n  .y((d) => d.y)\n  .domain([-4, 4]);\n\nchart\n  .line()\n  .data({\n    transform: [\n      {\n        type: 'custom',\n        callback: regression,\n      },\n    ],\n  })\n  .encode('x', (d) => d[0])\n  .encode('y', (d) => d[1])\n  .style('stroke', '#30BF78')\n  .style('lineWidth', 2)\n  .tooltip(false);\n\nchart.lineX().data([0]);\nchart.lineY().data([0]);\n\nchart.render();\n",title:{zh:"二项式回归线",en:"Quadratic Regression"},filename:"quadratic-regression.ts",isNew:!1},{id:"exponential-regression",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*tPkpRqqP7rsAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://echarts.apache.org/examples/zh/editor.html?c=scatter-exponential-regression\n */\nimport { Chart } from '@antv/g2';\nimport { regressionExp } from 'd3-regression';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/exponential-regression.json',\n});\n\nchart\n  .point()\n  .encode('x', (d) => d[0])\n  .encode('y', (d) => d[1])\n  .encode('shape', 'point')\n  .scale('x', { domain: [0, 18] })\n  .scale('y', { domain: [0, 100000] })\n  .style('fillOpacity', 0.75)\n  .axis('y', { labelFormatter: '~s' });\n\nchart\n  .line()\n  .data({\n    transform: [\n      {\n        type: 'custom',\n        callback: regressionExp(),\n      },\n    ],\n  })\n  .encode('x', (d) => d[0])\n  .encode('y', (d) => d[1])\n  .encode('shape', 'smooth')\n  .style('stroke', '#30BF78')\n  .style('lineWidth', 2)\n  .label({\n    text: 'y = 3477.32e^(0.18x)\\nThe coefficient of determination, or R^2, is 0.998',\n    selector: 'last',\n    textAlign: 'end',\n  })\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"指数回归线",en:"Exponential Regression"},filename:"exponential-regression.ts",isNew:!1},{id:"logarithmic-regression",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*onhxRaj8iP0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { regressionLog } from 'd3-regression';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/logarithmic-regression.json',\n});\n\nchart\n  .point()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('shape', 'point')\n  .scale('x', { domain: [0, 35] })\n  .style('fillOpacity', 0.75)\n  .axis('x', { title: false })\n  .axis('y', { title: false });\n\nconst logRegression = regressionLog()\n  .x((d) => d.x)\n  .y((d) => d.y)\n  .domain([0.81, 35]);\n\nchart\n  .line()\n  .data({\n    transform: [\n      {\n        type: 'custom',\n        callback: logRegression,\n      },\n    ],\n  })\n  .encode('x', (d) => d[0])\n  .encode('y', (d) => d[1])\n  .encode('shape', 'smooth')\n  .style('stroke', '#30BF78')\n  .style('lineWidth', 2)\n  .label({\n    text: 'y = 0.881·ln(x) + 4.173\\nThe coefficient of determination, or R^22, is 0.958',\n    selector: 'last',\n    textAlign: 'end',\n  })\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"对数回归线",en:"Logarithmic Regression"},filename:"logarithmic-regression.ts",isNew:!1},{id:"polynomial-regression",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SXUpRZiOlbIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { regressionPoly } from 'd3-regression';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst dataPolynomial = [\n  { x: 0, y: 140 },\n  { x: 1, y: 149 },\n  { x: 2, y: 159.6 },\n  { x: 3, y: 159 },\n  { x: 4, y: 155.9 },\n  { x: 5, y: 169 },\n  { x: 6, y: 162.9 },\n  { x: 7, y: 169 },\n  { x: 8, y: 180 },\n];\n\nchart.data(dataPolynomial);\n\nchart\n  .point()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('shape', 'point')\n  .style('fillOpacity', 0.75)\n  .axis('x', { title: false })\n  .axis('y', { title: false });\n\nconst polyRegression = regressionPoly()\n  .x((d) => d.x)\n  .y((d) => d.y);\n\nchart\n  .line()\n  .data({\n    transform: [\n      {\n        type: 'custom',\n        callback: polyRegression,\n      },\n    ],\n  })\n  .encode('x', (d) => d[0])\n  .encode('y', (d) => d[1])\n  .encode('shape', 'smooth')\n  .style('stroke', '#30BF78')\n  .style('lineWidth', 2)\n  .label({\n    text: 'y=0.24x^3 + −3.00x^2 + 13.45x + 139.77\\nThe coefficient of determination, or R^2, is 0.92',\n    selector: 'last',\n    textAlign: 'end',\n    dx: -8,\n  })\n  .tooltip(null);\n\nchart.render();\n",title:{zh:"多项式回归线",en:"Polynomial Regression"},filename:"polynomial-regression.ts",isNew:!1}],icon:"",id:"regression",title:{en:"Regression",zh:"回归线"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"graph",title:{zh:"关系图",en:"Graph"},icon:"other",examples:[{demos:[{id:"treemap",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*BD2zQIr7D5MAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { schemeTableau10 } from 'd3-scale-chromatic';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 900,\n  width: 1100,\n});\n\nchart\n  .treemap()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/flare-treemap.json',\n  })\n  .layout({\n    path: (d) => d.name.replace(/\\./g, '/'),\n    tile: 'treemapBinary',\n    paddingInner: 1,\n  })\n  .encode('value', 'size')\n  .scale('color', { range: schemeTableau10 })\n  .style(\n    'labelText',\n    (d) =>\n      d.data.name\n        .split('.')\n        .pop()\n        .split(/(?=[A-Z][a-z])/g)[0],\n  )\n  .style('labelFill', '#000')\n  .style('labelPosition', 'top-left')\n  .style('fillOpacity', 0.5);\n\nchart.render();\n",title:{zh:"矩形树图",en:"Treemap"},filename:"treemap.ts",isNew:!1},{id:"treemap-drill-down",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FwWXQqqpc_UAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 600,\n  height: 400,\n});\n\nconst data = {\n  name: '商品',\n  children: [\n    {\n      name: '文具',\n      children: [\n        {\n          name: '笔',\n          children: [\n            { name: '铅笔', value: 430 },\n            { name: '圆珠笔', value: 530 },\n            { name: '钢笔', value: 80 },\n            { name: '水彩', value: 130 },\n          ],\n        },\n        { name: '铅笔盒', value: 30 },\n        { name: '直尺', value: 60 },\n        { name: '笔记本', value: 160 },\n        { name: '其他', value: 80 },\n      ],\n    },\n    {\n      name: '零食',\n      children: [\n        { name: '饼干', value: 280 },\n        { name: '辣条', value: 150 },\n        { name: '牛奶糖', value: 210 },\n        { name: '泡泡糖', value: 80 },\n        {\n          name: '饮品',\n          children: [\n            { name: '可乐', value: 122 },\n            { name: '矿泉水', value: 244 },\n            { name: '果汁', value: 49 },\n            { name: '牛奶', value: 82 },\n          ],\n        },\n        { name: '其他', value: 40 },\n      ],\n    },\n    { name: '其他', value: 450 },\n  ],\n};\n\nchart\n  .treemap()\n  .data({\n    value: data,\n  })\n  .layout({\n    tile: 'treemapBinary',\n    paddingInner: 5,\n  })\n  .encode('value', 'value')\n  .interaction({\n    treemapDrillDown: {\n      breadCrumbY: 12,\n      activeFill: '#873bf4',\n    },\n  })\n  .style({\n    labelFill: '#000',\n    labelStroke: '#fff',\n    labelLineWidth: 1.5,\n    labelFontSize: 14,\n    labelPosition: 'top-left',\n    labelDx: 5,\n    labelDy: 5,\n  });\n\nchart.render();\n",title:{zh:"矩形树图下钻",en:"Treemap DrillDown"},filename:"treemap-drill-down.ts",isNew:!1},{id:"circle-packing",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*epG0TaxEVTsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { interpolateHcl } from 'd3-interpolate';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 1000,\n  height: 1000,\n});\n\nchart\n  .pack()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/flare.json',\n  })\n  .layout({\n    padding: 5,\n  })\n  .encode('value', 'value')\n  .encode('color', 'depth')\n  .scale('color', {\n    domain: [0, 5],\n    range: ['hsl(152,80%,80%)', 'hsl(228,30%,40%)'],\n    interpolate: interpolateHcl,\n  })\n  .legend(false)\n  .style('labelText', (d) =>\n    d.r >= 10 && d.height === 0 ? `${d.data.name}` : '',\n  );\n\nchart.render();\n",title:{zh:"打包图",en:"Circle Packing"},filename:"circle-packing.ts",isNew:!1},{id:"tree",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*MQL0S54pP7kAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 1500,\n  width: 800,\n  insetRight: 80,\n  insetLeft: 15,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .tree()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/flare.json',\n  })\n  .layout({\n    sortBy: (a, b) => a.value - b.value,\n  })\n  .style('nodeFill', (d) => (d.height === 0 ? '#999' : '#000'))\n  .style('linkStroke', '#999')\n  .style('labelText', (d) => d.data.name || '-')\n  .style('labelFontSize', (d) => (d.height === 0 ? 7 : 12))\n  .style('labelTextAlign', (d) => (d.height === 0 ? 'start' : 'end'))\n  .style('labelPosition', (d) => (d.height !== 0 ? 'left' : 'right'))\n  .style('labelDx', (d) => (d.height === 0 ? 5 : -5))\n  .style('labelBackground', true)\n  .style('labelBackgroundFill', '#fff');\n\nchart.render();\n",title:{zh:"树图",en:"Tree"},filename:"tree.ts",isNew:!1}],icon:"",id:"hierarchy",title:{en:"Hierarchy",zh:"树"},api:null,childrenKey:"demos",order:1},{demos:[{id:"sankey",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dACBR7ANcfEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { schemeTableau10 } from 'd3-scale-chromatic';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 600,\n});\n\nchart\n  .sankey()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/energy.json',\n    transform: [\n      {\n        type: 'custom',\n        callback: (data) => ({ links: data }),\n      },\n    ],\n  })\n  .layout({\n    nodeAlign: 'center',\n    nodePadding: 0.03,\n  })\n  .scale('color', { range: schemeTableau10 })\n  .style('labelSpacing', 3)\n  .style('labelFontWeight', 'bold')\n  .style('nodeLineWidth', 1.2)\n  .style('linkFillOpacity', 0.4);\n\nchart.render();\n",title:{zh:"桑基图",en:"Sankey"},filename:"sankey.ts",isNew:!1},{id:"chord",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AwKoTakLlHAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { schemeTableau10 } from 'd3-scale-chromatic';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 600,\n});\n\nconst data = [\n  {\n    source: '北京',\n    target: '天津',\n    value: 30,\n  },\n  {\n    source: '北京',\n    target: '上海',\n    value: 80,\n  },\n  {\n    source: '北京',\n    target: '河北',\n    value: 46,\n  },\n  {\n    source: '北京',\n    target: '辽宁',\n    value: 49,\n  },\n  {\n    source: '北京',\n    target: '黑龙江',\n    value: 69,\n  },\n  {\n    source: '北京',\n    target: '吉林',\n    value: 19,\n  },\n  {\n    source: '天津',\n    target: '河北',\n    value: 62,\n  },\n  {\n    source: '天津',\n    target: '辽宁',\n    value: 82,\n  },\n  {\n    source: '天津',\n    target: '上海',\n    value: 16,\n  },\n  {\n    source: '上海',\n    target: '黑龙江',\n    value: 16,\n  },\n  {\n    source: '河北',\n    target: '黑龙江',\n    value: 76,\n  },\n  {\n    source: '河北',\n    target: '内蒙古',\n    value: 24,\n  },\n  {\n    source: '内蒙古',\n    target: '北京',\n    value: 32,\n  },\n];\n\nchart\n  .chord()\n  .data({\n    value: { links: data },\n  })\n  .layout({\n    nodeWidthRatio: 0.05,\n  })\n  .scale('color', { range: schemeTableau10 })\n  .style('labelFontSize', 15)\n  .style('linkFillOpacity', 0.6);\n\nchart.render();\n",title:{zh:"弦图",en:"Chord"},filename:"chord.ts",isNew:!1},{id:"forceGraph",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*nbN4TYyfq70AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { schemeTableau10 } from 'd3-scale-chromatic';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .forceGraph()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/miserable.json',\n  })\n  .scale('color', { range: schemeTableau10 });\n\nchart.render();\n",title:{zh:"力导向图",en:"forceGraph"},filename:"forceGraph.ts",isNew:!1},{id:"forceGraph-disjoint",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0eUHS6s10m8AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { schemeTableau10 } from 'd3-scale-chromatic';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  height: 800,\n});\n\nchart\n  .forceGraph()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/miserable-disjoint.json',\n  })\n  .layout({\n    joint: false,\n  })\n  .scale('color', { range: schemeTableau10 });\n\nchart.render();\n",title:{zh:"离散力导向图",en:"forceGraph with disjoint"},filename:"forceGraph-disjoint.ts",isNew:!1}],icon:"",id:"network",title:{en:"NetWork",zh:"网络"},api:null,childrenKey:"demos",order:2}],childrenKey:"examples"},{id:"geo",title:{zh:"地理",en:"Geo"},icon:"other",examples:[{demos:[{id:"choropleth-usa",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*vcI7RqX24U0AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/geo_choropleth.html\n */\nimport { Chart, register } from '@antv/g2';\nimport { feature } from 'topojson-client';\n\nregister('data.feature', ({ name }) => {\n  return (data) => feature(data, data.objects[name]).features;\n});\n\nfetch('https://assets.antv.antgroup.com/g2/unemployment2.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n    });\n\n    chart\n      .geoPath()\n      .coordinate({ type: 'albersUsa' })\n      .data({\n        type: 'fetch',\n        value: 'https://assets.antv.antgroup.com/g2/us-10m.json',\n        transform: [\n          { type: 'feature', name: 'counties' },\n          {\n            type: 'join',\n            join: data,\n            on: ['id', 'id'],\n            select: ['rate'],\n          },\n        ],\n      })\n      .scale('color', {\n        palette: 'ylGnBu',\n        unknown: '#fff',\n      })\n      .encode('color', 'rate')\n      .legend({ color: { layout: { justifyContent: 'center' } } });\n\n    chart.render();\n  });\n",title:{zh:"美国行政地图",en:"USA Choropleth"},filename:"choropleth-usa.ts",isNew:!1},{id:"flights-airports",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*mVdhSZ1wvDgAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/geo_rule.html\n */\nimport { Chart } from '@antv/g2';\nimport { feature } from 'topojson-client';\n\nPromise.all([\n  fetch('https://assets.antv.antgroup.com/g2/us-10m.json').then((res) =>\n    res.json(),\n  ),\n  fetch('https://assets.antv.antgroup.com/g2/airports.json').then((res) =>\n    res.json(),\n  ),\n  fetch('https://assets.antv.antgroup.com/g2/flights-airport.json').then(\n    (res) => res.json(),\n  ),\n]).then((values) => {\n  const [us, airports, flights] = values;\n  const states = feature(us, us.objects.states).features;\n\n  const chart = new Chart({\n    container: 'container',\n    autoFit: true,\n  });\n\n  const geoView = chart.geoView().coordinate({ type: 'albersUsa' });\n\n  geoView\n    .geoPath()\n    .data(states)\n    .style('fill', 'lightgray')\n    .style('stroke', 'white');\n\n  geoView\n    .point()\n    .data(airports)\n    .encode('x', 'longitude')\n    .encode('y', 'latitude')\n    .encode('color', 'gray')\n    .encode('shape', 'point')\n    .encode('size', 1);\n\n  geoView\n    .link()\n    .data({\n      value: flights,\n      transform: [\n        {\n          type: 'filter',\n          callback: (d) => d.origin === 'SEA',\n        },\n        {\n          type: 'join',\n          join: airports,\n          on: ['origin', 'iata'],\n          select: ['latitude', 'longitude'],\n          as: ['origin_latitude', 'origin_longitude'],\n        },\n        {\n          type: 'join',\n          join: airports,\n          on: ['destination', 'iata'],\n          select: ['latitude', 'longitude'],\n          as: ['dest_latitude', 'dest_longitude'],\n        },\n      ],\n    })\n    .encode('x', ['origin_longitude', 'dest_longitude'])\n    .encode('y', ['origin_latitude', 'dest_latitude'])\n    .style('stroke', 'black');\n\n  chart.render();\n});\n",title:{zh:"航班机场图",en:"Flights and Airports"},filename:"flights-airports.ts",isNew:!1},{id:"london-tube-lines",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*CQ4iT4UbQmAAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/geo_layer_line_london.html\n */\nimport { Chart } from '@antv/g2';\nimport { feature } from 'topojson-client';\n\nPromise.all([\n  fetch('https://assets.antv.antgroup.com/g2/londonBoroughs.json').then((res) =>\n    res.json(),\n  ),\n  fetch('https://assets.antv.antgroup.com/g2/londonCentroids.json').then(\n    (res) => res.json(),\n  ),\n  fetch('https://assets.antv.antgroup.com/g2/londonTubeLines.json').then(\n    (res) => res.json(),\n  ),\n]).then((values) => {\n  const [londonBoroughs, londonCentroids, londonTubeLines] = values;\n  const london = feature(\n    londonBoroughs,\n    londonBoroughs.objects.boroughs,\n  ).features;\n  const line = feature(londonTubeLines, londonTubeLines.objects.line).features;\n\n  const chart = new Chart({\n    container: 'container',\n    autoFit: true,\n  });\n\n  const geoView = chart.geoView();\n\n  geoView\n    .geoPath()\n    .data(london)\n    .style('fill', 'lightgray')\n    .style('stroke', 'white')\n    .style('lineWidth', 2);\n\n  geoView\n    .text()\n    .data(londonCentroids)\n    .encode('x', 'cx')\n    .encode('y', 'cy')\n    .encode('text', (d) => d.name.split(/\\W/)[0])\n    .style('fontSize', 8)\n    .style('opacity', 0.6);\n\n  geoView\n    .geoPath()\n    .data(line)\n    .encode('color', 'id')\n    .encode('shape', 'hollow')\n    .scale('color', {\n      domain: [\n        'Bakerloo',\n        'Central',\n        'Circle',\n        'District',\n        'DLR',\n        'Hammersmith & City',\n        'Jubilee',\n        'Metropolitan',\n        'Northern',\n        'Piccadilly',\n        'Victoria',\n        'Waterloo & City',\n      ],\n      range: [\n        'rgb(137,78,36)',\n        'rgb(220,36,30)',\n        'rgb(255,206,0)',\n        'rgb(1,114,41)',\n        'rgb(0,175,173)',\n        'rgb(215,153,175)',\n        'rgb(106,114,120)',\n        'rgb(114,17,84)',\n        'rgb(0,0,0)',\n        'rgb(0,24,168)',\n        'rgb(0,160,226)',\n        'rgb(106,187,170)',\n      ],\n    });\n\n  chart.render();\n});\n",title:{zh:"伦敦地铁图",en:"London Tube line"},filename:"london-tube-lines.ts",isNew:!1},{id:"world-map",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*qW_OT4OkivEAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/world-map\n */\nimport { Chart, register } from '@antv/g2';\nimport { feature } from 'topojson-client';\n\nregister('data.feature', ({ name }) => {\n  return (data) => feature(data, data.objects[name]).features;\n});\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst geoView = chart.geoView().coordinate({ type: 'orthographic' });\n\ngeoView\n  .geoPath()\n  .data({ type: 'graticule10' })\n  .style('stroke', '#ccc')\n  .style('fill', 'none');\n\ngeoView\n  .geoPath()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/countries-50m.json',\n    transform: [{ type: 'feature', name: 'land' }],\n  })\n  .style('fill', 'black');\n\ngeoView\n  .geoPath()\n  .data({ type: 'sphere' })\n  .style('stroke', 'black')\n  .style('fill', 'none');\n\nchart.render();\n",title:{zh:"世界地图",en:"World Map"},filename:"world-map.ts",isNew:!1},{id:"projection-comparison",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*eM7qSrDEZcYAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/projection-comparison\n */\nimport { Chart, register } from '@antv/g2';\nimport { feature } from 'topojson-client';\nimport { geoPolyconic, geoRectangularPolyconic } from 'd3-geo-projection';\n\nregister('data.feature', ({ name }) => {\n  return (data) => feature(data, data.objects[name]).features;\n});\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .spaceLayer()\n  .call(worldMap, geoPolyconic, '#f00')\n  .call(worldMap, geoRectangularPolyconic, '#00f');\n\nchart.render();\n\nfunction worldMap(node, projection, color, opacity = 0.7) {\n  const geoView = node.geoView().coordinate({\n    type: projection,\n    size: 'fitWidth',\n  });\n\n  geoView\n    .geoPath()\n    .data({\n      type: 'fetch',\n      value: 'https://assets.antv.antgroup.com/g2/countries-50m.json',\n      transform: [{ type: 'feature', name: 'land' }],\n    })\n    .style('fill', color)\n    .style('opacity', opacity);\n\n  geoView\n    .geoPath()\n    .data({ type: 'graticule10' })\n    .style('stroke', color)\n    .style('strokeOpacity', 0.3)\n    .style('fill', 'none');\n\n  geoView\n    .geoPath()\n    .data({ type: 'sphere' })\n    .style('stroke', color)\n    .style('fill', 'none');\n}\n",title:{zh:"投影比较",en:"Projection Comparison"},filename:"projection-comparison.ts",isNew:!1},{id:"hexjson-usa",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*BAtYRoaNsp4AAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"/**\n * A recreation of this demo: http://blog.apps.npr.org/2015/05/11/hex-tile-maps.html\n */\nimport { Chart, register } from '@antv/g2';\nimport { getGridForHexJSON, renderHexJSON } from 'd3-hexjson';\n\nfunction processRow(row) {\n  row.cx = row.x;\n  row.cy = row.y;\n  row.x = [];\n  row.y = [];\n  row.vertices.forEach((v) => {\n    row.x.push(v.x + row.cx);\n    row.y.push(v.y + row.cy);\n  });\n  return row;\n}\n\nregister('data.hexbin', ({ width = 1, height = 1 }) => {\n  return (data) => renderHexJSON(data.value, width, height).map(processRow);\n});\n\nregister('data.hexgird', ({ width = 1, height = 1 }) => {\n  return (data) =>\n    renderHexJSON(getGridForHexJSON(data.value), width, height).map(processRow);\n});\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/antvdemo/assets/data/us-states.hex.json',\n  })\n  .axis(false);\n\nchart\n  .polygon()\n  .data({\n    transform: [{ type: 'hexgird' }],\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .style('fill', 'grey')\n  .style('opacity', 0.2)\n  .style('lineWidth', 2)\n  .style('stroke', '#fff')\n  .style('pointerEvents', 'none')\n  .tooltip(false);\n\nchart\n  .polygon()\n  .data({\n    transform: [{ type: 'hexbin' }],\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .style('fill', '#5B8FF9')\n  .style('lineWidth', 5)\n  .style('stroke', '#fff')\n  .label({\n    text: 'key',\n    fontSize: 16,\n    fontWeight: 500,\n    position: 'inside',\n    pointerEvents: 'none',\n  })\n  .tooltip({\n    field: 'capital',\n  })\n  .state('active', { fill: 'orange' })\n  .state('inactive', { opacity: 0.5 })\n  .interaction('elementHighlight', true);\n\nchart.render();\n",title:{zh:"六边形美国地图",en:"Hexbin USA Map"},filename:"hexjson-usa.ts",isNew:!1},{id:"hexbin-china",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*T0WkT5NCw7UAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\nimport DataSet from '@antv/data-set';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .polygon()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/hexbin-china.json',\n    transform: [\n      {\n        type: 'custom',\n        callback: (data) => {\n          const dv = new DataSet.View().source(data).transform({\n            type: 'bin.hexagon',\n            fields: ['longitude', 'latitude'],\n            binWidth: [2, 3],\n            as: ['longitude', 'latitude', 'count'],\n          });\n          return dv.rows;\n        },\n      },\n    ],\n  })\n  .encode('x', 'longitude')\n  .encode('y', 'latitude')\n  .encode('color', 'count')\n  .scale('color', {\n    range: '#BAE7FF-#1890FF-#0050B3',\n  })\n  .style('lineWidth', 5)\n  .style('stroke', '#fff')\n  .axis(false)\n  .legend(false)\n  .tooltip({\n    field: 'count',\n  })\n  .state('active', { fill: 'orange' })\n  .state('inactive', { opacity: 0.8 })\n  .interaction('elementHighlight', true);\n\nchart.render();\n",title:{zh:"六边形中国地图",en:"Hexbin China Map"},filename:"hexbin-china.ts",isNew:!1}],icon:"",id:"geo",title:{en:"Geo",zh:"地图"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"annotation",title:{zh:"数据标注",en:"Annotation"},icon:"other",examples:[{demos:[{id:"line-text",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*pQq2S7Ns2MUAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/antvdemo/assets/data/blockchain.json',\n    transform: [\n      {\n        type: 'fold',\n        fields: ['blockchain', 'nlp'],\n        key: 'type',\n        value: 'value',\n      },\n    ],\n  })\n  .axis('x', { labelAutoHide: 'greedy' });\n\nchart\n  .line()\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'value')\n  .encode('color', 'type');\n\nchart\n  .text()\n  .data([new Date('2017-12-17'), 100])\n  .style({\n    text: `2017-12-17, 受比特币影响，blockchain 搜索热度达到峰值：100`,\n    wordWrap: true,\n    wordWrapWidth: 164,\n    dx: -174,\n    dy: 30,\n    fill: '#2C3542',\n    fillOpacity: 0.65,\n    fontSize: 10,\n    background: true,\n    backgroundRadius: 2,\n    connector: true,\n    startMarker: true,\n    startMarkerFill: '#2C3542',\n    startMarkerFillOpacity: 0.65,\n  })\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"文本标记的折线图",en:"Line, Text Annotation"},filename:"line-text.ts",isNew:!1},{id:"peak-value-text",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*oNCJTZ7LYVkAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart.options({\n  type: 'view',\n  autoFit: true,\n  data: [\n    { month: 'Jan', city: 'Tokyo', temperature: 7 },\n    { month: 'Jan', city: 'London', temperature: 3.9 },\n    { month: 'Feb', city: 'Tokyo', temperature: 6.9 },\n    { month: 'Feb', city: 'London', temperature: 4.2 },\n    { month: 'Mar', city: 'Tokyo', temperature: 9.5 },\n    { month: 'Mar', city: 'London', temperature: 5.7 },\n    { month: 'Apr', city: 'Tokyo', temperature: 14.5 },\n    { month: 'Apr', city: 'London', temperature: 8.5 },\n    { month: 'May', city: 'Tokyo', temperature: 18.4 },\n    { month: 'May', city: 'London', temperature: 11.9 },\n    { month: 'Jun', city: 'Tokyo', temperature: 21.5 },\n    { month: 'Jun', city: 'London', temperature: 15.2 },\n    { month: 'Jul', city: 'Tokyo', temperature: 25.2 },\n    { month: 'Jul', city: 'London', temperature: 17 },\n    { month: 'Aug', city: 'Tokyo', temperature: 26.5 },\n    { month: 'Aug', city: 'London', temperature: 16.6 },\n    { month: 'Sep', city: 'Tokyo', temperature: 23.3 },\n    { month: 'Sep', city: 'London', temperature: 14.2 },\n    { month: 'Oct', city: 'Tokyo', temperature: 18.3 },\n    { month: 'Oct', city: 'London', temperature: 10.3 },\n    { month: 'Nov', city: 'Tokyo', temperature: 13.9 },\n    { month: 'Nov', city: 'London', temperature: 6.6 },\n    { month: 'Dec', city: 'Tokyo', temperature: 9.6 },\n    { month: 'Dec', city: 'London', temperature: 4.8 },\n  ],\n  encode: { x: 'month', y: 'temperature', color: 'city' },\n  scale: { x: { range: [0, 1] }, y: { nice: true } },\n  axis: { y: { labelFormatter: (d) => d + '°C' } },\n  children: [\n    { type: 'line', encode: { shape: 'smooth' } },\n    {\n      type: 'text',\n      encode: {\n        x: 'month',\n        y: 'temperature',\n        text: (d) => `峰值：${d.temperature}`,\n      },\n      transform: [\n        {\n          type: 'selectY',\n          groupBy: 'color',\n          selector: 'max',\n        },\n      ],\n      style: {\n        fill: 'orange',\n        fontSize: 16,\n        dy: -15,\n      },\n      tooltip: false,\n    },\n    {\n      type: 'point',\n      encode: { x: 'month', y: 'temperature' },\n      transform: [\n        {\n          type: 'selectY',\n          groupBy: 'color',\n          selector: 'max',\n        },\n      ],\n      tooltip: false,\n    },\n  ],\n});\n\nchart.render();\n",title:{zh:"峰值标记",en:"Peak Value Annotation"},filename:"peak-value-text.ts",isNew:!1}],icon:"",id:"text",title:{en:"Text",zh:"文本标注"},api:null,childrenKey:"demos",order:1},{demos:[{id:"histogram-mean-line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*VJVAT7Rkx9MAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/layer_histogram_global_mean.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/movies.json',\n  transform: [\n    {\n      type: 'filter',\n      callback: (d) => d['IMDB Rating'] > 0,\n    },\n  ],\n});\n\nchart\n  .rect()\n  .transform({ type: 'binX', y: 'count', thresholds: 9 })\n  .encode('x', 'IMDB Rating')\n  .scale('y', { domainMax: 1000 })\n  .style('inset', 1);\n\nchart\n  .lineX()\n  .transform({ type: 'groupColor', x: 'mean' }) // groupColor 为分组并对指定的通道进行聚合，可以理解为把数据通过 x 通道的数据 取平均值(mean) 变更为一条数据。\n  .encode('x', 'IMDB Rating')\n  .style('stroke', '#F4664A')\n  .style('strokeOpacity', 1)\n  .style('lineWidth', 2)\n  .style('lineDash', [4, 4]);\n\nchart.render();\n",title:{zh:"平均值线标注的直方图",en:"Histogram, Annotation Mean Value with LineX"},filename:"histogram-mean-line.ts",isNew:!1},{id:"interval-mean-line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*BG5UTbE7gycAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/layer_precipitation_mean.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/seattle-weather.json',\n});\n\nchart\n  .interval()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', 'precipitation')\n  .scale('y', { tickCount: 5, domainMax: 6 })\n  .tooltip({ channel: 'y', valueFormatter: '.2f' });\n\nchart\n  .lineY()\n  .transform({ type: 'groupX', y: 'mean' }) // groupX 为分组并对指定的通道进行聚合，可以理解为把数据通过 y 通道的数据聚合， 然后取平均值(mean) 变更为一条数据。\n  .encode('y', 'precipitation')\n  .style('stroke', '#F4664A')\n  .style('strokeOpacity', 1)\n  .style('lineWidth', 2)\n  .style('lineDash', [3, 3]);\n\nchart.render();\n",title:{zh:"平均值线标注的柱状图",en:"Interval, Annotation Mean Value with LineY"},filename:"interval-mean-line.ts",isNew:!1},{id:"interval-threshold",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*-seGQa_dPyoAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/layer_bar_annotations.html\n *\n * We use a range mark to highlight the values beyond a threshold\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data([\n    { Day: 1, Value: 54.8 },\n    { Day: 2, Value: 112.1 },\n    { Day: 3, Value: 63.6 },\n    { Day: 4, Value: 37.6 },\n    { Day: 5, Value: 79.7 },\n    { Day: 6, Value: 137.9 },\n    { Day: 7, Value: 120.1 },\n    { Day: 8, Value: 103.3 },\n    { Day: 9, Value: 394.8 },\n    { Day: 10, Value: 199.5 },\n    { Day: 11, Value: 72.3 },\n    { Day: 12, Value: 51.1 },\n    { Day: 13, Value: 112.0 },\n    { Day: 14, Value: 174.5 },\n    { Day: 15, Value: 130.5 },\n  ])\n  .axis('y', { title: false });\n\nchart.interval().encode('x', 'Day').encode('y', 'Value');\n\nchart\n  .range()\n  .data({\n    transform: [\n      {\n        type: 'custom',\n        callback: (data) => overThreshold(data, 300),\n      },\n    ],\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', '#F4664A');\n\nchart\n  .lineY()\n  .data([300])\n  .style('stroke', '#F4664A')\n  .style('lineDash', [3, 3])\n  .style('arrow', true)\n  .label({\n    text: 'hazardous',\n    position: 'right',\n    textBaseline: 'bottom',\n    fill: '#F4664A',\n    background: true,\n    backgroundFill: '#F4664A',\n    backgroundOpacity: 0.25,\n  });\n\nchart.render();\n\n// Process data.\nfunction overThreshold(data, threshold) {\n  return data\n    .filter((d) => d['Value'] >= threshold)\n    .map(({ Day: x, Value: y }) => ({ x: [x, x], y: [threshold, y] }));\n}\n",title:{zh:"突出超出阈值的柱状图",en:"Interval, Highlight Values beyond a Threshold"},filename:"interval-threshold.ts",isNew:!1},{id:"point-line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*KsPIR7q6BO0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data([\n    { x: 95, y: 95, z: 13.8, name: 'BE', country: 'Belgium' },\n    { x: 86.5, y: 102.9, z: 14.7, name: 'DE', country: 'Germany' },\n    { x: 80.8, y: 91.5, z: 15.8, name: 'FI', country: 'Finland' },\n    { x: 80.4, y: 102.5, z: 12, name: 'NL', country: 'Netherlands' },\n    { x: 80.3, y: 86.1, z: 11.8, name: 'SE', country: 'Sweden' },\n    { x: 78.4, y: 70.1, z: 16.6, name: 'ES', country: 'Spain' },\n    { x: 74.2, y: 68.5, z: 14.5, name: 'FR', country: 'France' },\n    { x: 73.5, y: 83.1, z: 10, name: 'NO', country: 'Norway' },\n    { x: 71, y: 93.2, z: 24.7, name: 'UK', country: 'United Kingdom' },\n    { x: 69.2, y: 57.6, z: 10.4, name: 'IT', country: 'Italy' },\n    { x: 68.6, y: 20, z: 16, name: 'RU', country: 'Russia' },\n    { x: 65.5, y: 126.4, z: 35.3, name: 'US', country: 'United States' },\n    { x: 65.4, y: 50.8, z: 28.5, name: 'HU', country: 'Hungary' },\n    { x: 63.4, y: 51.8, z: 15.4, name: 'PT', country: 'Portugal' },\n    { x: 64, y: 82.9, z: 31.3, name: 'NZ', country: 'New Zealand' },\n  ])\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('size', 'z')\n  .encode('shape', 'point')\n  .scale('x', { nice: true })\n  .scale('y', { nice: true, domainMax: 165, zero: true })\n  .scale('size', { range: [10, 40] })\n  .style('stroke', '#1890ff')\n  .style('fillOpacity', 0.3)\n  .style('fill', '#1890ff')\n  .label({\n    text: 'name',\n    position: 'inside',\n    fill: '#1890ff',\n    stroke: '#fff',\n  })\n  .legend('size', false);\n\nchart\n  .lineY()\n  .data([50])\n  .style('stroke', '#000')\n  .style('strokeOpacity', 0.45)\n  .style('lineDash', [3, 3])\n  .label({\n    text: 'Safe sugar intake 50g/day',\n    position: 'right',\n    textBaseline: 'bottom',\n    fill: '#000',\n    fillOpacity: 0.45,\n    background: true,\n    backgroundFill: '#000',\n    backgroundOpacity: 0.15,\n  });\n\nchart\n  .lineX()\n  .data([65])\n  .style('stroke', '#000')\n  .style('strokeOpacity', 0.45)\n  .style('lineDash', [3, 3])\n  .label({\n    text: 'Safe fat intake 65g/day',\n    position: 'top-left',\n    textBaseline: 'bottom',\n    fill: '#000',\n    fillOpacity: 0.45,\n    background: true,\n    backgroundFill: '#000',\n    backgroundOpacity: 0.15,\n  });\nchart.render();\n",title:{zh:"线标记的散点图",en:"Scatter, Line Annotation"},filename:"point-line.ts",isNew:!1},{id:"point-point",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*rWBUQ6_kf8kAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 180,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/penguins.json',\n  transform: [\n    {\n      type: 'map',\n      callback: (d) => ({ ...d, body_mass_g: +d.body_mass_g }),\n    },\n  ],\n});\n\nchart\n  .point()\n  .encode('x', 'body_mass_g')\n  .encode('y', 'species')\n  .style('stroke', '#000')\n  .tooltip({ channel: 'x' });\n\nchart\n  .link()\n  .transform({ type: 'groupY', x: 'min', x1: 'max' })\n  .encode('x', 'body_mass_g')\n  .encode('y', 'species')\n  .style('stroke', '#000')\n  .tooltip(false);\n\nchart\n  .point()\n  .transform({ type: 'groupY', x: 'median' })\n  .encode('y', 'species')\n  .encode('x', 'body_mass_g')\n  .encode('shape', 'line')\n  .encode('size', 12)\n  .style('stroke', 'red')\n  .tooltip({ channel: 'x' });\n\nchart.render();\n",title:{zh:"点标记的散点图",en:"Scatter, Point Annotation"},filename:"point-point.ts",isNew:!1},{id:"quadrant-scatter",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*6JLeTLg7YQoAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart.data({\n  type: 'fetch',\n  value:\n    'https://gw.alipayobjects.com/os/bmw-prod/0b37279d-1674-42b4-b285-29683747ad9a.json',\n  transform: [\n    { type: 'filter', callback: (d) => d['change in male rate'] !== 'NA' },\n  ],\n});\n\nchart.lineX().data([0]);\nchart.lineY().data([0]);\n\nchart\n  .range()\n  .data([\n    { x: [-25, 0], y: [-30, 0], region: '1' },\n    { x: [-25, 0], y: [0, 20], region: '2' },\n    { x: [0, 5], y: [-30, 0], region: '2' },\n    { x: [0, 5], y: [0, 20], region: '1' },\n  ])\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .style('fill', (d) => (d.region === '1' ? '#d8d0c0' : '#a3dda1'))\n  .style('fillOpacity', 0.2)\n  .animate('enter', { type: 'fadeIn' });\n\nchart\n  .point()\n  .encode('x', 'change in female rate')\n  .encode('y', 'change in male rate')\n  .encode('size', 'pop')\n  .encode('color', 'continent')\n  .encode('shape', 'point')\n  .scale('color', {\n    range: ['#ffd500', '#82cab2', '#193442', '#d18768', '#7e827a'],\n  })\n  .scale('size', { range: [4, 30] })\n  .style('stroke', '#bbb')\n  .style('fillOpacity', 0.8)\n  .axis('x', { title: 'Female' })\n  .axis('y', { title: 'Male' })\n  .legend('size', false)\n  .slider('x', { labelFormatter: (d) => d.toFixed(1) })\n  .slider('y', { labelFormatter: (d) => d.toFixed(1) })\n  .tooltip([\n    { channel: 'x', valueFormatter: '.1f' },\n    { channel: 'y', valueFormatter: '.1f' },\n  ]);\n\nchart.render();\n",title:{zh:"区域标记的四象限散点图",en:"Quadrant Scatter, Range Annotation"},filename:"quadrant-scatter.ts",isNew:!1},{id:"anomaly-area-line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DdeURpZKfwAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst Data = [\n  [\n    '01-01',\n    -0.489863522578899,\n    0.848138677816903,\n    0.559142254786167,\n    1.15073035819645,\n  ],\n  [\n    '01-02',\n    -0.385774774190865,\n    0.779071607989758,\n    0.592110810844279,\n    0.742753777067528,\n  ],\n  [\n    '01-03',\n    0.085320462046806,\n    0.665356275004035,\n    0.963570246688821,\n    1.27494822331159,\n  ],\n  [\n    '01-04',\n    0.661951933364362,\n    1.48857802967009,\n    1.21299384683976,\n    1.37876710872108,\n  ],\n  [\n    '01-05',\n    0.275939368771361,\n    1.78112017585948,\n    1.54658801436731,\n    1.87892635502492,\n  ],\n  [\n    '01-06',\n    0.327782217100161,\n    0.910945756785081,\n    1.27208083065789,\n    1.61986408054512,\n  ],\n  [\n    '01-07',\n    -0.353034448974316,\n    0.51492272900181,\n    0.121225112639938,\n    0.90211963105735,\n  ],\n  [\n    '01-08',\n    -1.52464778559499,\n    0.260972126042923,\n    -0.508864567386389,\n    0.417885699969663,\n  ],\n  [\n    '01-09',\n    -0.593361686260142,\n    0.162759391666744,\n    0.218089944784571,\n    0.360869923308897,\n  ],\n  [\n    '01-10',\n    -0.282102011275525,\n    0.828140289442679,\n    0.721611369970074,\n    0.891552722962365,\n  ],\n  [\n    '01-11',\n    -1.23059300530264,\n    0.451152587985225,\n    -0.140103248944554,\n    0.834414544127764,\n  ],\n  [\n    '01-12',\n    -1.24995265027972,\n    -0.31266194270582,\n    -0.0300106962816838,\n    -0.41142281971162,\n  ],\n  [\n    '01-13',\n    -1.37795240635888,\n    -0.589722591726911,\n    -0.191006845650732,\n    -0.516505539657783,\n  ],\n  [\n    '01-14',\n    -2.52518734732884,\n    -0.95184304656081,\n    -0.814311553870472,\n    -1.27462030634033,\n  ],\n  [\n    '01-15',\n    -1.70164913297708,\n    -1.54184969446708,\n    -1.08826628121932,\n    -1.5093101152107,\n  ],\n  [\n    '01-16',\n    -2.80066758524658,\n    -1.31031245938982,\n    -1.96278720556888,\n    -1.75105038956633,\n  ],\n  [\n    '01-17',\n    -2.21871327339612,\n    -0.895693067878342,\n    -0.950375849823643,\n    -0.800329750310783,\n  ],\n  [\n    '01-18',\n    -1.86045028588756,\n    -1.26512897818588,\n    -0.92443255447989,\n    -0.574178518063472,\n  ],\n  [\n    '01-19',\n    -2.13514441304614,\n    -1.08943821214579,\n    -1.30296034566265,\n    -0.739220801309009,\n  ],\n  [\n    '01-20',\n    -1.36106428148275,\n    -0.751109295408758,\n    -0.866142934125915,\n    -0.833248083867714,\n  ],\n  [\n    '01-21',\n    -1.13448325969953,\n    -0.208866920419441,\n    -0.358324443622643,\n    -0.3304939374004,\n  ],\n  [\n    '01-22',\n    -1.16113158648886,\n    -0.460193104790614,\n    -0.0795243445688507,\n    -0.671877235487046,\n  ],\n  [\n    '01-23',\n    -0.709834207179879,\n    0.0739745344379797,\n    0.0871865696214076,\n    0.706678090635692,\n  ],\n  [\n    '01-24',\n    -0.855133081253214,\n    0.568682381682416,\n    0.332247453197952,\n    0.355934290536338,\n  ],\n  [\n    '01-25',\n    -0.460984145040151,\n    -0.0533268121319483,\n    0.1927909935791,\n    0.520116262690529,\n  ],\n  [\n    '01-26',\n    -0.274001486727037,\n    0.790086619458202,\n    0.372433776442163,\n    0.503192650078109,\n  ],\n  [\n    '01-27',\n    -0.0632578758817437,\n    0.790173258069052,\n    1.30182293816554,\n    0.89441218858635,\n  ],\n  [\n    '01-28',\n    0.533488666887157,\n    1.09171550073275,\n    1.23616453434162,\n    1.07309866451647,\n  ],\n  [\n    '01-29',\n    0.328739731259988,\n    1.62978411402078,\n    1.83852277548915,\n    1.45231138640967,\n  ],\n  [\n    '01-30',\n    1.07776428203926,\n    1.93809648786583,\n    2.46108589692092,\n    1.81206626995097,\n  ],\n  [\n    '01-31',\n    2.90989593458823,\n    3.50255848816715,\n    3.23630685370243,\n    3.7031428949146,\n  ],\n  [\n    '02-01',\n    1.1413167338545,\n    2.07317462613488,\n    1.79941129279295,\n    2.01052999279642,\n  ],\n  [\n    '02-02',\n    2.01265969966196,\n    2.45369696032894,\n    3.03709651601366,\n    2.57524967204869,\n  ],\n  [\n    '02-03',\n    1.02418266284474,\n    2.27795353731045,\n    2.34181116863238,\n    2.31776394989237,\n  ],\n  [\n    '02-04',\n    1.45227269430285,\n    2.74092153168326,\n    2.76797387808001,\n    2.4385315669259,\n  ],\n  [\n    '02-05',\n    1.45852270324646,\n    2.91238500034082,\n    2.9853266952491,\n    2.74537569070796,\n  ],\n  [\n    '02-06',\n    1.21129207788561,\n    2.08667480157999,\n    2.09530458603767,\n    2.6727308809475,\n  ],\n  [\n    '02-07',\n    0.462011042266158,\n    1.98370918491097,\n    1.53394095461533,\n    1.54720222137272,\n  ],\n  [\n    '02-08',\n    0.428062670597836,\n    1.42756198832186,\n    1.91677613366245,\n    1.69525540140237,\n  ],\n  [\n    '02-09',\n    0.571998651405796,\n    1.20777016841237,\n    0.959778428990291,\n    1.38939401587598,\n  ],\n  [\n    '02-10',\n    -0.123659449221408,\n    1.10974150901183,\n    0.503938262585522,\n    1.06081365610511,\n  ],\n  [\n    '02-11',\n    0.220265810946126,\n    0.889550892119087,\n    0.625835436920559,\n    0.778387089467167,\n  ],\n  [\n    '02-12',\n    -0.574641417979562,\n    0.8583990372058,\n    0.654221831427059,\n    1.37533696416859,\n  ],\n  [\n    '02-13',\n    0.19221674566726,\n    0.86959932086505,\n    1.47852533542482,\n    0.83455121493955,\n  ],\n  [\n    '02-14',\n    0.186659862839924,\n    1.04903473940167,\n    0.68172447764395,\n    1.03171445911985,\n  ],\n  [\n    '02-15',\n    0.218706499887028,\n    1.23923064220661,\n    0.853395074770504,\n    1.50111427755768,\n  ],\n  [\n    '02-16',\n    -0.27220251796404,\n    1.3295116016313,\n    1.19709576605684,\n    0.990366511352841,\n  ],\n  [\n    '02-17',\n    0.0909752720459248,\n    0.930787133486377,\n    1.13540425926233,\n    1.01885304957885,\n  ],\n  [\n    '02-18',\n    0.500678865937832,\n    1.28945886403763,\n    1.86872639477659,\n    1.66757062636358,\n  ],\n  [\n    '02-19',\n    -0.378876145639865,\n    1.29116025999708,\n    0.520386030441329,\n    1.72399982300463,\n  ],\n  [\n    '02-20',\n    0.385505543735579,\n    1.03897914012846,\n    1.2105370970492,\n    1.49365049359714,\n  ],\n  [\n    '02-21',\n    0.135932482376663,\n    0.92778787386035,\n    1.16066757224531,\n    1.25969273609095,\n  ],\n  [\n    '02-22',\n    0.0126490029565284,\n    0.941856901134297,\n    0.617806318969375,\n    1.14962996968517,\n  ],\n  [\n    '02-23',\n    0.773063369455311,\n    1.5541058613705,\n    1.39784724912506,\n    2.21431623455804,\n  ],\n  [\n    '02-24',\n    1.08056863447678,\n    1.60549846831965,\n    1.98786092502431,\n    1.78155744981404,\n  ],\n  [\n    '02-25',\n    1.06819268645169,\n    2.21075515924522,\n    2.5816314847123,\n    1.897312677728,\n  ],\n  [\n    '02-26',\n    0.89600108139962,\n    2.0627506436141,\n    2.39647499467082,\n    2.00303588512805,\n  ],\n  [\n    '02-27',\n    1.60601329459157,\n    2.69928369983066,\n    2.9546767824584,\n    3.13972422952751,\n  ],\n  [\n    '02-28',\n    2.12052520649532,\n    3.00114926835576,\n    2.97818682108921,\n    3.57049829244482,\n  ],\n  [\n    '03-01',\n    3.09657732168984,\n    3.93689422073629,\n    4.42818757143253,\n    4.56240590486167,\n  ],\n  [\n    '03-02',\n    3.32321329150499,\n    3.90890881368374,\n    4.21758475211336,\n    4.3691811133343,\n  ],\n  [\n    '03-03',\n    3.14178105822847,\n    4.27111998864967,\n    3.80688097575068,\n    4.44824771836784,\n  ],\n  [\n    '03-04',\n    2.95886009091458,\n    4.15810698557557,\n    3.66153037695285,\n    4.65229859699136,\n  ],\n  [\n    '03-05',\n    3.83183059088505,\n    4.53247535253525,\n    4.67163846440224,\n    4.70724246311339,\n  ],\n  [\n    '03-06',\n    4.40063335904881,\n    5.20075380392408,\n    5.47861446159827,\n    5.12239434498163,\n  ],\n  [\n    '03-07',\n    4.47478320238869,\n    5.05301123068342,\n    5.55733815443578,\n    5.23378335462593,\n  ],\n  [\n    '03-08',\n    4.47232398366198,\n    5.44402577422747,\n    5.68401509811357,\n    5.31899376787198,\n  ],\n  [\n    '03-09',\n    3.98286212328023,\n    5.01902798238165,\n    4.92824550854426,\n    4.85197161798612,\n  ],\n  [\n    '03-10',\n    3.59183589955411,\n    4.85673224919323,\n    5.21664200314164,\n    5.336122542621,\n  ],\n  [\n    '03-11',\n    4.10246999007764,\n    4.80323089976014,\n    4.84179665234023,\n    5.44519702784959,\n  ],\n  [\n    '03-12',\n    4.751210298739,\n    5.33256459577594,\n    5.08356909085231,\n    6.0515889109663,\n  ],\n  [\n    '03-13',\n    3.95250246625044,\n    5.47631574490867,\n    5.12512520171009,\n    5.54641631954027,\n  ],\n  [\n    '03-14',\n    3.65861405462893,\n    4.93258521330197,\n    4.72926384244545,\n    5.36960110939244,\n  ],\n  [\n    '03-15',\n    3.9432032257054,\n    4.94316527477613,\n    5.15369204112966,\n    5.53350321274879,\n  ],\n  [\n    '03-16',\n    2.54278602988589,\n    3.70206371820628,\n    3.62703352404155,\n    3.65412513259214,\n  ],\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(Data);\n\nchart\n  .area()\n  .encode('x', (d) => new Date(d[0]))\n  .encode('y', [(d) => d[1], (d) => d[2]])\n  .encode('shape', 'smooth')\n  .style('fillOpacity', 0.1)\n  .style('fill', 'orange');\n\nchart\n  .line()\n  .encode('x', (d) => new Date(d[0]))\n  .encode('y', (d) => d[3])\n  .encode('color', '#FF6B3B')\n  .encode('shape', 'smooth');\n\nchart\n  .line()\n  .encode('x', (d) => new Date(d[0]))\n  .encode('y', (d) => d[4])\n  .encode('color', '#5B8FF9')\n  .style('lineWidth', 2);\n\nchart\n  .point()\n  .data([\n    ['01-08', 0.417885699969663],\n    ['01-23', 0.706678090635692],\n    ['01-31', 3.703],\n    ['03-12', 6.0515889109663],\n  ])\n  .encode('x', (d) => new Date(d[0]))\n  .encode('y', (d) => d[1])\n  .encode('color', '#FF6B3B')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .style('lineWidth', 1)\n  .style('stroke', '#FFF');\n\nchart.render();\n",title:{zh:"异动趋势图",en:"Anomaly Trend Line, Area Annotation"},filename:"anomaly-area-line.ts",isNew:!1}],icon:"",id:"line",title:{en:"Line",zh:"线标注"},api:null,childrenKey:"demos",order:2},{demos:[{id:"interval-connector",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9BOSQozPCx4AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://www.anychart.com/products/anychart/gallery/Waterfall_Charts/Waterfall_Arrows.php\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  insetTop: 30,\n});\n\nchart\n  .data([\n    { x: 'Net Sales', value: 5085000, start: 0, end: 5085000 },\n    { x: 'Cost of Sales', value: -1250450, start: 5085000, end: 3834550 },\n    { x: 'Operating Expenses', value: -2350050, start: 3834550, end: 1484500 },\n    { x: 'Other Income', value: 750000, start: 1484500, end: 2234500 },\n    { x: 'Extraordinary Gain', value: -230050, start: 2234500, end: 2004450 },\n    { x: 'Interest Expense', value: -500000, start: 2004450, end: 1504450 },\n    { x: 'Taxes', value: 490000, start: 1504450, end: 1994450 },\n    { x: 'Net Income', isTotal: true, value: 1994450, start: 0, end: 1994450 },\n  ])\n  .axis('x', { title: false, labelTransform: 'rotate(-90)' })\n  .axis('y', { labelFormatter: '~s' })\n  .legend(null);\n\nchart\n  .link()\n  .data({ transform: [{ type: 'custom', callback: linkData }] })\n  .encode('x', ['x1', 'x2'])\n  .encode('y', 'value')\n  .style('stroke', '#697474')\n  .style('lineDash', [4, 2])\n  .tooltip(false);\n\nchart\n  .connector()\n  .data({ transform: [{ type: 'custom', callback: connectorData }] })\n  .encode('x', ['x1', 'x2'])\n  .encode('y', ['y1', 'y2'])\n  .label({\n    text: (d) => `${d.y2 - d.y1}`,\n    formatter: '~s',\n    fontSize: 10,\n    dy: 2,\n  })\n  .style({ stroke: '#697474', offset: 16 })\n  .tooltip(false);\n\nchart\n  .interval()\n  .encode('x', 'x')\n  .encode('y', ['start', 'end'])\n  .encode('color', (d, idx) =>\n    idx === 0 || d.isTotal ? 'D' : d.value > 0 ? 'P' : 'N',\n  )\n  .scale('color', {\n    domain: ['P', 'N', 'D'],\n    range: ['#64b5f6', '#ef6c00', '#96a6a6'],\n  })\n  .encode('size', 24)\n  .style('stroke', '#697474')\n  .label({\n    text: 'value',\n    formatter: '~s',\n    position: (d) => (d.value > 0 ? 'top' : 'bottom'),\n    textBaseline: (d) => (d.value > 0 ? 'bottom' : 'top'),\n    fontSize: 10,\n    dy: (d) => (d.value > 0 ? -4 : 4),\n  })\n  .tooltip({ channel: 'y', valueFormatter: '~s' })\n  .tooltip({ channel: 'y1', valueFormatter: '~s' });\n\nchart.render();\n\n// Process data.\nfunction linkData(data) {\n  return data.reduce((r, d, idx) => {\n    if (idx > 0) {\n      return r.concat({\n        x1: data[idx - 1].x,\n        x2: d.x,\n        value: d.isTotal ? d.end : d.start,\n      });\n    }\n    return r;\n  }, []);\n}\n\nfunction connectorData(data) {\n  return [\n    {\n      x1: data[0].x,\n      y1: data[0].end,\n      x2: data[data.length - 1].x,\n      y2: data[data.length - 1].end,\n    },\n  ];\n}\n",title:{zh:"链接线标记的瀑布图",end:"Interval, Connector Annotation"},filename:"interval-connector.ts",isNew:!1},{id:"revenue-flow-waterfall",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*qRAFQqfcyygAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://www.anychart.com/zh/products/anychart/gallery/Waterfall_Charts/ACME_corp._Revenue_Flow_2017.php\n */\nimport { Chart } from '@antv/g2';\n\nconst linkData = (data) =>\n  data.reduce((r, d, idx) => {\n    if (idx > 0) {\n      return r.concat({\n        x1: data[idx - 1].x,\n        x2: d.x,\n        value: d.isTotal ? d.end : d.start,\n      });\n    }\n    return r;\n  }, []);\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data([\n    { x: 'Start', value: 23000000, start: 0, end: 23000000 },\n    { x: 'Jan', value: 2200000, start: 23000000, end: 25200000 },\n    { x: 'Feb', value: -4600000, start: 25200000, end: 20600000 },\n    { x: 'Mar', value: -9100000, start: 20600000, end: 11500000 },\n    { x: 'Apr', value: 3700000, start: 11500000, end: 15200000 },\n    { x: 'May', value: -2100000, start: 15200000, end: 13100000 },\n    { x: 'Jun', value: 5300000, start: 13100000, end: 18400000 },\n    { x: 'Jul', value: 3100000, start: 18400000, end: 21500000 },\n    { x: 'Aug', value: -1500000, start: 21500000, end: 20000000 },\n    { x: 'Sep', value: 4200000, start: 20000000, end: 24200000 },\n    { x: 'Oct', value: 5300000, start: 24200000, end: 29500000 },\n    { x: 'Nov', value: -1500000, start: 29500000, end: 28000000 },\n    { x: 'Dec', value: 5100000, start: 28000000, end: 33100000 },\n    { x: 'End', isTotal: true, value: 33100000, start: 0, end: 33100000 },\n  ])\n  .axis('x', { title: false })\n  .axis('y', { labelFormatter: '~s' })\n  .legend(null);\n\nchart\n  .link()\n  .data({ transform: [{ type: 'custom', callback: linkData }] })\n  .encode('x', ['x1', 'x2'])\n  .encode('y', 'value')\n  .style('stroke', '#697474')\n  .tooltip(false);\n\nchart\n  .interval()\n  .encode('x', 'x')\n  .encode('y', ['start', 'end'])\n  .encode('color', (d, idx) =>\n    idx === 0 || d.isTotal ? 'D' : d.value > 0 ? 'P' : 'N',\n  )\n  .scale('color', {\n    domain: ['P', 'N', 'D'],\n    range: ['#64b5f6', '#ef6c00', '#96a6a6'],\n  })\n  .encode('size', 24)\n  .style('stroke', '#697474')\n  .label({\n    text: 'value',\n    formatter: '~s',\n    position: (d) => (d.value > 0 ? 'top' : 'bottom'),\n    textBaseline: (d) => (d.value > 0 ? 'bottom' : 'top'),\n    fontSize: 10,\n    dy: (d) => (d.value > 0 ? -4 : 4),\n  })\n  .tooltip({ channel: 'y', valueFormatter: '~s' })\n  .tooltip({ channel: 'y1', valueFormatter: '~s' });\n\nchart.render();\n",title:{zh:"线标记的瀑布图",en:"Revenue Flow Waterfall Chart"},filename:"revenue-flow-waterfall.ts",isNew:!1}],icon:"",id:"connector",title:{en:"Connector",zh:"连接标注"},api:null,childrenKey:"demos",order:3},{demos:[{id:"point-range",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*w1BBRYvJf_UAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://www.anychart.com/zh/products/anychart/gallery/Quadrant_Charts/Top_30_Countries_by_Quality_of_Life.php\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value:\n      'https://assets.antv.antgroup.com/g2/top-30-countries-by-quality-of-life.json',\n  })\n  .axis('x', false)\n  .axis('y', false)\n  .style('mainStroke', '#5B8FF9')\n  .style('mainLineWidth', 2);\n\nchart\n  .range()\n  .data([\n    { x: [0, 0.5], y: [0, 0.5] },\n    { x: [0.5, 1], y: [0.5, 1] },\n  ])\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .scale('x', { independent: true, domain: [0, 1] })\n  .scale('y', { independent: true, domain: [0, 1] })\n  .style('stroke', '#5B8FF9')\n  .style('lineWidth', 1)\n  .style('fillOpacity', 0.15)\n  .animate(false)\n  .tooltip(false);\n\nchart\n  .point()\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('shape', 'point')\n  .scale('x', { domain: [137.5, 212] })\n  .scale('y', { domain: [0, 80] })\n  .label({ text: 'name', fontSize: 10, dy: 6 });\n\nchart.render();\n",title:{zh:"区域标记的散点图",en:"Point, Range Annotation"},filename:"point-range.ts",isNew:!1},{id:"line-range",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*OCgJSIpz7KMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/layer_falkensee.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 360,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/year-population.json',\n});\n\nchart\n  .rangeX()\n  .data([\n    { year: [new Date('1933'), new Date('1945')], event: 'Nazi Rule' },\n    { year: [new Date('1948'), new Date('1989')], event: 'GDR (East Germany)' },\n  ])\n  .encode('x', 'year')\n  .encode('color', 'event')\n  .scale('color', { independent: true, range: ['#FAAD14', '#30BF78'] })\n  .style('fillOpacity', 0.75)\n  .tooltip(false);\n\nchart\n  .line()\n  .encode('x', (d) => new Date(d.year))\n  .encode('y', 'population')\n  .encode('color', '#333');\n\nchart\n  .point()\n  .encode('x', (d) => new Date(d.year))\n  .encode('y', 'population')\n  .encode('color', '#333')\n  .style('lineWidth', 1.5)\n  .tooltip(false);\n\nchart.interaction('legendFilter', false);\n\nchart.render();\n",title:{zh:"区间标注的折线图",en:"Line, Range Annotation"},filename:"line-range.ts",isNew:!1},{id:"bar-range",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Ndr8RaUhEO4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { city: '北京', 职业: '教师', 平均年收入: 12 },\n  { city: '北京', 职业: '医生', 平均年收入: 30 },\n  { city: '北京', 职业: '销售', 平均年收入: 18 },\n  { city: '北京', 职业: '公务员', 平均年收入: 15 },\n  { city: '北京', 职业: '律师', 平均年收入: 40 },\n  { city: '北京', 职业: '程序员', 平均年收入: 35 },\n  { city: '上海', 职业: '教师', 平均年收入: 13 },\n  { city: '上海', 职业: '医生', 平均年收入: 29 },\n  { city: '上海', 职业: '销售', 平均年收入: 19 },\n  { city: '上海', 职业: '公务员', 平均年收入: 16 },\n  { city: '上海', 职业: '律师', 平均年收入: 42 },\n  { city: '上海', 职业: '程序员', 平均年收入: 36 },\n  { city: '杭州', 职业: '教师', 平均年收入: 11 },\n  { city: '杭州', 职业: '医生', 平均年收入: 25 },\n  { city: '杭州', 职业: '销售', 平均年收入: 16 },\n  { city: '杭州', 职业: '公务员', 平均年收入: 14 },\n  { city: '杭州', 职业: '律师', 平均年收入: 35 },\n  { city: '杭州', 职业: '程序员', 平均年收入: 28 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  height: 500,\n});\n\nchart\n  .data([\n    { y: [0, 25], region: '1' },\n    { y: [25, 50], region: '2' },\n  ])\n  .rangeY()\n  .encode('y', 'y')\n  .style('fill', (d) => (d.region === '1' ? '#d8d0c0' : '#a3dda1'))\n  .style('fillOpacity', 0.4)\n  .animate('enter', { type: 'fadeIn' });\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', '职业')\n  .encode('y', '平均年收入')\n  .encode('color', 'city')\n  .transform({ type: 'dodgeX' })\n  .axis('y', { title: '平均年收入', labelFormatter: (d) => d + '万' })\n  .tooltip({\n    items: [\n      (d) => ({\n        name: '平均年收入',\n        value: d.平均年收入 + '万',\n        channel: 'y',\n      }),\n    ],\n  });\n\nchart.render();\n",title:{zh:"区间标注的柱状图",en:"bar, Range Annotation"},filename:"bar-range.ts",isNew:!1}],icon:"",id:"range",title:{en:"Range",zh:"区间标注"},api:null,childrenKey:"demos",order:4},{demos:[{id:"interval-point",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ypE2SbuV6kwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingRight: 30,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart.data([\n  { x: 'Jan', tick: 9.3, value: 11.5 },\n  { x: 'Feb', tick: 10.5, value: 12 },\n  { x: 'Mar', tick: 11.2, value: 11.7 },\n  { x: 'Apr', tick: 11.2, value: 12.4 },\n  { x: 'May', tick: 12.7, value: 13.5 },\n  { x: 'Jun', tick: 13.1, value: 11.9 },\n  { x: 'Jul', tick: 12.2, value: 14.6 },\n  { x: 'Aug', tick: 12.2, value: 17.2 },\n  { x: 'Sep', tick: 10.1, value: 16.9 },\n  { x: 'Oct', tick: 14.5, value: 15.4 },\n  { x: 'Nov', tick: 14.5, value: 16.9 },\n  { x: 'Dec', tick: 15.5, value: 17.2 },\n]);\n\nchart\n  .interval()\n  .encode('x', 'x')\n  .encode('y', 'value')\n  .encode('size', 20)\n  .axis('x', { title: false })\n  .style('fillOpacity', 0.65)\n  .style('lineWidth', 1)\n  .label({\n    text: 'value',\n    position: 'right',\n    formatter: (v) => `${v}min`,\n    dx: 4,\n    textAlign: 'start',\n  });\n\nchart\n  .point()\n  .encode('x', 'x')\n  .encode('y', 'tick')\n  .encode('shape', 'line')\n  .encode('size', 15)\n  .style('stroke', 'red')\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"点标记的条形图",en:"Interval, Point Annotation"},filename:"interval-point.ts",isNew:!1},{id:"line-badge",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*INjOS7ExVzYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  insetTop: 50,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/antvdemo/assets/data/blockchain.json',\n    transform: [\n      {\n        type: 'fold',\n        fields: ['blockchain', 'nlp'],\n        key: 'type',\n        value: 'value',\n      },\n    ],\n  })\n  .axis('x', { labelAutoHide: 'greedy' });\n\nchart\n  .line()\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'value')\n  .encode('color', 'type');\n\nchart\n  .text()\n  .data([new Date('2017-12-17'), 100])\n  .encode('shape', 'badge')\n  .style({\n    text: '100',\n    dy: -1,\n    markerSize: 24,\n    markerFill: '#6395FA',\n    markerFillOpacity: 0.55,\n  });\n\nchart.render();\n",title:{zh:"徽章标记的折线图",en:"Line, Badge Annotation"},filename:"line-badge.ts",isNew:!1},{id:"watermark",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*LA11Rqfk2Y4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { month: 'Jan.', profit: 387264, start: 0, end: 387264 },\n    { month: 'Feb.', profit: 772096, start: 387264, end: 1159360 },\n    { month: 'Mar.', profit: 638075, start: 1159360, end: 1797435 },\n    { month: 'Apr.', profit: -211386, start: 1797435, end: 1586049 },\n    { month: 'May', profit: -138135, start: 1586049, end: 1447914 },\n    { month: 'Jun', profit: -267238, start: 1447914, end: 1180676 },\n    { month: 'Jul.', profit: 431406, start: 1180676, end: 1612082 },\n    { month: 'Aug.', profit: 363018, start: 1612082, end: 1975100 },\n    { month: 'Sep.', profit: -224638, start: 1975100, end: 1750462 },\n    { month: 'Oct.', profit: -299867, start: 1750462, end: 1450595 },\n    { month: 'Nov.', profit: 607365, start: 1450595, end: 2057960 },\n    { month: 'Dec.', profit: 1106986, start: 2057960, end: 3164946 },\n    { month: 'Total', start: 0, end: 3164946 },\n  ])\n  .encode('x', 'month')\n  .encode('y', ['end', 'start'])\n  .encode('color', (d) =>\n    d.month === 'Total' ? 'Total' : d.profit > 0 ? 'Increase' : 'Decrease',\n  )\n  .axis('y', { labelFormatter: '~s' })\n  .tooltip({ channel: 'y', valueFormatter: '~s' })\n  .tooltip({ channel: 'y1', valueFormatter: '~s' });\n\nchart.shape().style('x', '80%').style('y', '70%').style('render', watermark);\n\nchart.render();\n\nfunction watermark({ x, y }, context) {\n  const { document } = context;\n\n  const g = document.createElement('g', {});\n  const c1 = document.createElement('circle', {\n    style: {\n      cx: x,\n      cy: y,\n      lineWidth: 4,\n      r: 65,\n      stroke: 'red',\n      opacity: 0.3,\n    },\n  });\n  const c2 = document.createElement('circle', {\n    style: {\n      cx: x,\n      cy: y,\n      lineWidth: 2,\n      r: 50,\n      stroke: 'red',\n      opacity: 0.3,\n    },\n  });\n\n  const text = document.createElement('text', {\n    style: {\n      x,\n      y,\n      text: '数据保密',\n      transformOrigin: 'center',\n      transform: 'rotate(30)',\n      fontSize: 20,\n      fill: 'red',\n      textAlign: 'center',\n      textBaseline: 'middle',\n      fillOpacity: 0.3,\n    },\n  });\n\n  g.appendChild(c1);\n  g.appendChild(c2);\n  g.appendChild(text);\n  return g;\n}\n",title:{zh:"徽章水印",en:"Watermark"},filename:"watermark.ts",isNew:!1}],icon:"",id:"shape",title:{en:"Shape",zh:"图形标注"},api:null,childrenKey:"demos",order:5}],childrenKey:"examples"},{id:"composition",title:{zh:"复合视图",en:"Composition"},icon:"other",examples:[{demos:[{id:"space-layer",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*wlGJTKOP2L4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst scaleColor = (node) =>\n  node.scale('color', {\n    palette: 'cool',\n    offset: (t) => t * 0.8 + 0.1,\n  });\n\nconst layer = chart.spaceLayer().data({\n  type: 'fetch',\n  value:\n    'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  format: 'csv',\n});\n\nlayer\n  .interval()\n  .transform({ type: 'sortX', reverse: true, by: 'y' })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .encode('color', 'letter')\n  .call(scaleColor);\n\nlayer\n  .interval()\n  .attr('x', 300)\n  .attr('y', 50)\n  .attr('width', 300)\n  .attr('height', 300)\n  .coordinate({ type: 'theta' })\n  .transform({ type: 'stackY' })\n  .legend(false)\n  .scale('color', {\n    palette: 'cool',\n    offset: (t) => t * 0.8 + 0.1,\n  })\n  .encode('y', 'frequency')\n  .encode('color', 'letter')\n  .call(scaleColor);\n\nchart.render();\n",title:{zh:"层叠容器",en:"Space Layer"},filename:"space-layer.ts",isNew:!1},{id:"space-flex",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Cc53QaoWAQ0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n});\n\nconst flex = chart\n  .spaceFlex()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/seattle-weather.json',\n  })\n  .attr('direction', 'col')\n  .attr('ratio', [1, 2]);\n\nflex\n  .interval()\n  .attr('paddingBottom', 0)\n  .attr('paddingRight', 300)\n  .transform({ type: 'groupX', y: 'max' })\n  .axis('x', false)\n  .encode('x', (d) => new Date(d.date).getUTCDate())\n  .encode('y', 'temp_max')\n  .encode('color', 'steelblue');\n\nflex\n  .spaceFlex()\n  .attr('ratio', [2, 1])\n  .call((node) =>\n    node\n      .cell()\n      .attr('paddingRight', 0)\n      .attr('paddingBottom', 60)\n      .transform({ type: 'group', color: 'max' })\n      .encode('x', (d) => new Date(d.date).getUTCDate())\n      .encode('y', (d) => new Date(d.date).getUTCMonth())\n      .encode('color', 'temp_max')\n      .style('inset', 0.5)\n      .axis('x', { title: 'Date' })\n      .axis('y', { title: 'Month' })\n      .legend({ color: false })\n      .scale('color', { palette: 'gnBu' }),\n  )\n  .call((node) =>\n    node\n      .attr('paddingBottom', 60)\n      .interval()\n      .coordinate({ transform: [{ type: 'transpose' }] })\n      .transform({ type: 'groupX', y: 'max' })\n      .axis('x', false)\n      .encode('x', (d) => new Date(d.date).getUTCMonth())\n      .encode('y', 'temp_max')\n      .encode('color', 'steelblue'),\n  );\n\nchart.render();\n",title:{zh:"弹性容器",en:"Space Flex"},filename:"space-flex.ts",isNew:!1}],icon:"",id:"space",title:{en:"Space",zh:"空间复合"},api:null,childrenKey:"demos",order:1},{demos:[{id:"rect-row",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*duq8TrR0LxcAAAAAAAAAAAAADmJ7AQ",source:"/**\n * A recreation of one of these demos: https://observablehq.com/@observablehq/plot-facets?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 928,\n  height: 320,\n  paddingLeft: 60,\n  paddingBottom: 60,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/anscombe.json',\n  })\n  .encode('x', 'series');\n\nfacetRect\n  .point()\n  .attr('inset', 10)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .style('stroke', '#000');\n\nchart.render();\n",title:{zh:"行矩行分面",en:"Row Facet Rect"},filename:"rect-row.ts",isNew:!1},{id:"rect-col",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*21B-Qa-dWPMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of one of these demos: https://observablehq.com/@observablehq/plot-facets?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\nimport { groupSort, median } from 'd3-array';\n\nfetch('https://assets.antv.antgroup.com/g2/barley.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const chart = new Chart({\n      container: 'container',\n      height: 800,\n      paddingLeft: 140,\n      paddingRight: 130,\n      paddingBottom: 60,\n    });\n\n    const facetRect = chart\n      .facetRect()\n      .data(data)\n      .encode('y', 'site')\n      .scale('y', {\n        domain: groupSort(\n          data,\n          (g) => -median(g, (d) => d.yield),\n          (d) => d.site,\n        ),\n      });\n\n    facetRect\n      .point()\n      .attr('insetLeft', 5)\n      .attr('insetRight', 5)\n      .scale('color', { type: 'ordinal' })\n      .scale('y', {\n        domain: groupSort(\n          data,\n          (g) => -median(g, (d) => d.yield),\n          (d) => d.variety,\n        ),\n      })\n      .encode('x', 'yield')\n      .encode('y', 'variety')\n      .encode('color', 'year')\n      .encode('shape', 'hollow')\n      .axis('y', { labelAutoRotate: false });\n\n    chart.render();\n  });\n",title:{zh:"列矩行分面",en:"Col Facet Rect"},filename:"rect-col.ts",isNew:!1},{id:"rect",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GwKzQ66lGqYAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of one of these demos: https://observablehq.com/@observablehq/plot-facets?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  paddingBottom: 60,\n  paddingLeft: 60,\n  height: 640,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/penguins.json',\n    transform: [\n      {\n        type: 'map',\n        callback: ({\n          culmen_depth_mm: depth,\n          culmen_length_mm: length,\n          ...d\n        }) => ({\n          ...d,\n          culmen_depth_mm: depth === 'NaN' ? NaN : depth,\n          culmen_length_mm: length === 'NaN' ? NaN : length,\n        }),\n      },\n    ],\n  })\n  .encode('x', 'sex')\n  .encode('y', 'species');\n\nfacetRect\n  .point()\n  .attr('facet', false)\n  .attr('frame', false)\n  .encode('x', 'culmen_depth_mm')\n  .encode('y', 'culmen_length_mm')\n  .style('fill', '#ddd')\n  .style('lineWidth', 0);\n\nfacetRect\n  .point()\n  .encode('x', 'culmen_depth_mm')\n  .encode('y', 'culmen_length_mm')\n  .encode('color', 'island');\n\nchart.render();\n",title:{zh:"矩行分面",en:"Facet Rect"},filename:"rect.ts",isNew:!1},{id:"rect-bar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ZVOtQ4Bmir0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  paddingLeft: 40,\n  paddingBottom: 40,\n});\n\nconst days = ['Sun.', 'Mon.', 'Tues.', 'Wed.', 'Thur.', 'Fri.', 'Sat.'];\nconst mockData = () => {\n  const names = ['Eat', 'Play', 'Sleep'];\n  const week = (date) => {\n    const currentDate = date.getDate();\n    const newDate = new Date(date);\n    const firstDay = new Date(newDate.setDate(1)).getDay();\n    return Math.ceil((currentDate + firstDay) / 7);\n  };\n  const day = (date) => date.getDay();\n  return Array.from({ length: 30 }, (_, i) => {\n    const date = new Date(2022, 5, i + 1);\n    return names.map((name) => ({\n      activity: name,\n      value: Math.random(),\n      week: `${week(date)}`,\n      day: days[day(date)],\n    }));\n  }).flat(Infinity);\n};\n\nconst facetRect = chart\n  .facetRect()\n  .data(mockData())\n  .encode('x', 'day')\n  .encode('y', 'week')\n  .scale('x', { domain: days })\n  .legend('color', { position: 'right' })\n  .attr('paddingRight', 100);\n\nfacetRect\n  .interval()\n  .transform({ type: 'stackY' })\n  .axis('x', { labelAutoRotate: false })\n  .encode('x', 'activity')\n  .encode('y', 'value')\n  .encode('color', 'activity');\n\nchart.render();\n",title:{zh:"日历条形图",en:"Calendar Bar Chart"},filename:"rect-bar.ts",isNew:!1},{id:"rect-pie",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*USKZRKqpAvgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n});\n\nconst days = ['Sun.', 'Mon.', 'Tues.', 'Wed.', 'Thur.', 'Fri.', 'Sat.'];\nconst mockData = () => {\n  const names = ['Eat', 'Play', 'Sleep'];\n  const week = (date) => {\n    const currentDate = date.getDate();\n    const newDate = new Date(date);\n    const firstDay = new Date(newDate.setDate(1)).getDay();\n    return Math.ceil((currentDate + firstDay) / 7);\n  };\n  const day = (date) => date.getDay();\n  return Array.from({ length: 30 }, (_, i) => {\n    const date = new Date(2022, 5, i + 1);\n    return names.map((name) => ({\n      activity: name,\n      value: Math.random(),\n      week: `${week(date)}`,\n      day: days[day(date)],\n    }));\n  }).flat(Infinity);\n};\n\nconst facetRect = chart\n  .facetRect()\n  .data(mockData())\n  .encode('x', 'day')\n  .encode('y', 'week')\n  .scale('x', { domain: days })\n  .legend('color', { position: 'right', size: 50 })\n  .attr('paddingRight', 100);\n\nfacetRect\n  .view()\n  .coordinate({ type: 'theta' })\n  .interval()\n  .transform({ type: 'stackY' })\n  .scale('y', { facet: false })\n  .encode('y', 'value')\n  .encode('color', 'activity');\n\nchart.render();\n",title:{zh:"日历饼图",en:"Calendar Pie Chart"},filename:"rect-pie.ts",isNew:!1},{id:"circle",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*V61eQY0Qs4cAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst M = [\n  'Jan.',\n  'Feb.',\n  'Mar.',\n  'Apr.',\n  'May',\n  'Jun.',\n  'Jul.',\n  'Aug.',\n  'Sept.',\n  'Oct.',\n  'Nov.',\n  'Dec.',\n];\nconst N = ['A', 'B', 'C', 'D'];\nconst data = M.flatMap((month) =>\n  N.map((name) => ({\n    month,\n    name,\n    value: Math.random(),\n  })),\n);\n\nconst chart = new Chart({\n  container: 'container',\n  width: 480,\n  height: 480,\n});\n\nconst facetCircle = chart.facetCircle().data(data).encode('position', 'month');\n\nfacetCircle\n  .interval()\n  .encode('x', 'name')\n  .encode('y', 'value')\n  .encode('color', 'name');\n\nchart.render();\n",title:{zh:"圆形分面",en:"Facet Circle"},filename:"circle.ts",isNew:!1},{id:"rect-frame",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*aofoR4mGPVUAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of one of these demos: https://observablehq.com/@observablehq/plot-facets?collection=@observablehq/plot\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 928,\n  height: 320,\n  paddingLeft: 60,\n  paddingBottom: 60,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/anscombe.json',\n  })\n  .encode('x', 'series');\n\nfacetRect\n  .point()\n  .attr('inset', 10)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .style('stroke', '#000')\n  .attr('frame', false) // Hide the default frame.\n  .viewStyle('plotStroke', 'red') // Customize the plot area to mock a frame.\n  .viewStyle('plotLineWidth', 2)\n  .viewStyle('plotOpacity', 0.5);\n\nchart.render();\n",title:{zh:"自定义视图边框",en:"Custom Frame Style"},filename:"rect-frame.ts",isNew:!1},{id:"rect-ring",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dhgfT7FfXcUAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\nconst chart = new Chart({ container: 'container' });\nconst container = chart.getContainer();\n\nconst button = document.createElement('button');\nbutton.innerText = 'Update Data';\nbutton.style.display = 'block';\ncontainer.appendChild(button);\n\nconst div = document.createElement('div');\ncontainer.appendChild(div);\n\nconst view = chart\n  .facetRect()\n  .data([\n    { name: 'CPU', percent: 27, color: 'rgba(90, 132, 226, 1)' },\n    { name: '内存', percent: 81, color: 'rgba(250, 57, 57, 1)' },\n    { name: '硬盘', percent: 68, color: 'rgba(253, 192, 45, 1)' },\n  ])\n  .encode('x', 'name')\n  .axis(false)\n  .legend(false)\n  .view()\n  .attr('frame', false)\n  .coordinate({ type: 'radial', innerRadius: 0.7, outerRadius: 0.95 });\n\nview\n  .interval()\n  .encode('y', 100)\n  .encode('size', 52)\n  .scale('y', { zero: true })\n  .axis(false)\n  .style('fill', 'rgba(232, 232, 232, 1)')\n  .animate(false);\n\nview\n  .interval()\n  .encode('y', 'percent')\n  .encode('color', 'color')\n  .encode('size', 80)\n  .scale('color', { type: 'identity' })\n  .tooltip({ name: '已使用', channel: 'y' })\n  .axis(false)\n  .style('radius', 26)\n  .style('shadowColor', 'color')\n  .style('shadowBlur', 10)\n  .style('shadowOffsetX', -1)\n  .style('shadowOffsetY', -1)\n  .animate('enter', { type: 'waveIn', duration: 1000 });\n\nview\n  .text()\n  .encode('text', (d) => `${d.name} ${d.percent}%`)\n  .style('textAlign', 'center')\n  .style('textBaseline', 'middle')\n  .style('fontSize', 15)\n  .style('color', 'rgba(74, 74, 74, 1)')\n  .style('x', '50%')\n  .style('y', '50%')\n  .tooltip(false);\n\nbutton.onclick = () => {\n  chart.changeData([\n    { name: 'CPU', percent: 50, color: 'rgba(90, 132, 226, 1)' },\n    { name: '内存', percent: 70, color: 'rgba(250, 57, 57, 1)' },\n    { name: '硬盘', percent: 30, color: 'rgba(253, 192, 45, 1)' },\n  ]);\n};\n\nchart.render();\n",title:{zh:"系统监控",en:"System Monitor"},filename:"rect-ring.ts",isNew:!1}],icon:"",id:"facet",title:{en:"Facet",zh:"分面复合"},api:null,childrenKey:"demos",order:2},{demos:[{id:"matrix-col",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1vHlSIQnIqgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 300,\n  height: 720,\n  paddingLeft: 60,\n  paddingBottom: 60,\n});\n\nconst repeatMatrix = chart\n  .repeatMatrix()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/weather.json',\n    transform: [\n      {\n        type: 'map',\n        callback: ({ date, ...d }) => ({\n          ...d,\n          date: new Date(date).getMonth() + '',\n        }),\n      },\n    ],\n  })\n  .encode('y', ['temp_max', 'precipitation', 'wind'])\n  .encode('x', 'date');\n\nrepeatMatrix\n  .line()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('color', 'location')\n  .scale('y', { zero: true });\n\nchart.render();\n",title:{zh:"列重复矩阵",en:"Repeat Matrix, Col"},filename:"matrix-col.ts",isNew:!1},{id:"matrix",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AT8rSbCrQJwAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/interactive_splom.html\n */\nimport { Chart } from '@antv/g2';\n\nconst toNaN = (d) => (d === 'NaN' ? NaN : d);\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  height: 800,\n  paddingLeft: 70,\n  paddingBottom: 70,\n});\n\nconst repeatMatrix = chart\n  .repeatMatrix()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/penguins.json',\n    transform: [\n      {\n        type: 'map',\n        callback: ({\n          culmen_depth_mm: cdepth,\n          culmen_length_mm: clength,\n          flipper_length_mm: flength,\n          body_mass_g: bmass,\n          ...d\n        }) => ({\n          ...d,\n          culmen_depth_mm: toNaN(cdepth),\n          culmen_length_mm: toNaN(clength),\n          flipper_length_mm: toNaN(flength),\n          body_mass_g: toNaN(bmass),\n        }),\n      },\n    ],\n  })\n  .encode('position', [\n    'culmen_length_mm',\n    'culmen_depth_mm',\n    'flipper_length_mm',\n    'body_mass_g',\n  ]);\n\nrepeatMatrix.point().encode('color', 'species');\n\nchart.render();\n",title:{zh:"重复矩阵",en:"Repeat Matrix"},filename:"matrix.ts",isNew:!1}],icon:"",id:"repeat",title:{en:"Repeat",zh:"重复复合"},api:null,childrenKey:"demos",order:3}],childrenKey:"examples"},{id:"component",title:{zh:"组件",en:"Component"},icon:"other",examples:[{demos:[{id:"title",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lXW1Qap6WlgAAAAAAAAAAAAAemJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.title({\n  title: 'Sold by genre, sorted by sold', // 标题内容\n  subtitle: 'It shows the sales volume of genre, sored by sold.', // 副标题内容\n});\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 0 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .style('minHeight', 50);\n\nchart.render();\n",title:{zh:"标题",en:" Title"},filename:"title.ts",isNew:!1},{id:"title-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*wkbhQ7e22-EAAAAAAAAAAAAAemJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.title({\n  align: 'right',\n  title: 'Sold by genre, sorted by sold',\n  titleFontSize: 15,\n  subtitle: 'It shows the sales volume of genre, sored by sold.',\n  subtitleFill: 'red',\n  subtitleFontSize: 12,\n  subtitleShadowColor: 'yellow',\n  subtitleShadowBlur: 5,\n  subtitleFontStyle: 'italic',\n});\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 0 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .style('minHeight', 50);\n\nchart.render();\n",title:{zh:"标题样式",en:" Title Style"},filename:"title-style.ts",isNew:!1}],icon:"",id:"title",title:{en:"Title",zh:"图表标题"},api:null,childrenKey:"demos",order:0},{demos:[{id:"axis-x",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kcACSYV4r-cAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 80,\n});\n\nchart\n  .axisX()\n  .scale('x', {\n    type: 'linear',\n    domain: [5, 10],\n    range: [0, 1],\n  })\n  .attr('tickCount', 10)\n  .attr('title', 'AxisX');\n\nchart.render();\n",title:{zh:"x 方向坐标轴",en:"AxisX"},filename:"axis-x.ts",isNew:!1},{id:"axis-xy",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*84x4RKr1uA8AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .scale('x', {\n    type: 'linear',\n    domain: [5, 10],\n    range: [0, 1],\n  })\n  .scale('y', {\n    type: 'linear',\n    domain: [5, 10],\n    range: [0, 1],\n  });\n\nchart.axisX().attr('title', 'AxisX');\n\nchart\n  .axisY()\n  .attr('title', 'AxisY')\n  .attr('tickCount', 10)\n  .style('labelFontSize', 14)\n  .style('gridLineWidth', 10)\n  .style('gridStroke', 'red');\n\nchart.render();\n",title:{zh:"x 和 y 方向坐标轴",en:"AxisX and AxisY"},filename:"axis-xy.ts",isNew:!1},{id:"axis-polar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*s_KgSKR6XeIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .coordinate({ type: 'polar' })\n  .scale('x', {\n    type: 'linear',\n    domain: [5, 10],\n    range: [0, 1],\n  })\n  .scale('y', {\n    type: 'linear',\n    domain: [5, 10],\n    range: [1, 0],\n  });\n\nchart\n  .axisX()\n  .attr('title', 'AxisX')\n  .attr('tickFilter', (_, i, ticks) => i && i !== ticks.length - 1);\n\nchart\n  .axisY()\n  .attr('title', 'AxisY')\n  .style('labelFontSize', 14)\n  .style('gridLineWidth', 10)\n  .style('gridStroke', 'red');\n\nchart.render();\n",title:{zh:"极坐标下坐标轴",en:"Axis Polar"},filename:"axis-polar.ts",isNew:!1},{id:"axis-multi",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*aeDQQqTlA1sAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' });\n\nchart\n  .axisY()\n  .attr('position', 'right')\n  .scale('y', {\n    type: 'linear',\n    independent: true,\n    domain: [0, 10],\n    range: [1, 0],\n  })\n  .style('grid', false);\n\nchart.render();\n",title:{zh:"多坐标轴",en:"Multi Axis"},filename:"axis-multi.ts",isNew:!1},{id:"axis",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*NEbsT6qCFSEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data([\n  {\n    pos: 1,\n    no: 1,\n    driver: 'Max Verstappen',\n    car: 'RED BULL RACING HONDA RBPT',\n    laps: 57,\n    time: '1:33:56.736',\n    pts: 25,\n  },\n  {\n    pos: 2,\n    no: 11,\n    driver: 'Sergio Perez',\n    car: 'RED BULL RACING HONDA RBPT',\n    laps: 57,\n    time: '+11.987s',\n    pts: 18,\n  },\n  {\n    pos: 3,\n    no: 14,\n    driver: 'Fernando Alonso',\n    car: 'ASTON MARTIN ARAMCO MERCEDES',\n    laps: 57,\n    time: '+38.637s',\n    pts: 15,\n  },\n  {\n    pos: 4,\n    no: 55,\n    driver: 'Carlos Sainz',\n    car: 'FERRARI',\n    laps: 57,\n    time: '+48.052s',\n    pts: 12,\n  },\n  {\n    pos: 5,\n    no: 44,\n    driver: 'Lewis Hamilton',\n    car: 'MERCEDES',\n    laps: 57,\n    time: '+50.977s',\n    pts: 10,\n  },\n]);\n\nfunction medal(ranking) {\n  if (ranking > 2) return `第${ranking + 1}名`;\n  const { document } = chart.getContext().canvas!;\n  const group = document.createElement('g', {});\n  const size = ranking === 0 ? 20 : 15;\n  const icon = document.createElement('image', {\n    style: {\n      src: 'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1NiMRKb2sfMAAAAAAAAAAAAADmJ7AQ/original',\n      width: size,\n      height: size,\n      transform: `translate(-${size / 2}, -${size / 2})`,\n    },\n  });\n  const text = ['冠军🏆', '亚军🥈', '季军🥉'][ranking];\n  const label = document.createElement('text', {\n    style: {\n      text,\n      fill: 'gray',\n      textAlign: 'center',\n      transform: `translate(0, 35)`,\n    },\n  });\n\n  group.appendChild(icon);\n  group.appendChild(label);\n  return group;\n}\n\nchart\n  .interval()\n  .encode('x', 'pos')\n  .encode('y', 'pts')\n  .encode('color', 'pts')\n  .axis({\n    x: {\n      title: 'FORMULA 1 GULF AIR BAHRAIN GRAND PRIX 2023 - RACE RESULT',\n      size: 80,\n      labelFormatter: (datum, index) => medal(index),\n    },\n    y: false,\n  })\n  .label({\n    text: 'driver',\n    transform: [{ type: 'contrastReverse' }],\n  })\n  .label({\n    text: 'time',\n    transform: [{ type: 'contrastReverse' }],\n    dy: 20,\n    fontStyle: 'italic',\n  })\n  .tooltip({ title: 'car' })\n  .legend(false);\n\nchart.render();\n",title:{zh:"自定义坐标轴标签",en:"Axis"},filename:"axis.ts",isNew:!1},{id:"render",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*HF0HT55uskMAAAAAQgAAAAgAemJ7AQ/fmt.avif",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data([\n  { year: '1951 年', value: 38 },\n  { year: '1952 年', value: 52 },\n  { year: '1956 年', value: 61 },\n  { year: '1957 年', value: 145 },\n  { year: '1958 年', value: 48 },\n]);\n\nchart\n  .interval()\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('color', 'year')\n  .axis({\n    x: {\n      animate: false,\n      transform: [],\n      labelRender: (datum) => {\n        return `<div style=\"background: #fff; height: 30px;\">\n            <div style=\"width: 60px; transform: translateX(-50%); background: #ddd; font-weight: bold;\">${datum.label}</div>\n          </div>`;\n      },\n    },\n  })\n  .style({\n    maxWidth: 60,\n  })\n  .legend(false);\n\nchart.render();\n",title:{zh:"坐标轴标签自定义渲染",en:"Axis Label Custom Render"},filename:"render.ts",isNew:!1}],icon:"",id:"axis",title:{en:"Axis",zh:"坐标轴"},api:null,childrenKey:"demos",order:1},{demos:[{id:"category",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dd0oR5_JfToAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  insetTop: 30,\n});\n\nconst logo = [\n  [\n    '抖音',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8IXHQLvx9QkAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '快手',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*swueRrrKvbcAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '小米',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*79G3TIt3mBoAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '微信',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_ELBTJLp0dQAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'Keep',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JzbKRpFhR14AAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'Chrome',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xLnYTaZfdh8AAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'QQ',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AbGNTpA5JLwAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '优酷',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*UL6lS4jw9lUAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '百度地图',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*I6nrTITAxcoAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '腾讯视频',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*zwVvT5OFnuYAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '哔哩哔哩',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*6jkAQayTiMMAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'Word',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FbkXT6K6mVEAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'Excel',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*CKb-R6ZAFpYAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'PowerPoint',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*K7-FT4RYRqIAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '腾讯会议',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xbPXR7snu44AAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '网易云音乐',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*upKlRJ9QB4cAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'Safari',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kjDHRbiW734AAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '地图',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*tl-2QIB8LKIAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'Docker',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*iJ4dS49yrJ4AAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    'VSCode',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rR6nRInEcz4AAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '百度网盘',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*futaTbIAkG4AAAAAAAAAAAAADmJ7AQ/original',\n  ],\n  [\n    '印象笔记',\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Skh1S4BfL9oAAAAAAAAAAAAADmJ7AQ/original',\n  ],\n];\n\nchart\n  .interval()\n  .data(logo)\n  .encode('x', (d) => d[0])\n  .encode('y', () => Math.random())\n  .encode('color', (d) => d[1])\n  .scale('y', { nice: true })\n  .legend({\n    color: {\n      itemMarker: (_, index) => () => {\n        const { document } = chart.getContext().canvas;\n        const image = document.createElement('image', {\n          style: {\n            width: 20,\n            height: 20,\n            transform: `translate(-10, -10)`,\n            src: logo[index][1],\n          },\n        });\n        return image;\n      },\n      itemMarkerSize: 40,\n      itemLabelText: (_, index) => logo[index][0],\n      maxRows: 1,\n    },\n  })\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"自定义图例标签",en:"Category Legend"},filename:"category.ts",isNew:!1},{id:"continuous",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*QXuAQ7COJwcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 360,\n});\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/seattle-weather.json',\n  })\n  .transform({ type: 'group', color: 'max' })\n  .encode('x', (d) => new Date(d.date).getUTCDate())\n  .encode('y', (d) => new Date(d.date).getUTCMonth())\n  .encode('color', 'temp_max')\n  .style('inset', 0.5)\n  .scale('color', { palette: 'rainbow' })\n  .legend({\n    color: {\n      position: 'bottom',\n      ribbonType: 'size',\n      indicator: true,\n      title: false,\n      tick: false,\n      layout: {\n        justifyContent: 'center',\n      },\n    },\n  });\n\nchart.render();\n",title:{zh:"连续图例",en:"Continuous Legend"},filename:"continuous.ts",isNew:!1},{id:"custom",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*mZFvTZtdBEUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n\nconst colorField = 'genre';\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', colorField)\n  .legend(false); // Hide built-in legends.\n\nchart.render().then(renderCustomLegend);\n\nfunction renderCustomLegend(chart) {\n  // Get color scale.\n  const scale = chart.getScaleByChannel('color');\n  const { domain, range } = scale.getOptions();\n  const excludedValues = [];\n\n  // Create items from scale domain.\n  const items = domain.map((text, i) => {\n    const span = document.createElement('span');\n    const color = range[i];\n\n    // Items' style.\n    span.innerText = text;\n    span.style.display = 'inline-block';\n    span.style.padding = '0.5em';\n    span.style.color = color;\n    span.style.cursor = 'pointer';\n\n    span.onclick = () => {\n      const index = excludedValues.findIndex((d) => d === text);\n      if (index === -1) {\n        excludedValues.push(text);\n        span.style.color = '#aaa';\n      } else {\n        excludedValues.splice(index, 1);\n        span.style.color = color;\n      }\n      onChange(excludedValues);\n    };\n\n    return span;\n  });\n\n  // Mount legend items.\n  const container = document.getElementById('container');\n  const canvas = container.getElementsByTagName('canvas')[0];\n  const legend = document.createElement('legend');\n  container.insertBefore(legend, canvas);\n  for (const item of items) legend.append(item);\n\n  // Emit legendFilter event.\n  function onChange(values) {\n    const selectedValues = domain.filter((d) => !values.includes(d));\n    const selectedData = data.filter((d) =>\n      selectedValues.includes(d[colorField]),\n    );\n    chart.changeData(selectedData);\n  }\n}\n",title:{zh:"自定义图例",en:"Custom Legend"},filename:"custom.ts",isNew:!1},{id:"symbol",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*UM2yQKYXczEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart, register, type SymbolFactor } from '@antv/g2';\n\nconst customSquare = Object.assign<SymbolFactor, Partial<SymbolFactor>>(\n  (x, y, r) => {\n    const radius = r / 2;\n\n    return [\n      ['M', x + radius, y - r],\n      ['L', x - radius, y - r],\n      ['A', radius, radius, 0, 0, 0, x - r, y - radius],\n      ['L', x - r, y + radius],\n      ['A', radius, radius, 0, 0, 0, x - radius, y + r],\n      ['L', x + radius, y + r],\n      ['A', radius, radius, 0, 0, 0, x + r, y + radius],\n      ['L', x + r, y - radius],\n      ['A', radius, radius, 0, 0, 0, x + radius, y - r],\n      ['Z'],\n    ];\n  },\n  {\n    // 空心请设置为 ['stroke', 'lineWidth']\n    style: ['fill']\n  },\n);\n\nregister('symbol.customSquare', customSquare);\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst data = [\n  { genre: 'Sports', sold: 275 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\n\nconst colorField = 'genre';\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', colorField)\n  .legend({\n    color: {\n      itemMarker: 'customSquare',\n    },\n  });\n\nchart.render();\n\n",title:{zh:"自定义符号",en:"Custom Symbol"},filename:"symbol.ts",isNew:!1},{id:"position",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*E0n9Qpri2hYAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 350,\n});\n\nchart.options({\n  type: 'interval',\n  data: [\n    { genre: 'Sports', sold: 50 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ],\n  encode: { x: 'genre', y: 'sold', color: 'genre' },\n  legend: {\n    color: {\n      // 图例显示位置 可选 top ｜ bottom | right | left\n      position: 'top',\n      layout: {\n        // 主轴对齐方式 可选 flex-start | flex-end | center\n        justifyContent: 'flex-start',\n        // 交叉轴对齐方式 可选 flex-start | flex-end | center\n        alignItems: 'flex-start',\n        // 主轴方向 可选 row | column\n        flexDirection: 'row',\n      },\n    },\n  },\n});\n\nchart.render();\n",title:{zh:"图例位置",en:"Legend Position"},filename:"position.ts",isNew:!1},{id:"title",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*VlifQbrB6EEAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 300 });\n\nchart.options({\n  type: 'legends',\n  title: '图例标题',\n  titleSpacing: 0,\n  titleInset: 0,\n  titlePosition: 't',\n  titleFontSize: 16,\n  titleFontFamily: 'sans-serif',\n  titleFontWeight: 500,\n  titleLineHeight: 20,\n  titleTextAlign: 'center',\n  titleTextBaseline: 'middle',\n  titleFill: '#000',\n  titleFillOpacity: 0.9,\n  titleStroke: '#DAF5EC',\n  titleStrokeOpacity: 0.9,\n  titleLineWidth: 2,\n  titleLineDash: [4, 8],\n  titleOpacity: 1,\n  titleShadowColor: '#d3d3d3',\n  titleShadowBlur: 10,\n  titleShadowOffsetX: 10,\n  titleShadowOffsetY: 10,\n  titleCursor: 'pointer',\n  scale: {\n    size: {\n      type: 'linear',\n      domain: [0, 10],\n      range: [0, 100],\n    },\n  },\n});\n\nchart.render();\n",title:{zh:"图例标题",en:"Legend Title"},filename:"title.ts",isNew:!1},{id:"item-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Bcp7Q73qwUcAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\nconst shapeList = ['bowtie', 'smooth', 'hv', 'rect', 'hollowPoint'];\nconst data = [\n  { genre: 'Sports', sold: 50 },\n  { genre: 'Strategy', sold: 115 },\n  { genre: 'Action', sold: 120 },\n  { genre: 'Shooter', sold: 350 },\n  { genre: 'Other', sold: 150 },\n];\nchart.options({\n  type: 'interval',\n  data,\n  encode: { x: 'genre', y: 'sold', color: 'genre' },\n  legend: {\n    color: {\n      size: 100,\n      itemWidth: 120,\n      // itemMarker\n      itemMarker: (d, index) => shapeList[index],\n      // itemLabel\n      itemLabelFill: 'red',\n      // itemValue\n      itemValueText: (d, index) => data[index]['sold'],\n      // itemBackground\n      itemBackgroundFill: (d) => d.color,\n      itemBackgroundFillOpacity: 0.2,\n    },\n  },\n});\n\nchart.render();\n",title:{zh:"图例项样式",en:"Legend Item Style"},filename:"item-style.ts",isNew:!1},{id:"nav-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*6i-kR6WVcfcAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\n\nchart.options({\n  type: 'interval',\n  data: [\n    { genre: 'Sports', sold: 50 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ],\n  encode: { x: 'genre', y: 'sold', color: 'genre' },\n  legend: {\n    color: {\n      itemWidth: 160,\n      navEffect: 'cubic-bezier',\n      navDuration: 400,\n      navOrientation: 'vertical',\n      navDefaultPage: 2,\n      navLoop: true,\n\n      //配置navPageNum的绘图属性\n      navPageNumFontSize: 16,\n      navPageNumFontFamily: 'sans-serif',\n      navPageNumFontWeight: 500,\n      navPageNumLineHeight: 20,\n      navPageNumTextAlign: 'center',\n      navPageNumTextBaseline: 'middle',\n      navPageNumFill: '#2989FF',\n      navPageNumFillOpacity: 0.9,\n      navPageNumStroke: '#DAF5EC',\n      navPageNumStrokeOpacity: 0.9,\n      navPageNumLineWidth: 2,\n      navPageNumLineDash: [4, 8],\n      navPageNumOpacity: 1,\n      navPageNumShadowColor: '#d3d3d3',\n      navPageNumShadowBlur: 10,\n      navPageNumShadowOffsetX: 10,\n      navPageNumShadowOffsetY: 10,\n      navPageNumCursor: 'pointer',\n\n      // 配置navButton的绘图属性\n      navButtonFill: '#2989FF',\n      navButtonFillOpacity: 0.7,\n      navButtonStroke: '#DAF5EC',\n      navButtonStrokeOpacity: 0.9,\n      navButtonLineWidth: 2,\n      navButtonLineDash: [4, 8],\n      navButtonOpacity: 0.9,\n      navButtonShadowColor: '#d3d3d3',\n      navButtonShadowBlur: 10,\n      navButtonShadowOffsetX: 10,\n      navButtonShadowOffsetY: 10,\n      navButtonCursor: 'pointer',\n\n      navFormatter: (current, total) => `第${current}页/共${total}页`,\n    },\n  },\n});\n\nchart.render();\n",title:{zh:"分页器样式",en:"Legend Nav Style"},filename:"nav-style.ts",isNew:!1}],icon:"",id:"legend",title:{en:"Legend",zh:"图例"},api:null,childrenKey:"demos",order:2},{demos:[{id:"tooltip",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1ipfQ7p3x3wAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' });\n\nchart.render();\n",title:{zh:"提示",en:"Tooltip"},filename:"tooltip.ts",isNew:!1},{id:"tooltip2d",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Zz3WSoLucjsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/basement_prod/6b4aa721-b039-49b9-99d8-540b3f87d339.json',\n  })\n  .encode('x', 'height')\n  .encode('y', 'weight')\n  .encode('color', 'gender');\n\nchart.render();\n",title:{zh:"多维度提示",en:"Tooltip 2D"},filename:"tooltip2d.ts",isNew:!1},{id:"tooltip-series",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_-nwR4i4dmoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/indices.json',\n  })\n  .transform({ type: 'normalizeY', basis: 'first', groupBy: 'color' })\n  .encode('x', (d) => new Date(d.Date))\n  .encode('y', 'Close')\n  .encode('color', 'Symbol')\n  .axis('y', { title: '↑ Change in price (%)' })\n  .tooltip({\n    title: (d) => new Date(d.Date).toUTCString(),\n    items: [\n      (d, i, data, column) => ({\n        name: 'Close',\n        value: column.y.value[i].toFixed(1),\n      }),\n    ],\n  })\n  .label({\n    text: 'Symbol',\n    selector: 'last',\n    fontSize: 10,\n  });\n\nchart.render();\n",title:{zh:"系列提示",en:"Tooltip Series"},filename:"tooltip-series.ts",isNew:!1},{id:"tooltip-custom",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*tELLRr-YVa8AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  inset: 6,\n});\n\nchart\n  .boxplot()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/morley.json',\n  })\n  .encode('x', 'Expt')\n  .encode('y', 'Speed')\n  .tooltip({ name: 'min', channel: 'y' })\n  .tooltip({ name: 'q1', channel: 'y1' })\n  .tooltip({ name: 'q2', channel: 'y2' })\n  .tooltip({ name: 'q3', channel: 'y3' })\n  .tooltip({ name: 'max', color: 'red', channel: 'y4' });\n\nchart.render();\n",title:{zh:"自定义提示",en:"Custom Tooltip"},filename:"tooltip-custom.ts",isNew:!1},{id:"tooltip-two",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*yHjTR6GNM7kAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nfunction css(...styles) {\n  return styles\n    .map((obj) =>\n      Object.entries(obj)\n        .map(([k, v]) => k + ':' + v)\n        .join(';'),\n    )\n    .join(';');\n}\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data([\n  { time: '16', north: 0, south: 0 },\n  { time: '18', north: 7, south: -8 },\n  { time: '20', north: 6, south: -7 },\n  { time: '22', north: 9, south: -8 },\n  { time: '00', north: 5, south: -7 },\n  { time: '02', north: 8, south: -5 },\n  { time: '04', north: 6, south: -7 },\n  { time: '06', north: 7, south: -8 },\n  { time: '08', north: 9, south: -9 },\n  { time: '10', north: 6, south: -9 },\n  { time: '12', north: 5, south: -9 },\n]);\n\nchart\n  .area()\n  .encode('x', (d) => d.time)\n  .encode('y', 'north')\n  .encode('color', () => 'north')\n  .encode('shape', 'smooth');\n\nchart\n  .area()\n  .encode('x', (d) => d.time)\n  .encode('y', 'south')\n  .encode('color', () => 'south')\n  .encode('shape', 'smooth');\n\nchart.interaction('tooltip', {\n  css: {\n    '.g2-tooltip': {\n      background: 'transparent',\n      'box-shadow': 'none',\n    },\n  },\n  render: (event, { title, items }) => {\n    const containerStyle = () => ({\n      background: '#fff',\n      'border-radius': '4px',\n      padding: '12px',\n      'box-shadow': '0 6px 12px 0 rgba(0, 0, 0, 0.12)',\n    });\n\n    const itemStyle = (color) => ({\n      display: 'inline-block',\n      width: '8px',\n      height: '8px',\n      background: color,\n      'border-radius': '50%',\n    });\n\n    return `\n       <div>\n          <div style=\"${css(containerStyle(), { 'margin-bottom': '20px' })}\">\n            <span>${title}</span>\n            </br>\n            <span style=\"${css(itemStyle(items[0].color))}\"></span>\n            <span>${items[0].name}</span>\n            <span style=\"float:right\">${items[0].value}</span>\n          </div>\n          <div style=\"${css(containerStyle())}\">\n            <span>${title}</span>\n            </br>\n            <span style=${css(itemStyle(items[1].color))}></span>\n            <span>${items[1].name}</span>\n            <span style=\"float:right\">${items[1].value}</span>\n          </div>\n      </div>\n    `;\n  },\n});\n\nchart.render();\n",title:{zh:"两个 tooltip",en:"Two Tooltip"},filename:"tooltip-two.ts",isNew:!1},{id:"tooltip-render",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*seQRQrEFOBoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .transform([{ type: 'sortX', by: 'y', reverse: true }])\n  .encode('x', 'letter')\n  .encode('y', 'frequency');\n\nchart.interaction('tooltip', {\n  render: (event, { title, items }) => `\n  <div\n    style=\"\n      width: 300px;\n      background: #f2f2f2;\n      border-radius: 10px;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      padding: 10px;\n      margin: -12px;\n    \"\n  >\n    <h2\n      style=\"\n        margin-bottom: 9px; \n        font-size: 18px; \n        line-height: 30px; \n        font-weight: 500px\"\n    >\n      Letter: ${title}\n    </h2>\n    ${items\n      .map(\n        (item) =>\n          `<div style=\"font-size: 16px; color: #666\">name: ${item.name}\n          <br/>\n          value: \n          <div style=\"width:${\n            item.value * 1000\n          }px;height:10px;display:inline-block;background:${item.color}\"></div>\n          ${item.value}\n        </div>`,\n      )\n      .join('')}\n  </div>\n  `,\n});\n\nchart.render();\n",title:{zh:"自定义渲染内容",en:"Custom Tooltip Rendering"},filename:"tooltip-render.ts",isNew:!1},{id:"tooltip-line-marker",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TgQ-TI-8Jj4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data([\n    { month: 'Jan', city: 'Tokyo', temperature: 7 },\n    { month: 'Jan', city: 'London', temperature: 3.9 },\n    { month: 'Feb', city: 'Tokyo', temperature: 6.9 },\n    { month: 'Feb', city: 'London', temperature: 4.2 },\n    { month: 'Mar', city: 'Tokyo', temperature: 9.5 },\n    { month: 'Mar', city: 'London', temperature: 5.7 },\n    { month: 'Apr', city: 'Tokyo', temperature: 14.5 },\n    { month: 'Apr', city: 'London', temperature: 8.5 },\n    { month: 'May', city: 'Tokyo', temperature: 18.4 },\n    { month: 'May', city: 'London', temperature: 11.9 },\n    { month: 'Jun', city: 'Tokyo', temperature: 21.5 },\n    { month: 'Jun', city: 'London', temperature: 15.2 },\n    { month: 'Jul', city: 'Tokyo', temperature: 25.2 },\n    { month: 'Jul', city: 'London', temperature: 17 },\n    { month: 'Aug', city: 'Tokyo', temperature: 26.5 },\n    { month: 'Aug', city: 'London', temperature: 16.6 },\n    { month: 'Sep', city: 'Tokyo', temperature: 23.3 },\n    { month: 'Sep', city: 'London', temperature: 14.2 },\n    { month: 'Oct', city: 'Tokyo', temperature: 18.3 },\n    { month: 'Oct', city: 'London', temperature: 10.3 },\n    { month: 'Nov', city: 'Tokyo', temperature: 13.9 },\n    { month: 'Nov', city: 'London', temperature: 6.6 },\n    { month: 'Dec', city: 'Tokyo', temperature: 9.6 },\n    { month: 'Dec', city: 'London', temperature: 4.8 },\n  ])\n  .encode('x', 'month')\n  .encode('y', 'temperature')\n  .encode('color', 'city')\n  .interaction('tooltip', {\n    render: (event, { items }) => {\n      const target = event.target;\n      const format = (item) => `${item.name}: ${item.value}`;\n      if (target.className === 'g2-tooltip-marker') {\n        const color = target.style.fill;\n        const item = items.find((i) => i.color === color);\n        return format(item);\n      }\n      return items.map(format).join('<br>');\n    },\n  });\n\nchart.render();\n",title:{zh:"自定义 marker 的 tooltip",en:"Custom Marker Tooltip"},filename:"tooltip-line-marker.ts",isNew:!1},{id:"tooltip-click",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8lsAQ5dCO-IAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nfunction css(...styles) {\n  return styles\n    .map((obj) =>\n      Object.entries(obj)\n        .map(([k, v]) => k + ':' + v)\n        .join(';'),\n    )\n    .join(';');\n}\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' })\n  .interaction('tooltip', {\n    disableNative: true, // Disable pointerover and pointerout events.\n    bounding: {\n      x: -Infinity,\n      y: -Infinity,\n      width: Infinity,\n      height: Infinity,\n    },\n    css: {\n      '.g2-tooltip': {\n        background: 'transparent',\n        'box-shadow': 'none',\n        transform: 'translate(-50%, -100%)',\n      },\n    },\n    offset: [0, -10],\n    mount: 'body',\n    render: (event, { title, items }) => {\n      const plot = chart\n        .getContext()\n        .canvas.document.getElementsByClassName('plot')[0];\n      const plotBounds = plot.getRenderBounds();\n      const target = event.target;\n      const bounds = target.getRenderBounds();\n      const height = bounds.min[1] - plotBounds.min[1];\n      return `<div>\n        <div style=\"${css({\n          position: 'relative',\n          background: '#fff',\n          'box-shadow': '0 6px 12px 0 rgba(0, 0, 0, 0.12)',\n          'z-index': 999,\n          padding: '12px',\n          'min-width': '120px',\n        })}\">\n          <h2\n            style=\"${css({\n              'margin-bottom': '9px',\n              'font-size': '18px',\n              'line-height': '30px',\n              'font-weight': '500px',\n            })}\"\n          >\n            Letter: ${title}\n          </h2>\n          ${items\n            .map(\n              (item) =>\n                `<div style=\"font-size: 16px; color: #666\">\n                  <span style=\"${css({\n                    height: '10px',\n                    width: '10px',\n                    background: item.color,\n                    display: 'inline-block',\n                    'border-radius': '50%',\n                  })}\"></span>\n                  <span>${item.name}</span>\n                  <span>${item.value}</span>\n                </div>`,\n            )\n            .join('')}\n        </div>\n        <div style=\"${css({\n          width: '1px',\n          height: height + 'px',\n          background: '#aaa',\n          position: 'absolute',\n          left: '50%',\n          top: '90%',\n          'z-index': 500,\n        })}\"></div>\n      </div>`;\n    },\n  });\n\nchart.on('element:click', ({ data }) =>\n  chart.emit('tooltip:show', {\n    data,\n    offsetY: 0,\n  }),\n);\n\nchart.on('plot:click', () => chart.emit('tooltip:hide'));\n\nchart.render();\n",title:{zh:"点击提示",en:"Click Tooltip"},filename:"tooltip-click.ts",isNew:!1},{id:"tooltip-click-line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*CoxhR4vstEQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' })\n  .interaction('tooltip', {\n    disableNative: true, // Disable pointerover and pointerout events.\n    bounding: {\n      x: -Infinity,\n      y: -Infinity,\n      width: Infinity,\n      height: Infinity,\n    },\n    mount: 'body',\n  });\n\nchart.on('plot:click', ({ offsetX, target }) => {\n  chart.emit('tooltip:show', { offsetX, offsetY: 20, target });\n});\n\nchart.render();\n",title:{zh:"点击系列图提示",en:"Click Series Tooltip"},filename:"tooltip-click-line.ts",isNew:!1},{id:"tooltip-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2uARSYuGfPgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/f129b517-158d-41a9-83a3-3294d639b39e.csv',\n    format: 'csv',\n  })\n  .transform({ type: 'sortX', by: 'y', reverse: true, slice: 6 })\n  .transform({ type: 'dodgeX' })\n  .encode('x', 'state')\n  .encode('y', 'population')\n  .encode('color', 'age')\n  .scale('y', { nice: true })\n  .axis('y', { labelFormatter: '~s' })\n  .interaction('tooltip', {\n    shared: true,\n    css: {\n      '.g2-tooltip': {\n        background: '#eee',\n        'border-radius': ' 0.25em !important',\n      },\n      '.g2-tooltip-title': {\n        'font-size': '20px',\n        'font-weight': 'bold',\n        'padding-bottom': '0.25em',\n      },\n      '.g2-tooltip-list-item': {\n        background: '#ccc',\n        padding: '0.25em',\n        margin: '0.25em',\n        'border-radius': '0.25em',\n      },\n      '.g2-tooltip-list-item-name-label': {\n        'font-weight': 'bold',\n        'font-size': '16px',\n      },\n      'g2-tooltip-list-item-marker': {\n        'border-radius': '0.25em',\n        width: '15px',\n        height: '15px',\n      },\n      '.g2-tooltip-list-item-value': {\n        'font-weight': 'bold',\n        'font-size': '16px',\n      },\n    },\n  });\n\nchart.render();\n",title:{zh:"自定义样式",en:"Custom style"},filename:"tooltip-style.ts",isNew:!1},{id:"tooltip-crosshairs",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_LFDT7p6hRQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/indices.json',\n  })\n  .transform({ type: 'normalizeY', basis: 'first', groupBy: 'color' })\n  .encode('x', (d) => new Date(d.Date))\n  .encode('y', 'Close')\n  .encode('color', 'Symbol')\n  .axis('y', { title: '↑ Change in price (%)' })\n  .interaction('tooltip', {\n    crosshairs: true,\n    crosshairsXStroke: 'red',\n    crosshairsYStroke: 'blue',\n  })\n  .tooltip({\n    title: (d) => new Date(d.Date).toUTCString(),\n    items: [\n      (d, i, data, column) => ({\n        name: 'Close',\n        value: column.y.value[i].toFixed(1),\n      }),\n    ],\n  })\n  .label({\n    text: 'Symbol',\n    selector: 'last',\n    fontSize: 10,\n  });\n\nchart.render();\n",title:{zh:"十字辅助线",en:"Crosshairs"},filename:"tooltip-crosshairs.ts",isNew:!1},{id:"tooltip-marker",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*s8KjQLiSyTwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: 'Design', type: 'a', score: 70 },\n  { item: 'Design', type: 'b', score: 30 },\n  { item: 'Development', type: 'a', score: 60 },\n  { item: 'Development', type: 'b', score: 70 },\n  { item: 'Marketing', type: 'a', score: 50 },\n  { item: 'Marketing', type: 'b', score: 60 },\n  { item: 'Users', type: 'a', score: 40 },\n  { item: 'Users', type: 'b', score: 50 },\n  { item: 'Test', type: 'a', score: 60 },\n  { item: 'Test', type: 'b', score: 70 },\n  { item: 'Language', type: 'a', score: 70 },\n  { item: 'Language', type: 'b', score: 50 },\n  { item: 'Technology', type: 'a', score: 50 },\n  { item: 'Technology', type: 'b', score: 40 },\n  { item: 'Support', type: 'a', score: 30 },\n  { item: 'Support', type: 'b', score: 40 },\n  { item: 'Sales', type: 'a', score: 60 },\n  { item: 'Sales', type: 'b', score: 40 },\n  { item: 'UX', type: 'a', score: 50 },\n  { item: 'UX', type: 'b', score: 60 },\n];\n\nconst options = {\n  type: 'view',\n  coordinate: {\n    type: 'polar',\n  },\n  scale: {\n    x: { padding: 0.5, align: 0 },\n    y: { tickCount: 5, domainMax: 80 },\n  },\n  autoFit: true,\n  data,\n  interaction: {\n    legendFilter: false,\n    elementPointMove: true,\n    tooltip: {\n      crosshairs: true,\n      crosshairsStroke: 'red',\n      crosshairsLineDash: [4, 4],\n      markerType: 'hollow',\n    },\n  },\n  axis: {\n    x: {\n      grid: true,\n      gridStrokeWidth: 1,\n      tick: false,\n      gridLineDash: [0, 0],\n    },\n    y: {\n      zIndex: 1,\n      title: false,\n      gridConnect: 'line',\n      gridStrokeWidth: 1,\n      gridLineDash: [0, 0],\n    },\n  },\n  children: [\n    {\n      type: 'area',\n      encode: {\n        x: 'item',\n        y: 'score',\n        color: 'type',\n        key: 'type',\n      },\n      style: {\n        fillOpacity: 0.5,\n      },\n    },\n    {\n      type: 'line',\n      encode: {\n        x: 'item',\n        y: 'score',\n        color: 'type',\n        key: 'type',\n      },\n      style: {\n        lineWidth: 2,\n      },\n    },\n  ],\n};\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart.options(options);\n\nchart.render();\n",title:{zh:"空心提示点",en:"Hollow Marker"},filename:"tooltip-marker.ts",isNew:!1}],icon:"",id:"tooltip",title:{en:"Tooltip",zh:"提示"},api:null,childrenKey:"demos",order:2},{demos:[{id:"overlapHide",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*d3PIQKO4qpoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/aapl.json',\n  })\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'close')\n  .label({\n    text: 'close',\n    transform: [\n      {\n        type: 'overlapHide',\n      },\n    ],\n  });\n\nchart.render();\n",title:{zh:"数据标签碰撞隐藏",en:"Overlap Hide"},filename:"overlapHide.ts",isNew:!1},{id:"overflowHide",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*nBSvRaadPpYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 800,\n  autoFit: false,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/alphabet.json',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .encode('color', 'steelblue')\n  .axis('y', { labelFormatter: '.0%' })\n  .label({\n    text: 'frequency',\n    position: 'inside',\n    formatter: '.0%',\n    transform: [{ type: 'overflowHide' }],\n  });\n\nchart.render();\n",title:{zh:"数据标签超出隐藏",en:"Overflow Hide"},filename:"overflowHide.ts",isNew:!1},{id:"contrastReverse",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*uCijTZ64mdQAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/alphabet.json',\n  })\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .encode('color', 'letter')\n  .label({\n    text: 'frequency',\n    position: 'inside',\n    formatter: '.0%',\n    fill: '#000',\n    transform: [\n      {\n        type: 'contrastReverse',\n        threshold: 21,\n        palette: ['#000', '#fff'], // Use full color string to avoid screenshot error.\n      },\n    ],\n  });\n\nchart.render();\n",title:{zh:"数据标签颜色反转",en:"Contrast Reverse"},filename:"contrastReverse.ts",isNew:!1},{id:"htmlLabel",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*OMnRQ5IgftkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst data = [\n  { repo: 'G', star: 918 },\n  { repo: 'G2', star: 11688 },\n  { repo: 'G6', star: 10045 },\n  { repo: 'L7', star: 3125 },\n  { repo: 'F2', star: 7820 },\n  { repo: 'S2', star: 1231 },\n  { repo: 'X6', star: 4755 },\n];\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', 'repo')\n  .encode('y', 'star')\n  .encode('color', 'repo')\n  .label({\n    text: 'star',\n    render: (text, datum) => {\n      return `\n        <div style=\"left:-50%;top:-20px;position:relative;font-size:14px;\">\n          <span>${datum.repo}</span>\n          :\n          <a href=\"https://github.com/antvis/${datum.repo}\" target=\"_blank\">${datum.star}</a>\n        </div>\n      `;\n    },\n  })\n  .legend(false);\n\nchart.render();\n",title:{zh:"HTML 标签",en:"HTML Label"},filename:"htmlLabel.ts",isNew:!1}],icon:"",id:"label",title:{en:"Label",zh:"数据标签"},api:null,childrenKey:"demos",order:3},{demos:[{id:"scrollbar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SYeoT6E_CmMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close')\n  // 开启 X 轴方向上的滚动条\n  .scrollbar('x', {})\n  .scrollbar('y', { value: 0.2 });\n\nchart.on('afterrender', () => {\n  const { canvas } = chart.getContext();\n  const { document } = canvas;\n  document\n    .querySelector('.g2-scrollbar')\n    .addEventListener('valuechange', (evt) => {\n      console.info(evt.detail);\n    });\n});\n\nchart.render();\n",title:{zh:"滚动条",en:"Scrollbar"},filename:"scrollbar.ts",isNew:!1}],icon:"",id:"scrollbar",title:{en:"Scrollbar",zh:"滚动条"},api:null,childrenKey:"demos",order:5}],childrenKey:"examples"},{id:"animation",title:{zh:"动画",en:"Animation"},icon:"other",examples:[{demos:[{id:"path-in",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*uq_2SL14wgQAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/line-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close')\n  .animate('enter', { type: 'pathIn', duration: 1000 });\n\nchart.render();\n",title:{zh:"PathIn",en:"PathIn"},filename:"path-in.ts",isNew:!1},{id:"fade",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lW80R5AYDfEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 275 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .animate('enter', { type: 'fadeIn', duration: 1000 })\n  .animate('exit', { type: 'fadeOut', duration: 2000 });\n\nchart.render();\n",title:{zh:"FadeIn",en:"FadeIn"},filename:"fade.ts",isNew:!1},{id:"scale-x",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4j9URodi54MAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 275 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .animate('enter', { type: 'scaleInX', duration: 1000 })\n  .animate('exit', { type: 'scaleOutX', duration: 2000 });\n\nchart.render();\n",title:{zh:"ScaleInX",en:"ScaleInX"},filename:"scale-x.ts",isNew:!1},{id:"scale-y",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*u5QxT7pZD68AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 275 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .animate('enter', { type: 'scaleInY', duration: 1000 })\n  .animate('exit', { type: 'scaleOutY', duration: 2000 });\n\nchart.render();\n",title:{zh:"ScaleInY",en:"ScaleInY"},filename:"scale-y.ts",isNew:!1},{id:"wave-in",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xL5hQ5TCR4cAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'theta' });\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 275 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .transform({ type: 'stackY' })\n  .encode('color', 'genre')\n  .encode('y', 'sold')\n  .animate('enter', { type: 'waveIn', duration: 1000 });\n\nchart.render();\n",title:{zh:"WaveIn",en:"WaveIn"},filename:"wave-in.ts",isNew:!1},{id:"zoom-in",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*OE0wRJhaM3cAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  insetLeft: 30,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/bubble.json',\n  })\n  .encode('x', 'GDP')\n  .encode('y', 'LifeExpectancy')\n  .encode('color', 'continent')\n  .encode('size', 'Population')\n  .encode('shape', 'point')\n  .scale('size', { range: [4, 65] })\n  .scale('y', { domain: [65, 90] })\n  .style('fillOpacity', 0.3)\n  .style('lineWidth', 1)\n  .legend('size', false)\n  .animate('enter', { type: 'zoomIn', duration: 1000 });\n\nchart.render();\n",title:{zh:"ZoomIn",en:"ZoomIn"},filename:"zoom-in.ts",isNew:!1}],icon:"",id:"general",title:{en:"Transition",zh:"过渡动画"},api:null,childrenKey:"demos",order:1},{demos:[{id:"line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dxClRrq57JMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://canisjs.github.io/canis-editor/index.html?exmp=purchases_1\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data({\n  type: 'fetch',\n  value: 'https://assets.antv.antgroup.com/g2/doughnut-purchases.json',\n});\n\nchart\n  .line()\n  .encode('x', 'year')\n  .encode('y', 'count')\n  .encode('color', 'year')\n  .encode('shape', 'smooth')\n  .scale('y', { zero: true, nice: true })\n  .style('gradient', 'x')\n  .style('gradientColor', 'start')\n  .animate('enter', { type: 'pathIn', duration: 3000 })\n  .axis('y', { labelFormatter: '~s' });\n\nchart\n  .point()\n  .transform({ type: 'stackEnter' })\n  .encode('x', 'year')\n  .encode('y', 'count')\n  .encode('color', 'year')\n  .encode('shape', 'point')\n  .animate('enter', { duration: 300 });\n\nchart\n  .text()\n  .transform({ type: 'stackEnter' })\n  .encode('x', 'year')\n  .encode('y', 'count')\n  .encode('text', 'year')\n  .animate('enter', { duration: 300 })\n  .style('lineWidth', 5)\n  .style('stroke', '#fff')\n  .style('textAlign', 'center')\n  .style('dy', -8);\n\nchart.render();\n",title:{zh:"折线图动画",en:"Line with Animation"},filename:"line.ts",isNew:!1},{id:"interval",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*3xCLRLNfv7EAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst fruits = [\n  { type: 'Apple', year: '2001', value: 260 },\n  { type: 'Orange', year: '2001', value: 100 },\n  { type: 'Banana', year: '2001', value: 90 },\n  { type: 'Apple', year: '2002', value: 210 },\n  { type: 'Orange', year: '2002', value: 150 },\n  { type: 'Banana', year: '2002', value: 30 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .interval()\n  .data(fruits)\n  .transform({ type: 'stackEnter', groupBy: 'color' })\n  .transform({ type: 'dodgeX' })\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('color', 'type')\n  .encode('color', 'type')\n  .animate('enter', { duration: 500 });\n\nchart.render();\n",title:{zh:"柱形图动画",en:"Column with Animation"},filename:"interval.ts",isNew:!1},{id:"interval-polar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*dG5TQ6IDBN0AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://canisjs.github.io/canis-editor/index.html?exmp=nightingale_1\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/deaths.json',\n  })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'stackEnter', groupBy: ['color', 'x'], duration: 2000 })\n  .encode('x', 'Month')\n  .encode('y', 'Death')\n  .encode('color', 'Type')\n  .scale('y', {\n    type: 'sqrt',\n  })\n  .animate('enter', { type: 'waveIn' })\n  .axis('y', false);\n\nchart.render();\n",title:{zh:"玫瑰图动画",en:"Animation in Polar"},filename:"interval-polar.ts",isNew:!1},{id:"area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*sh4JSao3tVgAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://canisjs.github.io/canis-editor/index.html?exmp=os_1\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .area()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/os.json',\n  })\n  .encode('x', 'Year')\n  .encode('y', 'Share')\n  .encode('color', 'OperatingSystem')\n  .encode('shape', 'smooth')\n  .transform({ type: 'stackEnter', groupBy: 'color', duration: 5000 })\n  .transform({ type: 'stackY', orderBy: 'value' })\n  .animate('enter', { type: 'growInX' });\n\nchart.render();\n",title:{zh:"面积图动画",en:"Area with Animation"},filename:"area.ts",isNew:!1},{id:"point",screenshot:"https://gw.alipayobjects.com/zos/raptor/1668858139680/point-animation.gif",source:"/**\n * A recreation of this demo: https://canisjs.github.io/canis-editor/index.html?exmp=polio_1\n */\nimport { Chart } from '@antv/g2';\nimport { interpolateHcl } from 'd3-interpolate';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.style('plotFill', '#000');\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/polio.json',\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('color', 'Polio Cases')\n  .encode('shape', 'point')\n  .transform({\n    type: 'stackEnter',\n    groupBy: ['x', 'y'],\n    orderBy: 'color',\n    duration: 2000,\n  })\n  .legend('color', false)\n  .scale('y', { range: [0, 1] })\n  .scale('color', {\n    type: 'sqrt',\n    range: ['hsl(152,80%,80%)', 'hsl(228,30%,40%)'],\n    interpolate: interpolateHcl,\n  })\n  .attr('padding', 0)\n  .axis(false);\n\nchart\n  .text()\n  .style('text', 'Polio incidence rates')\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('textAlign', 'center')\n  .style('fontSize', 24)\n  .style('fill', '#666')\n  .animate('enter', { delay: 2000 });\n\nchart\n  .text()\n  .style('text', 'United States, 1950s')\n  .style('x', '50%')\n  .style('y', '50%')\n  .style('textAlign', 'center')\n  .style('fontSize', 18)\n  .style('fill', '#666')\n  .style('dy', '30')\n  .animate('enter', { delay: 2400 });\n\nchart.render();\n",title:{zh:"点图动画",en:" Point with Animation"},filename:"point.ts",isNew:!1}],icon:"",id:"group",title:{en:"Group",zh:"分组动画"},api:null,childrenKey:"demos",order:2},{demos:[{id:"lottie",screenshot:"https://gw.alipayobjects.com/zos/raptor/1668077308397/Nov-10-2022%25252018-48-07.gif",source:"import { Chart } from '@antv/g2';\nimport { loadAnimation } from '@antv/g-lottie-player';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 275 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .animate('enter', { type: 'fadeIn', duration: 1000 })\n  .animate('exit', { type: 'fadeOut', duration: 2000 });\n\nchart.render();\n\n(async () => {\n  const { canvas } = chart.getContext();\n  await canvas.ready;\n\n  const lottieJSON = await fetch(\n    'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/file/A*C9f6TaadHikAAAAAAAAAAAAADmJ7AQ',\n  ).then((res) => res.json());\n  const animation = loadAnimation(lottieJSON, { loop: true, autoplay: true });\n  const wrapper = animation.render(canvas);\n  wrapper.scale(0.5);\n  wrapper.translate(160, 100);\n})();\n",title:{zh:"Lottie",en:"Lottie"},filename:"lottie.ts",isNew:!1}],icon:"",id:"lottie",title:{en:"Lottie",zh:"Lottie 动画"},api:null,childrenKey:"demos",order:3}],childrenKey:"examples"},{id:"interaction",title:{zh:"交互",en:"Interaction"},icon:"other",examples:[{demos:[{id:"highlight",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*h3zzSqWMrDkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .transform([{ type: 'sortX', by: 'y', reverse: true, slice: 5 }])\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' })\n  .interaction('elementHighlight', { background: true });\n\nchart.render();\n",title:{zh:"高亮",en:"Highlight"},filename:"highlight.ts",isNew:!1},{id:"select",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*gwt_SpgIGsMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/fb9db6b7-23a5-4c23-bbef-c54a55fee580.csv',\n  })\n  .transform([{ type: 'sortX', by: 'y', reverse: true, slice: 5 }])\n  .encode('x', 'letter')\n  .encode('y', 'frequency')\n  .axis('y', { labelFormatter: '.0%' })\n  .state({\n    selected: { fill: '#f4bb51' },\n    unselected: { opacity: 0.6 },\n  })\n  .interaction('elementSelect', true);\n\nchart.render();\n",title:{zh:"选择",en:"Select"},filename:"select.ts",isNew:!1},{id:"slider",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*nNa7R6quqkwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close')\n  .slider('y', true)\n  .slider('x', true);\n\nchart.render();\n",title:{zh:"滑动",en:"Slider"},filename:"slider.ts",isNew:!1}],icon:"",id:"element",title:{en:"Element",zh:"元素"},api:null,childrenKey:"demos",order:1},{demos:[{id:"auto-tooltip",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*2lIIQqbP7e8AAAAAAAAAAAAAemJ7AQ/fmt.webp",source:"import { Chart, ChartEvent } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart\n  .interval()\n  .data([\n    { genre: 'Sports', sold: 0 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ])\n  .encode('x', 'genre')\n  .encode('y', 'sold')\n  .encode('color', 'genre')\n  .style('minHeight', 50);\n\nchart.on(ChartEvent.AFTER_RENDER, () =>\n  chart.emit('tooltip:show', {\n    data: {\n      data: {\n        genre: 'Action',\n        sold: 120,\n      },\n    },\n    offsetY: 100,\n  }),\n);\n\nchart.render();\n",title:{zh:"自动提示",en:"Auto Tooltip"},filename:"auto-tooltip.ts",isNew:!1},{id:"reset-brush-filter",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*RQbHQJAV0VMAAAAAAAAAAAAAemJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/basement_prod/6b4aa721-b039-49b9-99d8-540b3f87d339.json',\n  })\n  .encode('x', 'height')\n  .encode('y', 'weight')\n  .encode('color', 'gender')\n  .scale({\n    x: {\n      domain: [140, 200],\n    },\n    y: {\n      domain: [0, 150],\n    },\n  })\n  .interaction('brushFilter', true);\n\nchart.render();\n\n// 刷选之后重置选区\nconst createButton = () => {\n  const container = document.querySelector('#container');\n  const button = document.createElement('button');\n  button.innerText = 'reset';\n  button.onclick = () => {\n    chart.emit('brush:filter', {\n      data: {\n        selection: [\n          [140, 200],\n          [0, 150],\n        ],\n      },\n    });\n  };\n  container.insertBefore(button, container.firstChild);\n};\n\ncreateButton();\n",title:{zh:"重置刷选",en:"Reset Brush Filter"},filename:"reset-brush-filter.ts",isNew:!1},{id:"legend-click",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AwSoR7y4FyUAAAAAAAAAAAAAemJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: '事例一', count: 40, percent: 0.4 },\n  { item: '事例二', count: 21, percent: 0.21 },\n  { item: '事例三', count: 17, percent: 0.17 },\n  { item: '事例四', count: 13, percent: 0.13 },\n  { item: '事例五', count: 9, percent: 0.09 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'theta', outerRadius: 0.8 });\n\nchart\n  .interval()\n  .data(data)\n  .transform({ type: 'stackY' })\n  .encode('y', 'percent')\n  .encode('color', 'item')\n  .label({\n    position: 'outside',\n    text: (data) => `${data.item}: ${data.percent * 100}%`,\n  })\n  .tooltip((data) => ({\n    name: data.item,\n    value: `${data.percent * 100}%`,\n  }));\n\nchart.on('afterrender', () => {\n  const { canvas } = chart.getContext();\n  const { document } = canvas;\n  // https://github.com/antvis/G2/blob/v5/src/interaction/legendFilter.ts\n  const items = document.getElementsByClassName('items-item');\n  const datum = items.map((item) => item.__data__);\n  items.forEach((item, index) => {\n    item.addEventListener('click', (ev) => {\n      console.log(datum[index]);\n    });\n  });\n  // 简单点击事件\n  // document\n  //   .getElementsByClassName('legend-category')[0]\n  //   .addEventListener('click', (ev) => {\n  //     console.log('click legend');\n  //   });\n});\n\nchart.render();\n",title:{zh:"图例点击",en:"Legend Click"},filename:"legend-click.ts",isNew:!1},{id:"get-data-by-xy",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*UddvSJxHTBsAAAAAAAAAAAAAemJ7AQ/fmt.avif",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { month: 'Jan', city: 'Tokyo', temperature: 7 },\n  { month: 'Jan', city: 'London', temperature: 3.9 },\n  { month: 'Feb', city: 'Tokyo', temperature: 6.9 },\n  { month: 'Feb', city: 'London', temperature: 4.2 },\n  { month: 'Mar', city: 'Tokyo', temperature: 9.5 },\n  { month: 'Mar', city: 'London', temperature: 5.7 },\n  { month: 'Apr', city: 'Tokyo', temperature: 14.5 },\n  { month: 'Apr', city: 'London', temperature: 8.5 },\n  { month: 'May', city: 'Tokyo', temperature: 18.4 },\n  { month: 'May', city: 'London', temperature: 11.9 },\n  { month: 'Jun', city: 'Tokyo', temperature: 21.5 },\n  { month: 'Jun', city: 'London', temperature: 15.2 },\n  { month: 'Jul', city: 'Tokyo', temperature: 25.2 },\n  { month: 'Jul', city: 'London', temperature: 17 },\n  { month: 'Aug', city: 'Tokyo', temperature: 26.5 },\n  { month: 'Aug', city: 'London', temperature: 16.6 },\n  { month: 'Sep', city: 'Tokyo', temperature: 23.3 },\n  { month: 'Sep', city: 'London', temperature: 14.2 },\n  { month: 'Oct', city: 'Tokyo', temperature: 18.3 },\n  { month: 'Oct', city: 'London', temperature: 10.3 },\n  { month: 'Nov', city: 'Tokyo', temperature: 13.9 },\n  { month: 'Nov', city: 'London', temperature: 6.6 },\n  { month: 'Dec', city: 'Tokyo', temperature: 9.6 },\n  { month: 'Dec', city: 'London', temperature: 4.8 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data(data)\n  .encode('x', 'month')\n  .encode('y', 'temperature')\n  .encode('color', 'city')\n  .scale('x', {\n    range: [0, 1],\n  })\n  .scale('y', {\n    nice: true,\n  })\n  .axis('y', { labelFormatter: (d) => d + '°C' });\n\nchart.line().encode('shape', 'smooth');\n\nchart.point().encode('shape', 'point').tooltip(false);\n\nconst initContainer = () => {\n  const container = document.getElementById('container');\n  container.style.position = 'relative';\n  const p = document.createElement('p');\n  p.id = 'point-data';\n  p.style.position = 'absolute';\n  p.style.left = `10px`;\n  p.style.top = `10px`;\n  p.style.padding = '12px';\n  p.style.borderRadius = '4px';\n  p.style.backgroundColor = '#eee';\n  container.insertBefore(p, container.firstChild);\n  return p;\n};\n\nchart.on('plot:pointermove', (evt) => {\n  const { x, y } = evt;\n  const p = document.getElementById('point-data') || initContainer();\n  const pointData = chart.getDataByXY({ x, y }, { shared: true });\n  p.innerText = `X: ${x}, Y: ${y}\\n\\nEventData: ${JSON.stringify(pointData)}`;\n});\n\nchart.render();\n",title:{zh:"通过点获取数据",en:"Get Data By XY"},filename:"get-data-by-xy.ts",isNew:!1}],icon:"",id:"event",title:{en:"Events",zh:"事件"},api:null,childrenKey:"demos",order:1},{demos:[{id:"legend",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*bxrsS55V3Y4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data([\n    { month: 'Jan.', profit: 387264, start: 0, end: 387264 },\n    { month: 'Feb.', profit: 772096, start: 387264, end: 1159360 },\n    { month: 'Mar.', profit: 638075, start: 1159360, end: 1797435 },\n    { month: 'Apr.', profit: -211386, start: 1797435, end: 1586049 },\n    { month: 'May', profit: -138135, start: 1586049, end: 1447914 },\n    { month: 'Jun', profit: -267238, start: 1447914, end: 1180676 },\n    { month: 'Jul.', profit: 431406, start: 1180676, end: 1612082 },\n    { month: 'Aug.', profit: 363018, start: 1612082, end: 1975100 },\n    { month: 'Sep.', profit: -224638, start: 1975100, end: 1750462 },\n    { month: 'Oct.', profit: -299867, start: 1750462, end: 1450595 },\n    { month: 'Nov.', profit: 607365, start: 1450595, end: 2057960 },\n    { month: 'Dec.', profit: 1106986, start: 2057960, end: 3164946 },\n    { month: 'Total', start: 0, end: 3164946 },\n  ])\n  .encode('x', 'month')\n  .encode('y', ['end', 'start'])\n  .encode('color', (d) =>\n    d.month === 'Total' ? 'Total' : d.profit > 0 ? 'Increase' : 'Decrease',\n  )\n  .axis('y', { labelFormatter: '~s' })\n  .interaction('legendFilter', true);\n\nchart.render();\n",title:{zh:"图例",en:"Legend"},filename:"legend.ts",isNew:!1}],icon:"",id:"component",title:{en:"Component",zh:"组件"},api:null,childrenKey:"demos",order:2},{demos:[{id:"brush",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ESblSJqW3zYAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart, MASK_CLASS_NAME } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst [render, remove] = useTip({\n  container: document.getElementById('container'),\n  onRemove: () => chart.emit('brush:remove', {}),\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/scatter.json',\n  })\n  .encode('x', 'weight')\n  .encode('y', 'height')\n  .encode('color', 'gender')\n  .encode('shape', 'point')\n  .style({\n    fillOpacity: 0.2,\n    lineWidth: 1,\n    transform: 'scale(1, 1)',\n    transformOrigin: 'center center',\n  })\n  .state('inactive', {\n    fill: 'black',\n    fillOpacity: 0.5,\n    transform: 'scale(0.5, 0.5)',\n  })\n  .interaction('brushHighlight', true);\n\nchart.on('brush:start', onStart);\nchart.on('brush:end', onUpdate);\nchart.on('brush:remove', onRemove);\n\nchart.render();\n\nfunction onStart() {\n  chart.emit('tooltip:disable');\n  remove();\n}\n\nasync function onUpdate(e) {\n  const data = await fetch(\n    'https://gw.alipayobjects.com/os/antvdemo/assets/data/scatter.json',\n  ).then((res) => res.json());\n\n  const { canvas } = chart.getContext();\n  const [mask] = canvas.document.getElementsByClassName(MASK_CLASS_NAME);\n  const bounds = mask.getBounds();\n  const x = bounds.max[0];\n  const y = bounds.center[1];\n  const [X, Y] = e.data.selection;\n\n  const filtered = data.filter(({ weight, height }) => {\n    return weight >= X[0] && weight <= X[1] && height >= Y[0] && height <= Y[1];\n  });\n\n  render(filtered, [x, y]);\n}\n\nfunction onRemove(e) {\n  const { nativeEvent } = e;\n  if (nativeEvent) remove();\n  chart.emit('tooltip:enable');\n}\n\nfunction useTip({ container, onRemove = () => {}, offsetX = 20, offsetY = 0 }) {\n  let div;\n\n  const render = (data, [x, y]) => {\n    if (div) remove();\n    div = document.createElement('div');\n    div.innerHTML = `\n    Select a node:\n    <ul>${data.map((d) => `<li>x:${d.weight},y:${d.height}</li>`).join('')}</ul>\n    `;\n    div.style.position = 'absolute';\n    div.style.background = '#eee';\n    div.style.padding = '0.5em';\n    div.style.left = x + offsetX + 'px';\n    div.style.top = y + offsetY + 'px';\n    div.onclick = () => {\n      remove();\n      onRemove();\n    };\n    container.append(div);\n  };\n\n  const remove = () => {\n    if (div) div.remove();\n    div = null;\n  };\n\n  return [render, remove];\n}\n",title:{zh:"刷选",en:"Brush"},filename:"brush.ts",isNew:!1},{id:"reset-brush",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ZGksSralKAcAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart, ChartEvent } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  clip: true,\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/scatter.json',\n  })\n  .encode('x', 'weight')\n  .encode('y', 'height')\n  .encode('color', 'gender')\n  .encode('shape', 'point')\n  .style({\n    fillOpacity: 0.2,\n    lineWidth: 1,\n  })\n  .interaction('brushFilter', true);\n\nconst brushHistory = [];\n\n// 监听刷选事件\nchart.on('brush:filter', (e) => {\n  if (e.target) brushHistory.push(e.data.selection);\n});\n\nconst reset = () => {\n  if (brushHistory.length < 2) return;\n  brushHistory.pop();\n  // 主动触发刷选事件\n  chart.emit('brush:filter', {\n    data: {\n      selection: brushHistory[brushHistory.length - 1],\n    },\n  });\n};\n\nconst createResetButton = () => {\n  const button = document.createElement('button');\n  button.innerText = 'reset';\n  button.onclick = reset;\n  const container = document.getElementById('container');\n  container.children[0].before(button);\n};\n\nchart.on(ChartEvent.AFTER_RENDER, () => {\n  const scale = chart.getScale();\n  const { x1, y1 } = scale;\n  const domainX = x1.options.domain;\n  const domainY = y1.options.domain;\n  brushHistory.push([domainX, domainY]);\n});\n\nchart.render();\n\ncreateResetButton();\n",title:{zh:"重置刷选",en:"Reset Brush"},filename:"reset-brush.ts",isNew:!1},{id:"brush-emit",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kWbhQKMQp9wAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart, MASK_CLASS_NAME } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst [render, remove] = useTip({\n  container: document.getElementById('container'),\n  onRemove: () => chart.emit('brush:remove', {}),\n});\n\nconst data = [\n  { date: '2007-04-23', close: 93.24 },\n  { date: '2007-04-24', close: 95.35 },\n  { date: '2007-04-25', close: 98.84 },\n  { date: '2007-04-26', close: 99.92 },\n  { date: '2007-04-29', close: 99.8 },\n  { date: '2007-05-01', close: 99.47 },\n  { date: '2007-05-02', close: 100.39 },\n  { date: '2007-05-03', close: 100.4 },\n  { date: '2007-05-04', close: 100.81 },\n  { date: '2007-05-07', close: 103.92 },\n];\n\nchart\n  .line()\n  .data(data)\n  .encode('x', (d) => new Date(d.date))\n  .encode('y', 'close')\n  .scale('y', { nice: true })\n  .interaction('brushXHighlight', true);\n\nchart.on('brush:start', onStart);\nchart.on('brush:end', onUpdate);\nchart.on('brush:remove', onRemove);\n\nchart.render();\n\nfunction onStart() {\n  chart.emit('tooltip:disable');\n  remove();\n}\n\nfunction onUpdate(e) {\n  const { canvas } = chart.getContext();\n  const [mask] = canvas.document.getElementsByClassName(MASK_CLASS_NAME);\n  const bounds = mask.getBounds();\n  const x = bounds.max[0];\n  const y = bounds.center[1];\n  const [X] = e.data.selection;\n  const filtered = data.filter(\n    ({ date }) => new Date(date) >= X[0] && new Date(date) <= X[1],\n  );\n  render(filtered, [x, y]);\n}\n\nfunction onRemove(e) {\n  const { nativeEvent } = e;\n  if (nativeEvent) remove();\n  chart.emit('tooltip:enable');\n}\n\nfunction useTip({ container, onRemove = () => {}, offsetX = 20, offsetY = 0 }) {\n  let div;\n\n  const render = (data, [x, y]) => {\n    if (div) remove();\n    div = document.createElement('div');\n    div.innerHTML = `\n    Select a node:\n    <ul>${data.map((d) => `<li>${d.date}</li>`).join('')}</ul>\n    `;\n    div.style.position = 'absolute';\n    div.style.background = '#eee';\n    div.style.padding = '0.5em';\n    div.style.left = x + offsetX + 'px';\n    div.style.top = y + offsetY + 'px';\n    div.onclick = () => {\n      remove();\n      onRemove();\n    };\n    container.append(div);\n  };\n\n  const remove = () => {\n    if (div) div.remove();\n    div = null;\n  };\n\n  return [render, remove];\n}\n",title:{zh:"刷选事件",en:"Brush"},filename:"brush-emit.ts",isNew:!1}],icon:"",id:"brush",title:{en:"Brush",zh:"刷选"},api:null,childrenKey:"demos",order:3},{demos:[{id:"line-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*XO4yQqSSeSoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .line()\n  .data([\n    { year: '1991', value: 3, type: 'type1' },\n    { year: '1992', value: 4, type: 'type1' },\n    { year: '1993', value: 3.5, type: 'type1' },\n    { year: '1994', value: 5, type: 'type1' },\n    { year: '1995', value: 4.9, type: 'type1' },\n    { year: '1996', value: 2, type: 'type1' },\n    { year: '1997', value: 7, type: 'type1' },\n    { year: '1998', value: 11, type: 'type1' },\n    { year: '1999', value: 13, type: 'type1' },\n    { year: '1991', value: 6, type: 'type2' },\n    { year: '1992', value: 1, type: 'type2' },\n    { year: '1993', value: 4, type: 'type2' },\n    { year: '1994', value: 9, type: 'type2' },\n    { year: '1995', value: 1.9, type: 'type2' },\n    { year: '1996', value: 5, type: 'type2' },\n    { year: '1997', value: 4, type: 'type2' },\n    { year: '1998', value: 6, type: 'type2' },\n    { year: '1999', value: 15, type: 'type2' },\n  ])\n  .interaction({\n    legendFilter: false,\n    elementPointMove: {\n      pointR: 8,\n      pointStrokeWidth: 2,\n      pointActiveStroke: '#fff',\n      pathLineDash: [2, 4],\n      pathStroke: 'red',\n      labelFontSize: 14,\n      labelY: 24,\n    },\n  })\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('key', 'type')\n  .encode('color', 'type');\n\nchart.render().then(() => {\n  chart.on('element-point:select', (v) => {\n    const {\n      data: { selection },\n    } = v;\n    console.log(selection, 'selection');\n  });\n\n  chart.on('element-point:moved', (v) => {\n    const {\n      data: { changeData, data },\n    } = v;\n    console.log(changeData, 'changeData');\n    console.log(data, 'data');\n  });\n});\n\nchart.on('afterrender', () => {\n  chart.emit('element-point:select', {\n    data: {\n      selection: [1, 2],\n    },\n  });\n  // Clear select.\n  // chart.emit('element-point:unselect');\n});\n",title:{zh:"折线图-数形交互",en:"Line Numerical Interaction"},filename:"line-element-point-move.ts",isNew:!1},{id:"area-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FTm7T5CfHsUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .area()\n  .data([\n    { year: '1991', value: 3, type: 'type1' },\n    { year: '1992', value: 4, type: 'type1' },\n    { year: '1993', value: 3.5, type: 'type1' },\n    { year: '1994', value: 5, type: 'type1' },\n    { year: '1995', value: 4.9, type: 'type1' },\n    { year: '1996', value: 2, type: 'type1' },\n    { year: '1997', value: 7, type: 'type1' },\n    { year: '1998', value: 11, type: 'type1' },\n    { year: '1999', value: 13, type: 'type1' },\n    { year: '1991', value: 6, type: 'type2' },\n    { year: '1992', value: 1, type: 'type2' },\n    { year: '1993', value: 4, type: 'type2' },\n    { year: '1994', value: 9, type: 'type2' },\n    { year: '1995', value: 1.9, type: 'type2' },\n    { year: '1996', value: 5, type: 'type2' },\n    { year: '1997', value: 4, type: 'type2' },\n    { year: '1998', value: 6, type: 'type2' },\n    { year: '1999', value: 15, type: 'type2' },\n  ])\n  .interaction({\n    legendFilter: false,\n    elementPointMove: {\n      selection: [1, 4],\n    },\n  })\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('key', 'type')\n  .encode('color', 'type');\n\nchart.render();\n",title:{zh:"面积图-数形交互",en:"Area Numerical Interaction"},filename:"area-element-point-move.ts",isNew:!1},{id:"area-normalizeY-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xWt3R5fzwH4AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .area()\n  .data([\n    { year: '1991', value: 3, type: 'type1' },\n    { year: '1992', value: 4, type: 'type1' },\n    { year: '1993', value: 3.5, type: 'type1' },\n    { year: '1994', value: 5, type: 'type1' },\n    { year: '1995', value: 4.9, type: 'type1' },\n    { year: '1996', value: 2, type: 'type1' },\n    { year: '1997', value: 7, type: 'type1' },\n    { year: '1998', value: 11, type: 'type1' },\n    { year: '1999', value: 13, type: 'type1' },\n    { year: '1991', value: 6, type: 'type2' },\n    { year: '1992', value: 1, type: 'type2' },\n    { year: '1993', value: 4, type: 'type2' },\n    { year: '1994', value: 9, type: 'type2' },\n    { year: '1995', value: 1.9, type: 'type2' },\n    { year: '1996', value: 5, type: 'type2' },\n    { year: '1997', value: 4, type: 'type2' },\n    { year: '1998', value: 6, type: 'type2' },\n    { year: '1999', value: 15, type: 'type2' },\n    { year: '1991', value: 6, type: 'type3' },\n    { year: '1992', value: 1, type: 'type3' },\n    { year: '1993', value: 4, type: 'type3' },\n    { year: '1994', value: 9, type: 'type3' },\n    { year: '1995', value: 1.9, type: 'type3' },\n    { year: '1996', value: 5, type: 'type3' },\n    { year: '1997', value: 4, type: 'type3' },\n    { year: '1998', value: 6, type: 'type3' },\n    { year: '1999', value: 15, type: 'type3' },\n  ])\n  .interaction({\n    legendFilter: false,\n    elementPointMove: true,\n  })\n  .transform({ type: 'stackY' })\n  .transform({ type: 'normalizeY' })\n  .encode('x', 'year')\n  .encode('y', 'value')\n  .encode('key', 'type')\n  .encode('color', 'type');\n\nchart.render();\n",title:{zh:"面积图-百分比堆叠-数形交互",en:"Area NormalizeY Numerical Interaction"},filename:"area-normalizeY-element-point-move.ts",isNew:!1},{id:"column-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*fZn9TYPR2mcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n  { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n  { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n  { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n  { name: 'London', 月份: 'May', 月均降雨量: 47 },\n  { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n  { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n  { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n  { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n  { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n  { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n  { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n  { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n  { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n  { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n  { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', '月份')\n  .encode('y', '月均降雨量')\n  .encode('color', 'name')\n  .encode('key', (d) => d['name'] + d['月份'])\n  .interaction({\n    legendFilter: false,\n    elementPointMove: {\n      precision: 3,\n      selection: [5],\n    },\n  })\n  .transform({ type: 'stackY' });\n\nchart.render();\n",title:{zh:"柱形图-数形交互",en:"Column Numerical Interaction"},filename:"column-element-point-move.ts",isNew:!1},{id:"column-normalizeY-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*G5a8T7lP0ZEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n  { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n  { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n  { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n  { name: 'London', 月份: 'May', 月均降雨量: 47 },\n  { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n  { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n  { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n  { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n  { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n  { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n  { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n  { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n  { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n  { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n  { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .transform({ type: 'stackY' })\n  .transform({ type: 'normalizeY' })\n  .transform({ type: 'sortX', by: 'y', reverse: true })\n  .encode('x', '月份')\n  .encode('y', '月均降雨量')\n  .encode('color', 'name')\n  .encode('key', (d) => d['name'] + d['月份'])\n  .interaction({\n    legendFilter: false,\n    elementPointMove: {\n      precision: 3,\n    },\n  });\n\nchart.render();\n",title:{zh:"柱形图-百分比堆叠-数形交互",en:"Column NormalizeY Numerical Interaction"},filename:"column-normalizeY-element-point-move.ts",isNew:!1},{id:"bar-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*WQnwTJ-gJq0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n  { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n  { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n  { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n  { name: 'London', 月份: 'May', 月均降雨量: 47 },\n  { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n  { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n  { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n  { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n  { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n  { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n  { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n  { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n  { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n  { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n  { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .encode('x', '月份')\n  .encode('y', '月均降雨量')\n  .encode('color', 'name')\n  .encode('key', (d) => d['name'] + d['月份'])\n  .interaction({\n    legendFilter: false,\n    elementPointMove: {\n      precision: 3,\n    },\n  })\n  .transform({ type: 'stackY' })\n  .coordinate({ transform: [{ type: 'transpose' }] });\n\nchart.render();\n",title:{zh:"条形图-数形交互",en:"Bar Numerical Interaction"},filename:"bar-element-point-move.ts",isNew:!1},{id:"bar-normalizeY-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SDtmQrDx7cAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { name: 'London', 月份: 'Jan.', 月均降雨量: 18.9 },\n  { name: 'London', 月份: 'Feb.', 月均降雨量: 28.8 },\n  { name: 'London', 月份: 'Mar.', 月均降雨量: 39.3 },\n  { name: 'London', 月份: 'Apr.', 月均降雨量: 81.4 },\n  { name: 'London', 月份: 'May', 月均降雨量: 47 },\n  { name: 'London', 月份: 'Jun.', 月均降雨量: 20.3 },\n  { name: 'London', 月份: 'Jul.', 月均降雨量: 24 },\n  { name: 'London', 月份: 'Aug.', 月均降雨量: 35.6 },\n  { name: 'Berlin', 月份: 'Jan.', 月均降雨量: 12.4 },\n  { name: 'Berlin', 月份: 'Feb.', 月均降雨量: 23.2 },\n  { name: 'Berlin', 月份: 'Mar.', 月均降雨量: 34.5 },\n  { name: 'Berlin', 月份: 'Apr.', 月均降雨量: 99.7 },\n  { name: 'Berlin', 月份: 'May', 月均降雨量: 52.6 },\n  { name: 'Berlin', 月份: 'Jun.', 月均降雨量: 35.5 },\n  { name: 'Berlin', 月份: 'Jul.', 月均降雨量: 37.4 },\n  { name: 'Berlin', 月份: 'Aug.', 月均降雨量: 42.4 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .interval()\n  .data(data)\n  .transform({ type: 'stackY' })\n  .transform({ type: 'normalizeY' })\n  .transform({ type: 'sortX', by: 'y', reverse: true })\n  .encode('x', '月份')\n  .encode('y', '月均降雨量')\n  .encode('color', 'name')\n  .encode('key', (d) => d['name'] + d['月份'])\n  .interaction({\n    legendFilter: false,\n    elementPointMove: {\n      precision: 3,\n    },\n  })\n  .coordinate({ transform: [{ type: 'transpose' }] });\n\nchart.render();\n",title:{zh:"条形图-百分比堆叠-数形交互",en:"Bar NormalizeY Numerical Interaction"},filename:"bar-normalizeY-element-point-move.ts",isNew:!1},{id:"line-element-point-move-polar",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ifgPT565BPkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: 'Design', type: 'a', score: 70 },\n  { item: 'Design', type: 'b', score: 30 },\n  { item: 'Development', type: 'a', score: 60 },\n  { item: 'Development', type: 'b', score: 70 },\n  { item: 'Marketing', type: 'a', score: 50 },\n  { item: 'Marketing', type: 'b', score: 60 },\n  { item: 'Users', type: 'a', score: 40 },\n  { item: 'Users', type: 'b', score: 50 },\n  { item: 'Test', type: 'a', score: 60 },\n  { item: 'Test', type: 'b', score: 70 },\n  { item: 'Language', type: 'a', score: 70 },\n  { item: 'Language', type: 'b', score: 50 },\n  { item: 'Technology', type: 'a', score: 50 },\n  { item: 'Technology', type: 'b', score: 40 },\n  { item: 'Support', type: 'a', score: 30 },\n  { item: 'Support', type: 'b', score: 40 },\n  { item: 'Sales', type: 'a', score: 60 },\n  { item: 'Sales', type: 'b', score: 40 },\n  { item: 'UX', type: 'a', score: 50 },\n  { item: 'UX', type: 'b', score: 60 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'polar' });\n\nchart\n  .data(data)\n  .scale('x', { padding: 0.5, align: 0 })\n  .scale('y', { tickCount: 5, domainMax: 80 })\n  .interaction({\n    legendFilter: false,\n    elementPointMove: true,\n  })\n  .axis('x', {\n    grid: true,\n    gridStrokeWidth: 1,\n    tick: false,\n    gridLineDash: [0, 0],\n  })\n  .axis('y', {\n    zIndex: 1,\n    title: false,\n    gridConnect: 'line',\n    gridStrokeWidth: 1,\n    gridLineDash: [0, 0],\n  });\n\nchart\n  .area()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .encode('key', 'type')\n  .style('fillOpacity', 0.5);\n\nchart\n  .line()\n  .encode('x', 'item')\n  .encode('y', 'score')\n  .encode('color', 'type')\n  .encode('key', 'type')\n  .style('lineWidth', 2);\n\nchart.interaction('tooltip', { crosshairsLineDash: [4, 4] });\n\nchart.render();\n",title:{zh:"雷达图-数形交互",en:"Radar Numerical Interaction"},filename:"line-element-point-move-polar.ts",isNew:!1},{id:"pie-element-point-move",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Hm0PR5262sgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [\n  { item: '事例一', count: 40, percent: 0.4 },\n  { item: '事例二', count: 21, percent: 0.21 },\n  { item: '事例三', count: 17, percent: 0.17 },\n  { item: '事例四', count: 13, percent: 0.13 },\n  { item: '事例五', count: 9, percent: 0.09 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'theta', outerRadius: 0.8 });\n\nchart\n  .interval()\n  .data(data)\n  .transform({ type: 'stackY' })\n  .interaction({\n    legendFilter: false,\n    elementPointMove: {\n      pathLineDash: [2, 4],\n      pathStroke: '#fff',\n      pathLineWidth: 2,\n    },\n  })\n  .encode('y', 'count')\n  .encode('color', 'item')\n  .encode('key', 'item')\n  .tooltip((data) => ({\n    name: data.item,\n    value: `${data.percent * 100}%`,\n  }));\n\nchart.render();\n",title:{zh:"饼图-数形交互",en:"Pie Numerical Interaction"},filename:"pie-element-point-move.ts",isNew:!1}],icon:"",id:"data",title:{en:"Numerical Interaction",zh:"数形交互"},api:null,childrenKey:"demos",order:4},{demos:[{id:"chart-index",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*LaVjRbRk8EcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .line()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/indices.json',\n  })\n  .encode('x', (d) => new Date(d.Date))\n  .encode('y', 'Close')\n  .encode('color', 'Symbol')\n  .encode('key', 'Symbol')\n  .encode('title', (d) => d.Date.toLocaleString())\n  .axis('y', { title: '↑ Change in price (%)', labelAutoRotate: false })\n  .scale('y', { type: 'log' })\n  .label({\n    text: 'Symbol',\n    selector: 'last',\n    fontSize: 10,\n  });\n\nchart\n  .interaction('chartIndex', {\n    ruleStroke: '#aaa',\n    labelDx: 5,\n    labelTextAlign: 'center',\n    labelStroke: '#fff',\n    labelLineWidth: 5,\n    labelFormatter: (d) => `${d.toLocaleDateString()}`,\n  })\n  .interaction('tooltip', false);\n\nchart.render();\n",title:{zh:"索引图",en:"Chart Index"},filename:"chart-index.ts",isNew:!1},{id:"fisheye",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FwusQ6ohkqkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://gw.alipayobjects.com/os/antvdemo/assets/data/bubble.json',\n  })\n  .encode('x', 'GDP')\n  .encode('y', 'LifeExpectancy')\n  .encode('size', 'Population')\n  .encode('color', 'continent')\n  .encode('shape', 'point')\n  .legend('size', false)\n  .scale('size', { type: 'log', range: [4, 20] })\n  .style('fillOpacity', 0.3)\n  .style('lineWidth', 1);\n\nchart.interaction('fisheye');\n\nchart.render();\n",title:{zh:"鱼眼",en:"Fisheye"},filename:"fisheye.ts",isNew:!1}],icon:"",id:"other",title:{en:"Other",zh:"其他"},api:null,childrenKey:"demos",order:4},{demos:[{id:"focus-context",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*IwNsRKKyMlgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\ndocument.getElementById('container').innerHTML = `\n<div id=\"focus\" ></div>\n<div id=\"context\"></div>\n`;\n\n// Render focus View.\nconst focus = new Chart({\n  container: 'focus',\n  height: 360,\n  paddingLeft: 60,\n});\n\nfocus\n  .area()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close')\n  .animate(false)\n  .axis('x', { grid: false, title: false, tickCount: 5 })\n  .axis('y', { grid: false, tickCount: 5 })\n  .interaction('tooltip', false)\n  .interaction('brushXFilter', true);\n\nfocus.render();\n\n// Render context View.\nconst context = new Chart({\n  container: 'context',\n  paddingTop: 0,\n  paddingBottom: 0,\n  height: 90,\n  paddingLeft: 60,\n});\n\ncontext\n  .area()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close')\n  .animate(false)\n  .axis(false)\n  .interaction('tooltip', false)\n  .interaction('brushXHighlight', {\n    series: true,\n    maskOpacity: 0.3,\n    maskFill: '#777',\n    maskHandleWRender: createPathRender((x, y, width, height) => ({\n      d: 'M-0.5,31.5c-2.5,0,-4.5,2,-4.5,4.5v30c0,2.5,2,4.5,4.5,4.5V31.5z',\n      transform: `translate(${x + width / 2}, ${y - height / 2})`,\n    })),\n    maskHandleERender: createPathRender((x, y, width, height) => ({\n      d: 'M0.5,31.5c2.5,0,4.5,2,4.5,4.5v30c0,2.5,-2,4.5,-4.5,4.5V31.5z',\n      transform: `translate(${x + width / 2}, ${y - height / 2})`,\n    })),\n    maskHandleEFill: '#D3D8E0',\n    maskHandleWFill: '#D3D8E0',\n  });\n\ncontext.render();\n\nfunction createPathRender(compute) {\n  return (group, options, document) => {\n    if (!group.handle) {\n      const path = document.createElement('path');\n      group.handle = path;\n      group.appendChild(group.handle);\n    }\n    const { handle } = group;\n    const { x, y, width, height, ...rest } = options;\n    if (width === undefined || height === undefined) return handle;\n    handle.attr({ ...compute(x, y, width, height), ...rest });\n    return handle;\n  };\n}\n\n// Add event listeners  to communicate.\nfocus.on('brush:filter', (e) => {\n  const { nativeEvent } = e;\n  if (!nativeEvent) return;\n  const { selection } = e.data;\n  const { x: scaleX } = focus.getScale();\n  const [[x1, x2]] = selection;\n  const domainX = scaleX.getOptions().domain;\n  if (x1 === domainX[0] && x2 === domainX[1]) {\n    context.emit('brush:remove', {});\n  } else {\n    context.emit('brush:highlight', { data: { selection } });\n  }\n});\n\ncontext.on('brush:highlight', (e) => {\n  const { nativeEvent, data } = e;\n  if (!nativeEvent) return;\n  const { selection } = data;\n  focus.emit('brush:filter', { data: { selection } });\n});\n\ncontext.on('brush:remove', (e) => {\n  const { nativeEvent } = e;\n  if (!nativeEvent) return;\n  const { x: scaleX, y: scaleY } = context.getScale();\n  const selection = [scaleX.getOptions().domain, scaleY.getOptions().domain];\n  focus.emit('brush:filter', { data: { selection } });\n});\n",title:{zh:"图表联动",en:"Focus and Context"},filename:"focus-context.ts",isNew:!1}],icon:"",id:"multi-view",title:{en:"Multi View",zh:"多视图"},api:null,childrenKey:"demos",order:5}],childrenKey:"examples"},{id:"layout",title:{zh:"布局",en:"Layout"},icon:"other",examples:[{demos:[{id:"chart-layout",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*uPTsT5643UQAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart.options({\n  type: 'point',\n  height: 600,\n  width: 700,\n  margin: 100,\n  padding: 60,\n  paddingLeft: 100, // 单独设置paddingLeft的优先级比padding高\n  insetLeft: 30,\n  insetRight: 30,\n\n  data: {\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/commits.json',\n  },\n  encode: {\n    x: (d) => new Date(d.time).getUTCHours(),\n    y: (d) => new Date(d.time).getUTCDay(),\n    size: 'count',\n    shape: 'point',\n  },\n  transform: [{ type: 'group', size: 'sum' }, { type: 'sortY' }],\n  scale: { y: { type: 'point' } },\n  style: { shape: 'point', fill: '#76b7b2' },\n  axis: {\n    x: { title: 'time (hours)', tickCount: 24 },\n    y: { title: 'time (day)', grid: true },\n  },\n  legend: false,\n  viewStyle: {\n    viewFill: '#DCEEFE',\n    plotFill: '#A2D4F6',\n    mainFill: '#FFC6A1',\n    contentFill: '#FF8E72',\n  },\n});\n\nchart.render();\n",title:{zh:"图表布局",en:"chart layout"},filename:"chart-layout.ts",isNew:!1}],icon:"",id:"layout",title:{en:"Chart Layout",zh:"图表布局"},api:null,childrenKey:"demos",order:1},{demos:[{id:"chart-view-style",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*XEmcS7mJL8gAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container' });\n\nchart.options({\n  viewStyle: {\n    // 配置图表的视图区域的样式\n    viewFill: '#DCEEFE',\n    viewRadius: 20,\n\n    // 配置图表的绘制区域的样式\n    plotFill: '#fff',\n    plotFillOpacity: 0.45,\n    plotStroke: 'yellow',\n    plotLineWidth: 4,\n\n    // 配置图表的主区域的样式\n    mainFill: 'l(270) 0:#ffffff 0.5:#7ec2f3 1:#1890ff',\n    mainFillOpacity: 0.75,\n\n    // 配置图表的内容区域的样式\n    contentFill: 'l(90) 0:#ffadad 0.5:#ffd6a5 1:#fdffb6',\n    contentShadowColor: '#5d5d5d',\n    contentShadowBlur: 40,\n    contentShadowOffsetX: 5,\n    contentShadowOffsetY: 5,\n  },\n  type: 'area',\n  data: {\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/aapl.json',\n  },\n  encode: {\n    x: (d) => new Date(d.date),\n    y: 'close',\n  },\n  axis: false,\n  style: {\n    fill: 'l(270) 0:#ffffff 0.5:#7ec2f3 1:#1890ff',\n    fillOpacity: 0.9,\n  },\n  height: 350,\n  width: 700,\n  margin: 30,\n  padding: 20,\n  inset: 15,\n  legend: false,\n});\n\nchart.render();\n",title:{zh:"图表视图样式",en:"chart View Style"},filename:"chart-view-style.ts",isNew:!1}],icon:"",id:"style",title:{en:"Chart View Style",zh:"图表视图样式"},api:null,childrenKey:"demos",order:2}],childrenKey:"examples"},{id:"intelligent",title:{zh:"智能可视化",en:"Intelligent"},icon:"other",examples:[{demos:[{id:"auto-pie",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*wiMbSY4kNwkAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { Auto } from '@antv/g2-extension-ava';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart.mark(Auto).data([\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: 'Other', value: 5 },\n]);\n\nchart.render();\n",title:{zh:"自动可视化 - 饼图",en:"Auto Chart - Pie"},filename:"auto-pie.ts",isNew:!1},{id:"auto-scatter",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SxISRpCBszgAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { Auto } from '@antv/g2-extension-ava';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart.mark(Auto).data({\n  type: 'fetch',\n  value:\n    'https://gw.alipayobjects.com/os/basement_prod/6b4aa721-b039-49b9-99d8-540b3f87d339.json',\n});\n\nchart.render();\n",title:{zh:"自动可视化 - 散点图",en:"Auto Chart - Point"},filename:"auto-scatter.ts",isNew:!1},{id:"auto-interval",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hJtlRIGnjpsAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { Auto } from '@antv/g2-extension-ava';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart.mark(Auto).data([\n  { price: 100, type: 'A' },\n  { price: 120, type: 'B' },\n  { price: 150, type: 'C' },\n]);\n\nchart.render();\n",title:{zh:"自动可视化 - 柱形图",en:"Auto Chart - Interval"},filename:"auto-interval.ts",isNew:!1},{id:"auto-line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*n12qQJ6JmMgAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { Auto } from '@antv/g2-extension-ava';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nchart.mark(Auto).data([\n  { year: '2007', sales: 28 },\n  { year: '2008', sales: 55 },\n  { year: '2009', sales: 43 },\n  { year: '2010', sales: 91 },\n  { year: '2011', sales: 81 },\n  { year: '2012', sales: 53 },\n  { year: '2013', sales: 19 },\n  { year: '2014', sales: 87 },\n  { year: '2015', sales: 52 },\n]);\n\nchart.render();\n",title:{zh:"自动可视化 - 折线图",en:"Auto Chart - Line "},filename:"auto-line.ts",isNew:!1}],icon:"",id:"auto",title:{en:"Auto Chart",zh:"自动可视化"},api:null,childrenKey:"demos",order:1},{demos:[{id:"trend",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DweUTbVAaIEAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { Trend } from '@antv/g2-extension-ava';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n  })\n  .encode('x', 'date')\n  .encode('y', 'close');\n\nchart.line();\n\nchart.mark(Trend);\n\nchart.render();\n",title:{zh:"趋势",en:"Trend"},filename:"trend.ts",isNew:!1},{id:"time-series-outlier",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*N5OkR5VKYMAAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { TimeSeriesOutlier } from '@antv/g2-extension-ava';\n\nconst data = [\n  {\n    date: '2001',\n    discount_price: 727.12,\n  },\n  {\n    date: '2002',\n    discount_price: 729.59,\n  },\n  {\n    date: '2003',\n    discount_price: 730.21,\n  },\n  {\n    date: '2004',\n    discount_price: 732.11,\n  },\n  {\n    date: '2005',\n    discount_price: 733.22,\n  },\n  {\n    date: '2006',\n    discount_price: 741.19,\n  },\n  {\n    date: '2007',\n    discount_price: 742.37,\n  },\n  {\n    date: '2008',\n    discount_price: 752.34,\n  },\n  {\n    date: '2009',\n    discount_price: 761.12,\n  },\n  {\n    date: '2010',\n    discount_price: 783.99,\n  },\n  {\n    date: '2011',\n    discount_price: 791.23,\n  },\n  {\n    date: '2012',\n    discount_price: 781.99,\n  },\n  {\n    date: '2013',\n    discount_price: 835.71,\n  },\n  {\n    date: '2014',\n    discount_price: 839.24,\n  },\n  {\n    date: '2015',\n    discount_price: 883.51,\n  },\n  {\n    date: '2016',\n    discount_price: 873.98,\n  },\n  {\n    date: '2017',\n    discount_price: 802.78,\n  },\n  {\n    date: '2018',\n    discount_price: 807.05,\n  },\n  {\n    date: '2019',\n    discount_price: 885.12,\n  },\n  {\n    date: '2020',\n    discount_price: 1018.85,\n  },\n  {\n    date: '2021',\n    discount_price: 934.49,\n  },\n  {\n    date: '2022',\n    discount_price: 908.74,\n  },\n  {\n    date: '2023',\n    discount_price: 930.55,\n  },\n  {\n    date: '2024',\n    discount_price: 978.53,\n  },\n  {\n    date: '2025',\n    discount_price: 931.47,\n  },\n  {\n    date: '2026',\n    discount_price: 891,\n  },\n  {\n    date: '2027',\n    discount_price: 836.41,\n  },\n  {\n    date: '2028',\n    discount_price: 826.11,\n  },\n  {\n    date: '2029',\n    discount_price: 820.11,\n  },\n  {\n    date: '2030',\n    discount_price: 811.11,\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data).encode('x', 'date').encode('y', 'discount_price');\n\nchart.line();\n\nchart.mark(TimeSeriesOutlier);\n\nchart.render();\n",title:{zh:"时序异常",en:"Time Series Outlier"},filename:"time-series-outlier.ts",isNew:!1},{id:"low-variance",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Y0QJSZSbig8AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { LowVariance } from '@antv/g2-extension-ava';\n\nconst data = [\n  {\n    date: '2000',\n    fertility: 743.37,\n  },\n  {\n    date: '2001',\n    fertility: 729.34,\n  },\n  {\n    date: '2002',\n    fertility: 769.12,\n  },\n  {\n    date: '2003',\n    fertility: 786.99,\n  },\n  {\n    date: '2004',\n    fertility: 791.23,\n  },\n  {\n    date: '2005',\n    fertility: 781.99,\n  },\n  {\n    date: '2006',\n    fertility: 795.71,\n  },\n  {\n    date: '2007',\n    fertility: 789.24,\n  },\n  {\n    date: '2008',\n    fertility: 793.51,\n  },\n  {\n    date: '2009',\n    fertility: 783.98,\n  },\n  {\n    date: '2010',\n    fertility: 782.78,\n  },\n  {\n    date: '2011',\n    fertility: 797.05,\n  },\n  {\n    date: '2012',\n    fertility: 785.12,\n  },\n  {\n    date: '2013',\n    fertility: 798.85,\n  },\n  {\n    date: '2014',\n    fertility: 734.49,\n  },\n  {\n    date: '2015',\n    fertility: 708.74,\n  },\n  {\n    date: '2016',\n    fertility: 730.55,\n  },\n  {\n    date: '2017',\n    fertility: 778.53,\n  },\n  {\n    date: '2018',\n    fertility: 731.47,\n  },\n  {\n    date: '2019',\n    fertility: 791,\n  },\n  {\n    date: '2020',\n    fertility: 896.41,\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data).encode('x', 'date').encode('y', 'fertility');\n\nchart.interval();\n\nchart.mark(LowVariance);\n\nchart.render();\n",title:{zh:"低方差",en:"Low Variance"},filename:"low-variance.ts",isNew:!1},{id:"change-point",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_p5WRZAmT1oAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { ChangePoint } from '@antv/g2-extension-ava';\n\nconst data = [\n  {\n    date: '2000',\n    discount_price: 43.37,\n  },\n  {\n    date: '2001',\n    discount_price: 29.34,\n  },\n  {\n    date: '2002',\n    discount_price: 49.12,\n  },\n  {\n    date: '2003',\n    discount_price: 56.99,\n  },\n  {\n    date: '2004',\n    discount_price: 61.23,\n  },\n  {\n    date: '2005',\n    discount_price: 781.99,\n  },\n  {\n    date: '2006',\n    discount_price: 895.71,\n  },\n  {\n    date: '2007',\n    discount_price: 789.24,\n  },\n  {\n    date: '2008',\n    discount_price: 793.51,\n  },\n  {\n    date: '2009',\n    discount_price: 783.98,\n  },\n  {\n    date: '2010',\n    discount_price: 782.78,\n  },\n  {\n    date: '2011',\n    discount_price: 797.05,\n  },\n  {\n    date: '2012',\n    discount_price: 785.12,\n  },\n  {\n    date: '2013',\n    discount_price: 798.85,\n  },\n  {\n    date: '2014',\n    discount_price: 734.49,\n  },\n  {\n    date: '2015',\n    discount_price: 708.74,\n  },\n  {\n    date: '2016',\n    discount_price: 730.55,\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data).encode('x', 'date').encode('y', 'discount_price');\n\nchart.line();\n\nchart.mark(ChangePoint);\n\nchart.render();\n",title:{zh:"突变点",en:"Change Point"},filename:"change-point.ts",isNew:!1},{id:"category-outlier",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*B64DT43QAVMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { CategoryOutlier } from '@antv/g2-extension-ava';\n\nconst data = [\n  {\n    date: '2000',\n    fertility: 743.37,\n  },\n  {\n    date: '2001',\n    fertility: 729.34,\n  },\n  {\n    date: '2002',\n    fertility: 709.12,\n  },\n  {\n    date: '2003',\n    fertility: 786.99,\n  },\n  {\n    date: '2004',\n    fertility: 711.23,\n  },\n  {\n    date: '2005',\n    fertility: 781.99,\n  },\n  {\n    date: '2006',\n    fertility: 795.71,\n  },\n  {\n    date: '2007',\n    fertility: 789.24,\n  },\n  {\n    date: '2008',\n    fertility: 93.51,\n  },\n  {\n    date: '2009',\n    fertility: 783.98,\n  },\n  {\n    date: '2010',\n    fertility: 702.78,\n  },\n  {\n    date: '2011',\n    fertility: 797.05,\n  },\n  {\n    date: '2012',\n    fertility: 785.12,\n  },\n  {\n    date: '2013',\n    fertility: 798.85,\n  },\n  {\n    date: '2014',\n    fertility: 34.49,\n  },\n  {\n    date: '2015',\n    fertility: 758.74,\n  },\n  {\n    date: '2016',\n    fertility: 730.55,\n  },\n  {\n    date: '2017',\n    fertility: 778.53,\n  },\n  {\n    date: '2018',\n    fertility: 31.47,\n  },\n  {\n    date: '2019',\n    fertility: 791,\n  },\n  {\n    date: '2020',\n    fertility: 796.41,\n  },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data).encode('x', 'date').encode('y', 'fertility');\n\nchart.interval();\n\nchart.mark(CategoryOutlier);\n\nchart.render();\n",title:{zh:"类别异常",en:"Category Outlier"},filename:"category-outlier.ts",isNew:!1},{id:"insight",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DweUTbVAaIEAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * AVA: https://github.com/antvis/AVA\n * g2-extension-ava: https://github.com/antvis/g2-extensions/tree/master/ava\n */\nimport { Chart } from '@antv/g2';\nimport { Insight } from '@antv/g2-extension-ava';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.options({\n  children: [\n    {\n      type: 'line',\n      data: {\n        type: 'fetch',\n        value:\n          'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n      },\n      encode: {\n        x: 'date',\n        y: 'close',\n      },\n    },\n    // insight mark\n    {\n      type: Insight,\n      data: {\n        type: 'fetch',\n        value:\n          'https://gw.alipayobjects.com/os/bmw-prod/551d80c6-a6be-4f3c-a82a-abd739e12977.csv',\n      },\n      // Specify to add marks of type 'trend'\n      insightType: 'trend',\n      // If the value of dimensions or measures is not specified, it will be obtained from the encode information by default.\n      dimensions: [{ fieldName: 'date' }],\n      measures: [{ fieldName: 'close', method: 'SUM' }],\n      options: {\n        // Filter out not significant insights\n        filterInsight: true,\n        // Verify whether the input meets the algorithm requirements\n        dataValidation: true,\n        // Adjust the significance test threshold\n        algorithmParameter: {\n          // Parameter for trend mark\n          trend: {\n            threshold: 0.05,\n          },\n        },\n        // Generate Chinese spec\n        visualizationOptions: {\n          lang: 'zh-CN',\n        },\n      },\n    },\n  ],\n});\n\nchart.render();\n",title:{zh:"洞察标注算法的详细参数",en:"Detailed Parameters of Insight Mark"},filename:"insight.ts",isNew:!1}],icon:"",id:"insight",title:{en:"Insight Marks",zh:"洞察标注"},api:null,childrenKey:"demos",order:2}],childrenKey:"examples"},{id:"storytelling",title:{zh:"可视化叙事",en:"Stroytelling"},icon:"other",examples:[{demos:[{id:"gantt",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*hyB5RIY-qcMAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://canisjs.github.io/canis-editor/index.html?exmp=gantt_1\n */\nimport { Chart } from '@antv/g2';\n\nconst events = [\n  { name: 'event planning', startTime: 1, endTime: 4 },\n  { name: 'layout logistics', startTime: 3, endTime: 13 },\n  { name: 'select vendors', startTime: 5, endTime: 8 },\n  { name: 'hire venue', startTime: 9, endTime: 13 },\n  { name: 'hire caterer', startTime: 10, endTime: 14 },\n  { name: 'hire event decorators', startTime: 12, endTime: 17 },\n  { name: 'rehearsal', startTime: 14, endTime: 16 },\n  { name: 'event celebration', startTime: 17, endTime: 18 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data(events)\n  .encode('x', 'name')\n  .encode('y', ['endTime', 'startTime'])\n  .encode('color', 'name')\n  .encode('enterDuration', (d) => d.endTime - d.startTime)\n  .encode('enterDelay', 'startTime')\n  .scale('enterDuration', {\n    zero: true,\n    range: [0, 3000],\n  });\n\nchart.render();\n",title:{zh:"甘特图动画",en:"Gantt with Animation"},filename:"gantt.ts",isNew:!1},{id:"interval-keyframe",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Nmz5Rb8rvOgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst sex = [\n  { city: 'A', sex: '男', value: 52 },\n  { city: 'A', sex: '女', value: 48 },\n  { city: 'B', sex: '男', value: 130 },\n  { city: 'B', sex: '女', value: 70 },\n];\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst keyframe = chart.timingKeyframe();\n\nkeyframe\n  .interval()\n  .data(sex)\n  .transform({ type: 'groupX', y: 'sum' })\n  .encode('x', 'city')\n  .encode('y', 'value')\n  .encode('key', 'city');\n\nkeyframe\n  .interval()\n  .data(sex)\n  .transform({ type: 'dodgeX' })\n  .encode('x', 'city')\n  .encode('y', 'value')\n  .encode('color', 'sex')\n  .encode('groupKey', 'city');\n\nchart.render();\n",title:{zh:"条帧动画",en:"Interval Keyframe"},filename:"interval-keyframe.ts",isNew:!1},{id:"point-keyframe",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*MOozSI2JRJIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/fbe4a8c1-ce04-4ba3-912a-0b26d6965333.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const chart = new Chart({\n      container: 'container',\n    });\n\n    const keyframe = chart\n      .timingKeyframe()\n      .attr('direction', 'alternate')\n      .attr('iterationCount', 4);\n\n    keyframe\n      .interval()\n      .data(data)\n      .transform({ type: 'groupX', y: 'mean' })\n      .encode('x', 'gender')\n      .encode('y', 'weight')\n      .encode('color', 'gender')\n      .encode('key', 'gender');\n\n    keyframe\n      .point()\n      .data(data)\n      .encode('x', 'height')\n      .encode('y', 'weight')\n      .encode('color', 'gender')\n      .encode('groupKey', 'gender')\n      .encode('shape', 'point');\n\n    chart.render();\n  });\n",title:{zh:"点帧动画",en:"Point Keyframe"},filename:"point-keyframe.ts",isNew:!1},{id:"facet-keyframe",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*vtjDQ4sJHJkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nfetch(\n  'https://gw.alipayobjects.com/os/bmw-prod/7fbb7084-cf34-4e7c-91b3-09e4748dc5e9.json',\n)\n  .then((res) => res.json())\n  .then((data) => {\n    const chart = new Chart({\n      container: 'container',\n      width: 800,\n    });\n    const padding = (node) =>\n      node.attr('paddingRight', 120).attr('paddingLeft', 70);\n\n    const encode = (node) =>\n      node\n        .encode('shape', 'smooth')\n        .encode('x', (d) => new Date(d.date))\n        .encode('y', 'unemployed')\n        .encode('color', 'industry')\n        .encode('key', 'industry');\n\n    const utcX = (node) => node.scale('x', { utc: true });\n\n    const keyframe = chart\n      .timingKeyframe()\n      .attr('direction', 'alternate')\n      .attr('iterationCount', 2);\n\n    keyframe\n      .facetRect()\n      .call(padding)\n      .attr('paddingBottom', 60)\n      .data(data)\n      .encode('y', 'industry')\n      .area()\n      .attr('class', 'area')\n      .attr('frame', false)\n      .call(encode)\n      .call(utcX)\n      .scale('y', { facet: false })\n      .style('fillOpacity', 1)\n      .animate('enter', { type: 'scaleInY' });\n\n    keyframe\n      .area()\n      .call(padding)\n      .data(data)\n      .attr('class', 'area')\n      .transform({ type: 'stackY', reverse: true })\n      .call(encode)\n      .call(utcX)\n      .style('fillOpacity', 1);\n\n    keyframe\n      .area()\n      .call(padding)\n      .data(data)\n      .attr('class', 'area')\n      .call(encode)\n      .call(utcX)\n      .style('fillOpacity', 0.8);\n\n    chart.render();\n  });\n",title:{zh:"分面帧动画",en:"Facet Keyframe"},filename:"facet-keyframe.ts",isNew:!1},{id:"stocks-keyframe",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*oJvJS4QL8u0AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nfetch('https://assets.antv.antgroup.com/g2/stocks2.json')\n  .then((res) => res.json())\n  .then((data) => {\n    const keyframes = [\n      facetLine,\n      facetArea,\n      stackArea,\n      layerArea,\n      streamgraph,\n      normalizeArea,\n      normalizeBar,\n      groupBar,\n      stackBar,\n      bar,\n      pie,\n      rose,\n    ];\n\n    const chart = new Chart({ container: 'container' });\n\n    chart.options({\n      type: 'timingKeyframe',\n      width: 800,\n      children: keyframes.map((plot) => {\n        const { children, ...options } = plot(data);\n        return {\n          theme: 'dark',\n          paddingLeft: 40,\n          paddingBottom: 50,\n          paddingRight: 50,\n          ...options,\n          ...(children && {\n            children: children.map((d) => ({ ...d, theme: 'dark' })),\n          }),\n        };\n      }),\n    });\n\n    chart.render();\n  });\n\nfunction facetLine(data) {\n  return {\n    type: 'facetRect',\n    data,\n    encode: { y: 'symbol' },\n    axis: { y: { title: false } },\n    children: [\n      {\n        type: 'line',\n        key: 'line',\n        encode: {\n          x: (d) => new Date(d.date),\n          y: 'price',\n          color: 'symbol',\n          key: 'symbol',\n        },\n        frame: false,\n        scale: { y: { zero: true, tickCount: 3 } },\n        axis: { x: { title: false }, y: { title: false } },\n        animate: { enter: { type: 'pathIn' } },\n        style: { shape: 'smooth' },\n      },\n    ],\n  };\n}\n\nfunction facetArea(data) {\n  return {\n    type: 'facetRect',\n    data,\n    encode: { y: 'symbol' },\n    axis: { y: { title: false } },\n    children: [\n      {\n        type: 'line',\n        key: 'line',\n        frame: false,\n        encode: {\n          x: (d) => new Date(d.date),\n          y: 'price',\n          color: 'symbol',\n          key: 'symbol',\n        },\n        style: { shape: 'smooth' },\n        axis: { x: { title: false }, y: { title: false } },\n        scale: { y: { zero: true, facet: false, tickCount: 3 } },\n      },\n      {\n        type: 'area',\n        key: 'area',\n        class: 'area',\n        frame: false,\n        encode: {\n          x: (d) => new Date(d.date),\n          y: 'price',\n          color: 'symbol',\n          key: 'symbol',\n        },\n        style: { shape: 'smooth' },\n        scale: { y: { facet: false, zero: true, tickCount: 3 } },\n        axis: { x: { title: false }, y: { title: false } },\n        animate: { exit: { type: 'fadeOut' } },\n      },\n    ],\n  };\n}\n\nfunction stackArea(data) {\n  return {\n    type: 'area',\n    data,\n    key: 'area',\n    class: 'area',\n    transform: [{ type: 'stackY', reverse: true }],\n    axis: { y: { title: false } },\n    encode: {\n      x: (d) => new Date(d.date),\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    style: { shape: 'smooth' },\n  };\n}\n\nfunction layerArea(data) {\n  return {\n    type: 'area',\n    key: 'area',\n    class: 'area',\n    data,\n    axis: { y: { title: false } },\n    encode: {\n      x: (d) => new Date(d.date),\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    style: { fillOpacity: 0.5, shape: 'smooth' },\n  };\n}\n\nfunction streamgraph(data) {\n  return {\n    type: 'area',\n    key: 'area',\n    class: 'area',\n    data,\n    axis: { y: { title: false } },\n    transform: [{ type: 'stackY', reverse: true }, { type: 'symmetryY' }],\n    encode: {\n      x: (d) => new Date(d.date),\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    style: { fillOpacity: 1, shape: 'smooth' },\n  };\n}\n\nfunction normalizeArea(data) {\n  return {\n    type: 'area',\n    key: 'area',\n    class: 'area',\n    data,\n    axis: { y: { title: false } },\n    transform: [{ type: 'stackY', reverse: true }, { type: 'normalizeY' }],\n    encode: {\n      x: (d) => new Date(d.date),\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    style: { fillOpacity: 1, shape: 'smooth' },\n  };\n}\n\nfunction normalizeBar(data) {\n  return {\n    type: 'interval',\n    data,\n    encode: {\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    transform: [\n      { type: 'groupColor', y: 'sum' },\n      { type: 'stackY', reverse: true },\n      { type: 'normalizeY' },\n    ],\n    scale: { x: { padding: 0 } },\n    axis: { y: { title: false }, x: { title: false } },\n  };\n}\n\nfunction groupBar(data) {\n  return {\n    type: 'interval',\n    data,\n    transform: [{ type: 'dodgeX' }],\n    encode: {\n      x: 'date',\n      y: 'price',\n      color: 'symbol',\n      groupKey: 'symbol',\n      key: (_, i) => i,\n    },\n    scale: { y: { nice: true } },\n    axis: { x: false, y: { title: false } },\n  };\n}\n\nfunction stackBar(data) {\n  return {\n    type: 'interval',\n    data,\n    transform: [{ type: 'stackY' }],\n    encode: {\n      x: 'date',\n      y: 'price',\n      color: 'symbol',\n      groupKey: 'symbol',\n      key: (_, i) => i,\n    },\n    axis: { x: false, y: { title: false } },\n  };\n}\n\nfunction bar(data) {\n  return {\n    type: 'interval',\n    data,\n    transform: [{ type: 'groupX', y: 'sum' }],\n    encode: {\n      x: 'symbol',\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    axis: {\n      y: { labelFormatter: '~s', title: false },\n      x: { title: false },\n    },\n  };\n}\n\nfunction pie(data) {\n  return {\n    type: 'interval',\n    paddingLeft: 10,\n    paddingRight: 10,\n    paddingBottom: 10,\n    data,\n    transform: [{ type: 'groupX', y: 'sum' }, { type: 'stackY' }],\n    coordinate: { type: 'theta' },\n    encode: {\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    legend: { color: { layout: { justifyContent: 'center' } } },\n    style: { radius: 10 },\n  };\n}\n\nfunction rose(data) {\n  return {\n    type: 'interval',\n    data,\n    paddingLeft: 10,\n    paddingRight: 10,\n    paddingBottom: 10,\n    transform: [{ type: 'groupX', y: 'sum' }],\n    coordinate: { type: 'polar' },\n    encode: {\n      x: 'symbol',\n      y: 'price',\n      color: 'symbol',\n      key: 'symbol',\n    },\n    scale: { x: { padding: 0 } },\n    style: { radius: 10 },\n    legend: { color: { layout: { justifyContent: 'center' } } },\n    axis: { y: false },\n  };\n}\n",title:{zh:"混合帧动画",en:"Composite Keyframe"},filename:"stocks-keyframe.ts",isNew:!1}],icon:"",id:"storytelling",title:{en:"Storytelling",zh:"可视化叙事"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"algorithm",title:{zh:"算法可视化",en:"Algorithm Vis"},icon:"other",examples:[{demos:[{id:"bubble-sort",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lSdRQZt-_BsAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [43, 2, 5, 24, 53, 78, 82, 63, 49, 6];\n\nfunction* bubbleSort(arr) {\n  const n = arr.length;\n  for (let i = 0; i < n - 1; i++) {\n    for (let j = 0; j <= n - i - 1; j++) {\n      if (arr[j] > arr[j + 1]) {\n        [arr[j], arr[j + 1]] = [arr[j + 1], arr[j]];\n      }\n      yield arr.map((a, i) => ({\n        value: a,\n        swap: i === j || i === j + 1,\n      }));\n    }\n  }\n  return arr;\n}\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst keyframe = chart.timingKeyframe();\n\nfor (const frame of bubbleSort(data)) {\n  keyframe\n    .interval()\n    .data(frame.map((datum, index) => ({ index, ...datum })))\n    .encode('x', 'index')\n    .encode('y', 'value')\n    .encode('key', 'value')\n    .encode('color', 'swap');\n}\n\nchart.render();\n",title:{zh:"冒泡排序",en:"Bubble Sort"},filename:"bubble-sort.ts",isNew:!1},{id:"selection-sort",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*STlaRaqEa6MAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [43, 2, 5, 24, 53, 78, 82, 63, 49, 6];\n\nfunction* selectionSort(arr) {\n  for (let i = 0; i < arr.length; i++) {\n    let lowest = i;\n    for (let j = i + 1; j < arr.length; j++) {\n      if (arr[j] < arr[lowest]) lowest = j;\n    }\n    if (lowest !== i) {\n      [arr[i], arr[lowest]] = [arr[lowest], arr[i]];\n    }\n    yield arr.map((a, index) => ({\n      value: a,\n      swap: index === lowest || index === i,\n    }));\n  }\n  return arr;\n}\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst keyframe = chart.timingKeyframe();\n\nfor (const frame of selectionSort(data)) {\n  keyframe\n    .interval()\n    .data(frame.map((datum, index) => ({ index, ...datum })))\n    .encode('x', 'index')\n    .encode('y', 'value')\n    .encode('key', 'value')\n    .encode('color', 'swap');\n}\n\nchart.render();\n",title:{zh:"选择排序",en:"Selection Sort"},filename:"selection-sort.ts",isNew:!1},{id:"insertion-sort",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*MbFLR46PNEcAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst data = [43, 2, 5, 24, 53, 78, 82, 63, 49, 6];\n\nfunction* insertionSort(arr) {\n  const len = arr.length;\n  let preIndex, current;\n  for (let i = 1; i < len; i++) {\n    preIndex = i - 1;\n    current = arr[i];\n    while (preIndex >= 0 && arr[preIndex] > current) {\n      arr[preIndex + 1] = arr[preIndex];\n      preIndex--;\n    }\n    arr[preIndex + 1] = current;\n    yield arr.map((a, index) => ({\n      value: a,\n      swap: index === preIndex + 1 || index === i,\n    }));\n  }\n  return arr;\n}\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst keyframe = chart.timingKeyframe();\n\nfor (const frame of insertionSort(data)) {\n  keyframe\n    .interval()\n    .data(frame.map((datum, index) => ({ index, ...datum })))\n    .encode('x', 'index')\n    .encode('y', 'value')\n    .encode('key', 'value')\n    .encode('color', 'swap');\n}\n\nchart.render();\n",title:{zh:"插入排序",en:"Insertion Sort"},filename:"insertion-sort.ts",isNew:!1}],icon:"",id:"sort",title:{en:"Sort",zh:"排序"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"unit",title:{zh:"单元可视化",en:"Unit"},icon:"other",examples:[{demos:[{id:"basic",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TZmeQqK7CZwAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/titanic.json',\n    transform: [\n      {\n        type: 'sortBy',\n        fields: ['survived'],\n      },\n      {\n        type: 'map',\n        callback: ({ survived, ...d }) => ({\n          ...d,\n          survived: survived + '',\n        }),\n      },\n    ],\n  })\n  .encode('x', 'pclass');\n\nfacetRect\n  .point()\n  .transform({ type: 'pack' })\n  .legend('color', { labelFormatter: (d) => (d === '1' ? 'Yes' : 'No') })\n  .encode('color', 'survived')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .tooltip({\n    title: '',\n    items: ['pclass', 'survived'],\n  });\n\nchart.render();\n",title:{zh:"基础",en:"Basic"},filename:"basic.ts",isNew:!1},{id:"share-size",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*QQIBRrgnC10AAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/titanic.json',\n    transform: [\n      {\n        type: 'sortBy',\n        fields: ['survived'],\n      },\n      {\n        type: 'map',\n        callback: ({ survived, ...d }) => ({\n          ...d,\n          survived: survived + '',\n        }),\n      },\n    ],\n  })\n  .encode('x', 'pclass')\n  .attr('shareSize', true);\n\nfacetRect\n  .point()\n  .transform({ type: 'pack' })\n  .legend('color', { labelFormatter: (d) => (d === '1' ? 'Yes' : 'No') })\n  .encode('color', 'survived')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .tooltip({\n    title: '',\n    items: ['pclass', 'survived'],\n  });\n\nchart.render();\n",title:{zh:"共享尺寸定义域",en:"Share Size"},filename:"share-size.ts",isNew:!1},{id:"share-data",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Xqf_TLXa4IAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/titanic.json',\n    transform: [\n      {\n        type: 'sortBy',\n        fields: ['survived'],\n      },\n      {\n        type: 'map',\n        callback: ({ survived, ...d }) => ({\n          ...d,\n          survived: survived + '',\n        }),\n      },\n    ],\n  })\n  .encode('x', 'pclass')\n  .attr('shareData', true);\n\nfacetRect\n  .point()\n  .transform({ type: 'pack' })\n  .legend('color', { labelFormatter: (d) => (d === '1' ? 'Yes' : 'No') })\n  .encode('color', 'survived')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .tooltip({\n    title: '',\n    items: ['pclass', 'survived'],\n  });\n\nchart.render();\n",title:{zh:"共享数据定义域",en:"Share Data"},filename:"share-data.ts",isNew:!1},{id:"2d",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JLcrS5ftzXoAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/titanic2.json',\n    transform: [\n      {\n        type: 'sortBy',\n        fields: [['Survived', false]],\n      },\n    ],\n  })\n  .encode('x', 'Class')\n  .encode('y', 'Sex');\n\nfacetRect\n  .point()\n  .transform({ type: 'pack' })\n  .encode('color', 'Survived')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .tooltip({\n    title: '',\n    items: ['pclass', 'survived'],\n  });\n\nchart.render();\n",title:{zh:"二维",en:"2D"},filename:"2d.ts",isNew:!1},{id:"nested",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*F2_7T4keuwgAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  paddingBottom: 60,\n  paddingLeft: 85,\n});\n\nconst facetRect = chart\n  .facetRect()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/titanic.json',\n    transform: [\n      {\n        type: 'sortBy',\n        fields: ['survived', 'sex'],\n      },\n      {\n        type: 'map',\n        callback: ({ survived, ...d }) => ({\n          ...d,\n          survived: survived + '',\n        }),\n      },\n    ],\n  })\n  .encode('y', 'pclass')\n  .attr('shareSize', true);\n\nconst facetRect2 = facetRect\n  .facetRect()\n  .encode('x', 'survived')\n  .axis('y', false)\n  .axis('x', {\n    labelFormatter: (d) => (d === '1' ? 'Yes' : 'No'),\n    position: 'bottom',\n  })\n  .attr('shareSize', true);\n\nconst facetRect3 = facetRect2\n  .facetRect()\n  .encode('y', 'sex')\n  .attr('shareSize', true)\n  .axis('x', false)\n  .axis('y', { position: 'left' });\n\nfacetRect3\n  .point()\n  .transform({ type: 'pack' })\n  .legend('color', { labelFormatter: (d) => (d === '1' ? 'Yes' : 'No') })\n  .encode('color', 'survived')\n  .encode('shape', 'point')\n  .encode('size', 3)\n  .tooltip({\n    title: '',\n    items: ['pclass', 'survived', 'sex'],\n  });\n\nchart.render();\n",title:{zh:"嵌套",en:"Nested"},filename:"nested.ts",isNew:!1}],icon:"",id:"unit",title:{en:"Unit Visualization",zh:"单元可视化"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"threed",title:{zh:"3D 可视化",en:"3D Charts"},icon:"other",examples:[{demos:[{id:"orthographic-projection",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7MdMQY-QksEAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .encode('shape', 'cube')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 });\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 3,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"正交投影",en:"Orthographic projection"},filename:"orthographic-projection.ts",isNew:!1},{id:"perspective-projection",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*KNCUQqzw2JsAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .encode('shape', 'cube')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 });\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 3,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"透视投影",en:"Perspective projection"},filename:"perspective-projection.ts",isNew:!1},{id:"sphere-shape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8t0aRJLbhuwAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .encode('size', 'Cylinders')\n  .encode('shape', 'sphere')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 });\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 3,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"球体",en:"Sphere"},filename:"sphere-shape.ts",isNew:!1},{id:"circle-shape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*JyzNSp6_T30AAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .encode('size', 'Cylinders')\n  .encode('shape', 'point')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 })\n  .style('lineWidth', 2)\n  .style('fillOpacity', 0.6);\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n});\n",title:{zh:"圆形",en:"Circle"},filename:"circle-shape.ts",isNew:!1},{id:"triangle-shape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*q1-TQZnlXAQAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .encode('size', 'Cylinders')\n  .encode('shape', 'triangle')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 })\n  .style('lineWidth', 2)\n  .style('fillOpacity', 0.6);\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n});\n",title:{zh:"三角形",en:"Triangle"},filename:"triangle-shape.ts",isNew:!1},{id:"square-shape",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*chMwT6y5MDwAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .encode('size', 'Cylinders')\n  .encode('shape', 'square')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 })\n  .style('lineWidth', 2)\n  .style('fillOpacity', 0.6);\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n});\n",title:{zh:"正方形",en:"Square"},filename:"square-shape.ts",isNew:!1},{id:"custom-legend",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*SmF_Ro5UYcwAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// 添加图例\nfunction legendColor(chart) {\n  // 创建 Legend 并且挂在图例\n  const node = chart.getContainer();\n  const legend = document.createElement('div');\n  legend.style.display = 'flex';\n  node.insertBefore(legend, node.childNodes[0]);\n\n  // 创建并挂载 Items\n  const { color: scale } = chart.getScale();\n  const { domain } = scale.getOptions();\n  const items = domain.map((value) => {\n    const item = document.createElement('div');\n    const color = scale.map(value);\n    item.style.marginLeft = '1em';\n    item.innerHTML = `\n    <span style=\"\n      background-color:${color};\n      display:inline-block;\n      width:10px;\n      height:10px;\"\n    ></span>\n    <span>${value}</span>\n    `;\n    return item;\n  });\n  items.forEach((d) => legend.append(d));\n\n  // 监听事件\n  const selectedValues = [...domain];\n  const options = chart.options();\n  for (let i = 0; i < items.length; i++) {\n    const item = items[i];\n    const value = domain[i];\n    item.style.cursor = 'pointer';\n    item.onclick = () => {\n      const index = selectedValues.indexOf(value);\n      if (index !== -1) {\n        selectedValues.splice(index, 1);\n        item.style.opacity = 0.5;\n      } else {\n        selectedValues.push(value);\n        item.style.opacity = 1;\n      }\n      changeColor(selectedValues);\n    };\n  }\n\n  // 重新渲染视图\n  function changeColor(value) {\n    const { transform = [] } = options;\n    const newTransform = [{ type: 'filter', color: { value } }, ...transform];\n    chart.options({\n      ...options,\n      transform: newTransform, // 指定新的 transform\n      scale: { color: { domain } },\n    });\n    chart.render(); // 重新渲染图表\n  }\n}\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 });\n\nchart.render().then(() => {\n  legendColor(chart);\n\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 3,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"自定义图例",en:"Customize legend"},filename:"custom-legend.ts",isNew:!1},{id:"camera-animation",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ffrAS7t1EDcAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\nfunction cameraButton(chart) {\n  const node = chart.getContainer();\n  const button = document.createElement('button');\n  button.textContent = 'Reset camera to default';\n  node.insertBefore(button, node.childNodes[0]);\n\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  camera.createLandmark('default', {\n    position: [320, 240, 500],\n    focalPoint: [320, 240, 0],\n    zoom: 1,\n  });\n\n  button.onclick = () => {\n    camera.gotoLandmark('default', {\n      duration: 300,\n      easing: 'linear',\n    });\n  };\n}\n\n// 添加图例\nfunction legendColor(chart) {\n  // 创建 Legend 并且挂在图例\n  const node = chart.getContainer();\n  const legend = document.createElement('div');\n  legend.style.display = 'flex';\n  node.insertBefore(legend, node.childNodes[0]);\n\n  // 创建并挂载 Items\n  const { color: scale } = chart.getScale();\n  const { domain } = scale.getOptions();\n  const items = domain.map((value) => {\n    const item = document.createElement('div');\n    const color = scale.map(value);\n    item.style.marginLeft = '1em';\n    item.innerHTML = `\n    <span style=\"\n      background-color:${color};\n      display:inline-block;\n      width:10px;\n      height:10px;\"\n    ></span>\n    <span>${value}</span>\n    `;\n    return item;\n  });\n  items.forEach((d) => legend.append(d));\n\n  // 监听事件\n  const selectedValues = [...domain];\n  const options = chart.options();\n  for (let i = 0; i < items.length; i++) {\n    const item = items[i];\n    const value = domain[i];\n    item.style.cursor = 'pointer';\n    item.onclick = () => {\n      const index = selectedValues.indexOf(value);\n      if (index !== -1) {\n        selectedValues.splice(index, 1);\n        item.style.opacity = 0.5;\n      } else {\n        selectedValues.push(value);\n        item.style.opacity = 1;\n      }\n      changeColor(selectedValues);\n    };\n  }\n\n  // 重新渲染视图\n  function changeColor(value) {\n    const { transform = [] } = options;\n    const newTransform = [{ type: 'filter', color: { value } }, ...transform];\n    chart.options({\n      ...options,\n      transform: newTransform, // 指定新的 transform\n      scale: { color: { domain } },\n    });\n    chart.render(); // 重新渲染图表\n  }\n}\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .point3D()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/2c813e2d-2276-40b9-a9af-cf0a0fb7e942.csv',\n  })\n  .encode('x', 'Horsepower')\n  .encode('y', 'Miles_per_Gallon')\n  .encode('z', 'Weight_in_lbs')\n  .encode('color', 'Origin')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 });\n\nchart.render().then(() => {\n  legendColor(chart);\n  cameraButton(chart);\n\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 3,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"相机动画",en:"Camera animation"},filename:"camera-animation.ts",isNew:!1}],icon:"",id:"scatter",title:{en:"3D Scatter Chart",zh:"3D 散点图"},api:null,childrenKey:"demos",order:1},{demos:[{id:"polyline",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*0MEPQrNRlvoAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\n/**\n * 3D Line\n * @see https://plotly.com/javascript/3d-line-plots/\n */\nconst pointCount = 31;\nlet r;\nconst data = [];\n\nfor (let i = 0; i < pointCount; i++) {\n  r = 10 * Math.cos(i / 10);\n  data.push({\n    x: r * Math.cos(i),\n    y: r * Math.sin(i),\n    z: i,\n  });\n}\n\nchart\n  .line3D()\n  .data(data)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('z', 'z')\n  .encode('size', 4)\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 });\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.setType(CameraType.ORBITING);\n});\n",title:{zh:"折线",en:"Polyline"},filename:"polyline.ts",isNew:!1},{id:"spiral",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Ak1iTZ1dpI0AAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\n\n/**\n * 3D Spiral\n * @see https://plotly.com/javascript/3d-line-plots/\n */\nconst pointCount = 500;\nlet r;\nconst data = [];\n\nfor (let i = 0; i < pointCount; i++) {\n  r = i * (pointCount - i);\n  data.push({\n    x: r * Math.cos(i / 30),\n    y: r * Math.sin(i / 30),\n    z: i,\n  });\n}\n\nchart\n  .line3D()\n  .data(data)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('z', 'z')\n  .encode('size', 4)\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 });\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.rotate(30, 30, 0);\n  camera.dolly(30);\n  camera.setType(CameraType.ORBITING);\n});\n",title:{zh:"螺旋线",en:"Spiral"},filename:"spiral.ts",isNew:!1}],icon:"",id:"line",title:{en:"3D Line Chart",zh:"3D 折线图"},api:null,childrenKey:"demos",order:2},{demos:[{id:"cube",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8SliSolQ6_0AAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\nconst data: { x: string; z: string; y: number; color: number }[] = [];\nfor (let x = 0; x < 5; ++x) {\n  for (let z = 0; z < 5; ++z) {\n    data.push({\n      x: `x-${x}`,\n      z: `z-${z}`,\n      y: 10 - x - z,\n      color: Math.random() < 0.33 ? 0 : Math.random() < 0.67 ? 1 : 2,\n    });\n  }\n}\n\nchart\n  .interval3D()\n  .data({\n    type: 'inline',\n    value: data,\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('z', 'z')\n  .encode('color', 'color')\n  .encode('shape', 'cube')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 })\n  .style('opacity', 0.7);\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.rotate(-40, 30, 0);\n  camera.dolly(70);\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 2.5,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"立方体",en:"Cube"},filename:"cube.ts",isNew:!1},{id:"cylinder",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*D1UGQ7TE1D0AAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\nconst data: { x: string; z: string; y: number; color: number }[] = [];\nfor (let x = 0; x < 5; ++x) {\n  for (let z = 0; z < 5; ++z) {\n    data.push({\n      x: `x-${x}`,\n      z: `z-${z}`,\n      y: 10 - x - z,\n      color: Math.random() < 0.33 ? 0 : Math.random() < 0.67 ? 1 : 2,\n    });\n  }\n}\n\nchart\n  .interval3D()\n  .data({\n    type: 'inline',\n    value: data,\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('z', 'z')\n  .encode('color', 'color')\n  .encode('shape', 'cylinder')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 })\n  .style('opacity', 0.7);\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.rotate(-40, 30, 0);\n  camera.dolly(70);\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 2.5,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"圆柱",en:"Cylinder"},filename:"cylinder.ts",isNew:!1},{id:"cone",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*PpF2SZMBW-wAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin, DirectionalLight } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  depth: 400, // Define the depth of chart.\n});\nconst data: { x: string; z: string; y: number; color: number }[] = [];\nfor (let x = 0; x < 5; ++x) {\n  for (let z = 0; z < 5; ++z) {\n    data.push({\n      x: `x-${x}`,\n      z: `z-${z}`,\n      y: 10 - x - z,\n      color: Math.random() < 0.33 ? 0 : Math.random() < 0.67 ? 1 : 2,\n    });\n  }\n}\n\nchart\n  .interval3D()\n  .data({\n    type: 'inline',\n    value: data,\n  })\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('z', 'z')\n  .encode('color', 'color')\n  .encode('shape', 'cone')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 2 })\n  .axis('y', { gridLineWidth: 2, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 2 })\n  .style('opacity', 0.7);\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 5000, 45, 640 / 480);\n  camera.rotate(-40, 30, 0);\n  camera.dolly(70);\n  camera.setType(CameraType.ORBITING);\n\n  // Add a directional light into scene.\n  const light = new DirectionalLight({\n    style: {\n      intensity: 2.5,\n      fill: 'white',\n      direction: [-1, 0, 1],\n    },\n  });\n  canvas.appendChild(light);\n});\n",title:{zh:"圆锥",en:"Cone"},filename:"cone.ts",isNew:!1}],icon:"",id:"bar",title:{en:"3D Bar Chart",zh:"3D 柱状图"},api:null,childrenKey:"demos",order:3},{demos:[{id:"dirichlet",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*4LJeR4SqvEoAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\nimport diric from 'dirichlet';\n\n// We set the width/height to 100;\nconst size = 100;\nconst points: { x: number; y: number; z: number }[] = [];\nfor (let i = 0; i < size + 1; i++) {\n  for (let j = 0; j < size + 1; j++) {\n    points.push({\n      x: i,\n      y: j,\n      z:\n        0.1 *\n        size *\n        diric(5, (5.0 * (i - size / 2)) / size) *\n        diric(5, (5.0 * (j - size / 2)) / size),\n    });\n  }\n}\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  width: 600,\n  height: 600,\n  depth: 300, // Define the depth of chart.\n});\n\nchart\n  .surface3D()\n  .data(points)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('z', 'z')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 1 })\n  .axis('y', { gridLineWidth: 1, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 1 });\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 3000, 45, 600 / 600);\n  camera.rotate(30, 30, 0);\n  camera.dolly(60);\n  camera.setType(CameraType.ORBITING);\n});\n",title:{zh:"狄利克雷分布",en:"The Dirichlet distribution"},filename:"dirichlet.ts",isNew:!1},{id:"trigonometric",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*CT7VQrD32DkAAAAAAAAAAAAADmJ7AQ/original",source:"import { CameraType } from '@antv/g';\nimport { Renderer as WebGLRenderer } from '@antv/g-webgl';\nimport { Plugin as ThreeDPlugin } from '@antv/g-plugin-3d';\nimport { Plugin as ControlPlugin } from '@antv/g-plugin-control';\nimport { Runtime, corelib, extend } from '@antv/g2';\nimport { threedlib } from '@antv/g2-extension-3d';\n\n// We set the width/height to 100;\nconst size = 100;\nconst points: { x: number; y: number; z: number }[] = [];\nfor (let i = 0; i <= 2 * size; ++i) {\n  const theta = (Math.PI * (i - size)) / size;\n  for (let j = 0; j <= 2 * size; ++j) {\n    const phi = (Math.PI * (j - size)) / size;\n\n    const x = (10.0 + Math.cos(theta)) * Math.cos(phi);\n    const y = (10.0 + Math.cos(theta)) * Math.sin(phi);\n\n    points.push({\n      x: i,\n      y: j,\n      z: Math.sin(theta) * x * y,\n    });\n  }\n}\n\n// Create a WebGL renderer.\nconst renderer = new WebGLRenderer();\nrenderer.registerPlugin(new ThreeDPlugin());\nrenderer.registerPlugin(new ControlPlugin());\n\n// Customize our own Chart with threedlib.\nconst Chart = extend(Runtime, { ...corelib(), ...threedlib() });\nconst chart = new Chart({\n  container: 'container',\n  renderer,\n  width: 600,\n  height: 600,\n  depth: 400, // Define the depth of chart.\n});\n\nchart\n  .surface3D()\n  .data(points)\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('z', 'z')\n  .coordinate({ type: 'cartesian3D' })\n  .scale('x', { nice: true })\n  .scale('y', { nice: true })\n  .scale('z', { nice: true })\n  .legend(false)\n  .axis('x', { gridLineWidth: 1 })\n  .axis('y', { gridLineWidth: 1, titleBillboardRotation: -Math.PI / 2 })\n  .axis('z', { gridLineWidth: 1 });\n\nchart.render().then(() => {\n  const { canvas } = chart.getContext();\n  const camera = canvas.getCamera();\n  // Use perspective projection mode.\n  camera.setPerspective(0.1, 2000, 45, 600 / 600);\n  camera.rotate(30, 30, 0);\n  camera.dolly(60);\n  camera.setType(CameraType.ORBITING);\n});\n",title:{zh:"三角函数",en:"Trigonometric"},filename:"trigonometric.ts",isNew:!1}],icon:"",id:"surface",title:{en:"3D Surface Chart",zh:"3D 曲面图"},api:null,childrenKey:"demos",order:4}],childrenKey:"examples"},{id:"interesting",title:{zh:"趣味可视化",en:"Interesting"},icon:"other",examples:[{demos:[{id:"petal",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*kIJxRbm2HTIAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart, register } from '@antv/g2';\n\n// 注册自定义图形，代码在下面\nregister('shape.interval.petal', petal);\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.coordinate({ type: 'theta' });\n\nchart.data([\n  { type: '分类一', value: 27 },\n  { type: '分类二', value: 25 },\n  { type: '分类三', value: 18 },\n  { type: '分类四', value: 15 },\n  { type: '分类五', value: 10 },\n  { type: 'Other', value: 5 },\n]);\n\nchart\n  .interval()\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .encode('color', 'type')\n  .encode('shape', 'petal')\n  .style('offset', 0.5) // 👈🏻 在这里配置属性\n  .style('ratio', 0.2) // 👈🏻 在这里配置属性\n  .label({\n    text: (d, i, data) => d.type + '\\n' + d.value,\n    radius: 0.9,\n    fontSize: 9,\n    dy: 12,\n  })\n  .animate('enter', { type: 'fadeIn' })\n  .legend(false);\n\nchart.render();\n\n/** Functions for custom shape. */\n\nfunction getPoint(p0, p1, ratio) {\n  return [p0[0] + (p1[0] - p0[0]) * ratio, p0[1] + (p1[1] - p0[1]) * ratio];\n}\n\nfunction sub(p1, p2) {\n  const [x1, y1] = p1;\n  const [x2, y2] = p2;\n  return [x1 - x2, y1 - y2];\n}\n\nfunction dist(p0, p1) {\n  const [x0, y0] = p0;\n  const [x1, y1] = p1;\n  return Math.sqrt((x0 - x1) ** 2 + (y0 - y1) ** 2);\n}\n\nfunction getAngle(p) {\n  const [x, y] = p;\n  return Math.atan2(y, x);\n}\n\nfunction getXY(angle, center, radius) {\n  return [\n    Math.cos(angle) * radius + center[0],\n    Math.sin(angle) * radius + center[1],\n  ];\n}\n\n/**\n * Custom shape for petal.\n */\nfunction petal({ offset = 1, ratio = 0.5 }, context) {\n  const { coordinate } = context;\n  return (points, value, defaults) => {\n    // 圆形坐标\n    const center = coordinate.getCenter();\n    // 1° 的偏移\n    const offsetAngle = (Math.PI / 180) * offset;\n    // eslint-disable-next-line\n    let [p0, p1, p2, p3] = points;\n    // 半径\n    const radius = dist(center, p0);\n    const qRadius = radius * ratio;\n    const angleQ1 = getAngle(sub(p3, center)) + offsetAngle;\n    const angleQ2 = getAngle(sub(p0, center)) - offsetAngle;\n\n    // 偏移 1° 后的 q1, q2\n    const q1 = getXY(angleQ1, center, qRadius);\n    const q2 = getXY(angleQ2, center, qRadius);\n\n    // 偏移 1° 后的 p3, p0\n    p3 = getXY(angleQ1, center, radius);\n    p0 = getXY(angleQ2, center, radius);\n\n    // mid 对应的角度为 p0 和 p3 中点的夹角\n    const angle = getAngle(sub(getPoint(p0, p3, 0.5), center));\n    const mid = getXY(angle, center, radius);\n\n    const path = [\n      ['M', ...p1],\n      ['L', ...q1],\n      ['Q', ...p3, ...mid],\n      ['Q', ...p0, ...q2],\n      ['L', ...p2],\n      ['Z'],\n    ];\n\n    const { document } = chart.getContext().canvas;\n    const g = document.createElement('g', {});\n    const p = document.createElement('path', {\n      style: {\n        d: path,\n        inset: 1,\n        fill: value.color,\n      },\n    });\n    g.appendChild(p);\n\n    return g;\n  };\n}\n",title:{zh:"花瓣图",en:"Petal Chart"},filename:"petal.ts",isNew:!1},{id:"messi",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*N6mYTas3VIgAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst FW = 600;\nconst FH = 400;\nconst P = 50;\n\nconst chart = new Chart({\n  container: 'container',\n  width: FW + P * 2,\n  height: FH + P * 2,\n  padding: P,\n});\n\n// Draw football field.\nchart.shape().style('x', '0%').style('y', '0%').style('render', football);\n\n// Analysis messi's shoot data.\nchart\n  .rect()\n  .data({\n    type: 'fetch',\n    value:\n      'https://mdn.alipayobjects.com/afts/file/A*FCRjT4NGENEAAAAAAAAAAAAADrd2AQ/messi.json',\n  })\n  .transform({\n    type: 'bin',\n    opacity: 'count',\n    thresholdsX: 15,\n    thresholdsY: 15,\n  })\n  .encode('x', (d) => Number(d.X))\n  .encode('y', (d) => Number(d.Y))\n  .scale('x', { domain: [0, 1] })\n  .scale('y', { domain: [0, 1] })\n  .axis(false)\n  .legend(false);\n\nchart.render();\n\n/**\n * Draw a football field.\n */\nfunction football(_, context) {\n  const { document } = context;\n\n  const g = document.createElement('g');\n  const r = document.createElement('rect', {\n    style: {\n      x: 0,\n      y: 0,\n      width: FW,\n      height: FH,\n      fill: 'green',\n      fillOpacity: 0.2,\n      stroke: 'grey',\n      lineWidth: 1,\n    },\n  });\n\n  const r1 = document.createElement('rect', {\n    style: {\n      x: FW - FH * 0.6 * 0.45,\n      y: (FH - FH * 0.6) / 2,\n      width: FH * 0.6 * 0.45,\n      height: FH * 0.6,\n      strokeOpacity: 0.5,\n      stroke: 'grey',\n      lineWidth: 1,\n    },\n  });\n\n  const r2 = document.createElement('rect', {\n    style: {\n      x: FW - FH * 0.3 * 0.45,\n      y: (FH - FH * 0.3) / 2,\n      width: FH * 0.3 * 0.45,\n      height: FH * 0.3,\n      strokeOpacity: 0.5,\n      stroke: 'grey',\n      lineWidth: 1,\n    },\n  });\n\n  const l = document.createElement('line', {\n    style: {\n      x1: FW / 2,\n      y1: 0,\n      x2: FW / 2,\n      y2: FH,\n      strokeOpacity: 0.4,\n      stroke: 'grey',\n      lineWidth: 2,\n    },\n  });\n\n  g.append(r);\n  g.append(r1);\n  g.append(r2);\n  g.append(l);\n\n  return g;\n}\n",title:{zh:"梅西射门分析",en:"Messi's shoot"},filename:"messi.ts",isNew:!1},{id:"25d-column",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*GThCTqSNiSkAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart, register } from '@antv/g2';\n\nregister('shape.interval.column25d', myColumn);\n\nconst data = [\n  { year: '1951 年', sales: 38 },\n  { year: '1952 年', sales: 52 },\n  { year: '1956 年', sales: 61 },\n  { year: '1957 年', sales: 145 },\n  { year: '1958 年', sales: 48 },\n  { year: '1959 年', sales: 38 },\n  { year: '1960 年', sales: 38 },\n  { year: '1962 年', sales: 38 },\n  { year: '1963 年', sales: 65 },\n  { year: '1964 年', sales: 122 },\n  { year: '1967 年', sales: 132 },\n  { year: '1968 年', sales: 144 },\n];\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nchart.data(data);\n\nchart\n  .interval()\n  .encode('x', 'year')\n  .encode('y', 'sales')\n  .style('shape', 'column25d')\n  .scale('x', { padding: 0.3 });\n\nchart.legend('year', {\n  width: 10,\n});\n\nchart.render();\n\n/**\n * Draw 2.5d column shape.\n */\nfunction myColumn({ fill, stroke }, context) {\n  return (points) => {\n    const x3 = points[1][0] - points[0][0];\n    const x4 = x3 / 2 + points[0][0];\n    const { document } = context;\n    const g = document.createElement('g', {});\n\n    const r = document.createElement('polygon', {\n      style: {\n        points: [\n          [points[0][0], points[0][1]],\n          [x4, points[1][1] + 8],\n          [x4, points[3][1] + 8],\n          [points[3][0], points[3][1]],\n        ],\n        fill: 'rgba(114, 177, 207, 0.5)',\n        stroke: 'rgba(0,0,0,0.1)',\n        strokeOpacity: 0.1,\n        inset: 30,\n      },\n    });\n\n    const p = document.createElement('polygon', {\n      style: {\n        points: [\n          [x4, points[1][1] + 8],\n          [points[1][0], points[1][1]],\n          [points[2][0], points[2][1]],\n          [x4, points[2][1] + 8],\n        ],\n        fill: 'rgba(126, 212, 236, 0.5)',\n        stroke: 'rgba(0,0,0,0.3)',\n        strokeOpacity: 0.1,\n      },\n    });\n\n    const t = document.createElement('polygon', {\n      style: {\n        points: [\n          [points[0][0], points[0][1]],\n          [x4, points[1][1] - 8],\n          [points[1][0], points[1][1]],\n          [x4, points[1][1] + 8],\n        ],\n        fill: 'rgba(173, 240, 255, 0.65)',\n      },\n    });\n\n    g.appendChild(r);\n    g.appendChild(p);\n    g.appendChild(t);\n\n    return g;\n  };\n}\n",title:{zh:"2.5D 柱形图",en:"2.5D Column"},filename:"25d-column.ts",isNew:!1},{id:"timeline",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*NUHAS79kw-kAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  paddingLeft: 60,\n  paddingRight: 60,\n  width: 1000,\n  height: 300,\n});\n\nconst data = [\n  {\n    year: 1788,\n    composition: 'Symphony No. 41 \"Jupiter\"',\n    composer: 'Wolfgang Amadeus Mozart',\n    link: 'https://en.wikipedia.org/wiki/Symphony_No._41_(Mozart)',\n  },\n  {\n    year: 1894,\n    composition: 'Prelude to the Afternoon of a Faun',\n    composer: 'Claude Debussy',\n    link: 'https://en.wikipedia.org/wiki/Pr%C3%A9lude_%C3%A0_l%27apr%C3%A8s-midi_d%27un_faune',\n  },\n  {\n    year: 1805,\n    composition: 'Symphony No. 3 \"Eroica\"',\n    composer: 'Ludwig van Beethoven',\n    link: 'https://en.wikipedia.org/wiki/Symphony_No._3_(Beethoven)',\n  },\n  {\n    year: 1913,\n    composition: 'Rite of Spring',\n    composer: 'Igor Stravinsky',\n    link: 'https://en.wikipedia.org/wiki/The_Rite_of_Spring',\n  },\n  {\n    year: 1741,\n    composition: 'Goldberg Variations',\n    composer: 'Johann Sebastian Bach',\n    link: 'https://en.wikipedia.org/wiki/Goldberg_Variations',\n  },\n  {\n    year: 1881,\n    composition: 'Piano Concerto No. 2',\n    composer: 'Johannes Brahms',\n    link: 'https://en.wikipedia.org/wiki/Piano_Concerto_No._2_(Brahms)',\n  },\n  {\n    year: 1826,\n    composition: 'A Midsummer Night\\'s Dream \"Overture\"',\n    composer: 'Felix Mendelssohn',\n    link: 'https://en.wikipedia.org/wiki/A_Midsummer_Night%27s_Dream_(Mendelssohn)',\n  },\n];\n\nchart.data(data);\n\nchart\n  .line()\n  .encode('x', 'year')\n  .encode('y', 1)\n  .style('lineWidth', 1)\n  .style('stroke', '#000')\n  .attr('zIndex', 1)\n  .label({\n    text: 'year',\n    dy: (d) => (d.year % 2 === 1 ? 8 : -4),\n    textAlign: 'center',\n    textBaseline: (d) => (d.year % 2 === 1 ? 'top' : 'bottom'),\n  })\n  .label({\n    text: (d) =>\n      d.composition + ` (${d.composer.slice(d.composer.lastIndexOf(' '))})`,\n    dy: (d) => (d.year % 2 === 0 ? 28 : -28),\n    textAlign: 'center',\n    textBaseline: (d) => (d.year % 2 === 0 ? 'top' : 'bottom'),\n    wordWrap: true,\n    wordWrapWidth: 120,\n    connector: true,\n  })\n  .axis(false);\n\nchart\n  .point()\n  .encode('x', 'year')\n  .encode('y', 1)\n  .attr('zIndex', 1)\n  .style('lineWidth', 1.5)\n  .style('stroke', '#000')\n  .style('fill', '#fff');\n\nchart.interaction('tooltip', false);\n\nchart.render();\n",title:{zh:"时间轴 Timeline",en:"Timeline"},filename:"timeline.ts",isNew:!1},{id:"national",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*8RvJQJzRMMsAAAAAAAAAAAAADmJ7AQ/fmt.webp",source:"import { Chart } from '@antv/g2';\n\nconst SIZE = 256;\n\nconst chart = new Chart({\n  container: 'container',\n  width: SIZE,\n  height: SIZE,\n});\n\nconst FLAG_TEMPLATE = [\n  'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FpxcQI7WEusAAAAAAAAAAAAADmJ7AQ/original',\n  'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rx6ST7V6cA0AAAAAAAAAAAAADmJ7AQ/original',\n  'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*7rKcTJiP1rMAAAAAAAAAAAAADmJ7AQ/original',\n  'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_GUISa64kgYAAAAAAAAAAAAADmJ7AQ/original',\n  'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Wwy8TJAoCeUAAAAAAAAAAAAADmJ7AQ/original',\n  'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DphFRIpOYWQAAAAAAAAAAAAADmJ7AQ/original',\n];\n\n// 换成你自己的，可以使用远程 CDN 地址，也可以使用 Base64 编码\nconst MY_PHOTO =\n  'https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*vYY6RrxEWKwAAAAAAAAAAAAADmJ7AQ/original';\n\nchart\n  .image()\n  .data([{ x: 0.5, y: 0.5 }])\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode('src', MY_PHOTO)\n  .encode('size', SIZE)\n  .axis(false)\n  .tooltip(false);\n\nchart\n  .image()\n  .data([{ x: 0.5, y: 0.5 }])\n  .encode('x', 'x')\n  .encode('y', 'y')\n  .encode(\n    'src',\n    () => FLAG_TEMPLATE[Math.floor(Math.random() * FLAG_TEMPLATE.length)],\n  )\n  .encode('size', SIZE)\n  .axis(false)\n  .tooltip(false);\n\nchart.render();\n",title:{zh:"国庆节头像",en:"National Image"},filename:"national.ts",isNew:!1}],icon:"",id:"interesting",title:{en:"Interesting",zh:"趣味可视化"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"style",title:{zh:"风格",en:"Style"},icon:"other",examples:[{demos:[{id:"dark",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*75B7Qov83a0AAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://nivo.rocks/pie/\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 500,\n  height: 400,\n});\n\nchart\n  .theme({\n    type: 'classicDark',\n    view: {\n      viewFill: '#141414',\n    },\n  }) // Apply dark theme.\n  .coordinate({ type: 'theta', innerRadius: 0.25, outerRadius: 0.8 });\n\nchart\n  .interval()\n  .data([\n    { id: 'c', value: 526 },\n    { id: 'sass', value: 220 },\n    { id: 'php', value: 325 },\n    { id: 'elixir', value: 561 },\n    { id: 'rust', value: 54 },\n  ])\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .encode('color', 'id')\n  .label({\n    text: 'value',\n    offset: 14,\n    fontWeight: 'bold',\n  })\n  .label({\n    text: 'id',\n    position: 'spider',\n    connectorDistance: 0,\n    fontWeight: 'bold',\n    textBaseline: 'bottom',\n    textAlign: (d) => (['c', 'sass'].includes(d.id) ? 'end' : 'start'),\n    dy: -4,\n  })\n  .style('radius', 4)\n  .style('inset', 1)\n  .animate('enter', { type: 'waveIn', duration: 1000 })\n  .legend(false);\n\nchart.render();\n",title:{zh:"暗色风格",en:"Dark Theme"},filename:"dark.ts",isNew:!1},{id:"academy",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*lin8SZ8z5fUAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://observablehq.com/@d3/stacked-horizontal-bar-chart\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\n// Apply academy theme.\nchart.theme({ type: 'academy' });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/f129b517-158d-41a9-83a3-3294d639b39e.csv',\n    format: 'csv',\n  })\n  .transform({ type: 'sortX', by: 'y', reverse: true, slice: 6 })\n  .transform({ type: 'dodgeX' })\n  .encode('x', 'state')\n  .encode('y', 'population')\n  .encode('color', 'age')\n  .axis('y', { labelFormatter: '~s' })\n  .axis('x', { zIndex: 1 });\n\nchart\n  .interaction('tooltip', { shared: true })\n  .interaction('elementHighlight', { background: true });\n\nchart.render();\n",title:{zh:"学术风格",en:"Academy Theme"},filename:"academy.ts",isNew:!1},{id:"layout-area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*IOiTQ47rrzwAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/circle_github_punchcard.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 240,\n  marginLeft: 40,\n  marginTop: 30,\n  marginRight: 20,\n  marginBottom: 10,\n  inset: 10,\n});\n\nchart.style({\n  viewFill: '#4e79a7',\n  plotFill: '#f28e2c',\n  mainFill: '#e15759',\n  contentFill: '#76b7b2',\n});\n\nchart\n  .point()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/commits.json',\n  })\n  .transform({ type: 'group', size: 'sum' })\n  .transform({ type: 'sortY' })\n  .axis('x', { title: 'time (hours)', tickCount: 24 })\n  .axis('y', { title: 'time (day)', grid: true })\n  .scale('y', { type: 'point' })\n  .encode('x', (d) => new Date(d.time).getUTCHours())\n  .encode('y', (d) => new Date(d.time).getUTCDay())\n  .encode('size', 'count')\n  .encode('shape', 'point')\n  .legend('size', false)\n  .style('shape', 'point')\n  .style('fill', '#59a14f');\n\nchart.render();\n",title:{zh:"视图模型",en:"Layout Area"},filename:"layout-area.ts",isNew:!1}],icon:"",id:"theme",title:{en:"Theme",zh:"主题"},api:null,childrenKey:"demos",order:1},{demos:[{id:"line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rWRtR4hZCAAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { Plugin } from '@antv/g-plugin-rough-canvas-renderer';\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n  google: {\n    families: ['Gaegu', 'Kalam', 'Caveat'],\n  },\n  active: () => {\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n      plugins: [new Plugin()],\n    });\n\n    chart\n      .line()\n      .data({\n        type: 'fetch',\n        value:\n          'https://gw.alipayobjects.com/os/bmw-prod/cb99c4ab-e0a3-4c76-9586-fe7fa2ff1a8c.csv',\n      })\n      .transform({ type: 'groupX', y: 'mean' })\n      .encode('x', (d) => new Date(d.date).getFullYear())\n      .encode('y', 'price')\n      .encode('color', 'symbol')\n      .label({\n        text: 'price',\n        transform: [{ type: 'overlapDodgeY' }],\n        fontSize: 10,\n        fontFamily: 'Gaegu',\n      })\n      .axis('x', {\n        tickStroke: '#cdcdcd',\n        gridStroke: '#efefef',\n        labelFontFamily: 'Gaegu',\n      })\n      .axis('y', {\n        tickStroke: '#cdcdcd',\n        gridStroke: '#efefef',\n        titleFontFamily: 'Gaegu',\n        labelFontFamily: 'Gaegu',\n      })\n      .legend('color', { itemLabelFontFamily: 'Gaegu' })\n      .style('roughness', 2);\n\n    chart.render();\n  },\n});\n",title:{zh:"手绘折线图",en:"Sketchy Line Chart"},filename:"line.ts",isNew:!1},{id:"point",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TZKwSI7nJXEAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { Plugin } from '@antv/g-plugin-rough-canvas-renderer';\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n  google: {\n    families: ['Gaegu', 'Kalam', 'Caveat'],\n  },\n  active: () => {\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n      plugins: [new Plugin()],\n    });\n\n    chart\n      .point()\n      .data({\n        type: 'fetch',\n        value:\n          'https://gw.alipayobjects.com/os/basement_prod/6b4aa721-b039-49b9-99d8-540b3f87d339.json',\n      })\n      .encode('x', 'height')\n      .encode('y', 'weight')\n      .encode('color', 'gender')\n      .axis('x', {\n        titleFontSize: 15,\n        titleFontFamily: 'Gaegu',\n        labelFontFamily: 'Gaegu',\n        tickStroke: '#cdcdcd',\n        gridStroke: '#efefef',\n      })\n      .axis('y', {\n        titleFontSize: 15,\n        titleFontFamily: 'Gaegu',\n        labelFontFamily: 'Gaegu',\n        tickStroke: '#cdcdcd',\n        gridStroke: '#efefef',\n      })\n      .legend('color', { itemLabelFontFamily: 'Gaegu' });\n\n    chart.render();\n  },\n});\n",title:{zh:"手绘散点图",en:"Sketchy Scatterplot"},filename:"point.ts",isNew:!1},{id:"interval",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*FYCJSaa_NBMAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { Plugin } from '@antv/g-plugin-rough-canvas-renderer';\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n  google: {\n    families: ['Gaegu', 'Kalam', 'Caveat'],\n  },\n  active: () => {\n    const chart = new Chart({\n      container: 'container',\n      autoFit: true,\n      paddingLeft: 60,\n      plugins: [new Plugin()],\n    });\n\n    chart\n      .interval()\n      .data([\n        { month: 'Jan.', profit: 387264, start: 0, end: 387264 },\n        { month: 'Feb.', profit: 772096, start: 387264, end: 1159360 },\n        { month: 'Mar.', profit: 638075, start: 1159360, end: 1797435 },\n        { month: 'Apr.', profit: -211386, start: 1797435, end: 1586049 },\n        { month: 'May', profit: -138135, start: 1586049, end: 1447914 },\n        { month: 'Jun', profit: -267238, start: 1447914, end: 1180676 },\n        { month: 'Jul.', profit: 431406, start: 1180676, end: 1612082 },\n        { month: 'Aug.', profit: 363018, start: 1612082, end: 1975100 },\n        { month: 'Sep.', profit: -224638, start: 1975100, end: 1750462 },\n        { month: 'Oct.', profit: -299867, start: 1750462, end: 1450595 },\n        { month: 'Nov.', profit: 607365, start: 1450595, end: 2057960 },\n        { month: 'Dec.', profit: 1106986, start: 2057960, end: 3164946 },\n        { month: 'Total', start: 0, end: 3164946 },\n      ])\n      .encode('x', 'month')\n      .encode('y', ['end', 'start'])\n      .encode('color', (d) =>\n        d.month === 'Total' ? 'Total' : d.profit > 0 ? 'Increase' : 'Decrease',\n      )\n      .style('lineWidth', 2)\n      .style('fillStyle', 'zigzag')\n      .axis('x', {\n        titleFontSize: 15,\n        titleFontFamily: 'Gaegu',\n        labelFontFamily: 'Gaegu',\n        tickStroke: '#cdcdcd',\n      })\n      .axis('y', {\n        labelFormatter: '~s',\n        titleFontSize: 15,\n        titleFontFamily: 'Gaegu',\n        labelFontFamily: 'Gaegu',\n        tickStroke: '#cdcdcd',\n        gridStroke: '#efefef',\n      })\n      .legend('color', { itemLabelFontFamily: 'Gaegu' });\n\n    chart.render();\n  },\n});\n",title:{zh:"手绘条形图",en:"Sketchy Bar Chart"},filename:"interval.ts",isNew:!1},{id:"radial",screenshot:"https://mdn.alipayobjects.com/mdn/huamei_qa8qxu/afts/img/A*kJuuQ47YUicAAAAAAAAAAAAADmJ7AQ",source:"import { Chart } from '@antv/g2';\nimport { Plugin } from '@antv/g-plugin-rough-canvas-renderer';\nimport WebFont from 'webfontloader';\n\nWebFont.load({\n  google: {\n    families: ['Gaegu', 'Kalam', 'Caveat'],\n  },\n  active: () => {\n    const chart = new Chart({\n      container: 'container',\n      height: 480,\n      plugins: [new Plugin()],\n    });\n\n    chart.coordinate({ type: 'theta' });\n\n    chart\n      .interval()\n      .transform({ type: 'stackY' })\n      .data({\n        type: 'fetch',\n        value:\n          'https://gw.alipayobjects.com/os/bmw-prod/79fd9317-d2af-4bc4-90fa-9d07357398fd.csv',\n      })\n      .encode('y', 'value')\n      .encode('color', 'name')\n      .scale('color', {\n        range: [\n          'hachure',\n          'solid',\n          'zigzag',\n          'cross-hatch',\n          'dots',\n          'dashed',\n          'zigzag-line',\n        ],\n      })\n      .style('fill', 'black')\n      .style('stroke', 'black')\n      .style('lineWidth', '4')\n      .style('colorAttribute', 'fillStyle')\n      .legend(false)\n      .label({\n        text: 'name',\n        radius: 0.8,\n        fontSize: 10,\n        fontWeight: 'bold',\n        fontFamily: 'Gaegu',\n        fill: 'black',\n        stroke: 'white',\n      })\n      .label({\n        text: (d, i, data) => (i < data.length - 3 ? d.value : ''),\n        radius: 0.8,\n        fontSize: 12,\n        fontFamily: 'Gaegu',\n        fill: 'black',\n        stroke: 'white',\n        dy: 8,\n      });\n\n    chart.render();\n  },\n});\n",title:{zh:"手绘饼图",en:"Sketchy Raidal Chart"},filename:"radial.ts",isNew:!1}],icon:"",id:"rough",title:{en:"Rough",zh:"手绘"},api:null,childrenKey:"demos",order:2},{demos:[{id:"lines-pattern",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*Pf4HQJPkQxYAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://nivo.rocks/pie/\n */\nimport { Chart } from '@antv/g2';\nimport { lines } from '@antv/g-pattern';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 500,\n  height: 400,\n});\n\nchart.coordinate({ type: 'theta', innerRadius: 0.25, outerRadius: 0.8 });\n\nconst colors = ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb'];\n\nchart\n  .interval()\n  .data([\n    { id: 'c', value: 526 },\n    { id: 'sass', value: 220 },\n    { id: 'php', value: 325 },\n    { id: 'elixir', value: 561 },\n    { id: 'rust', value: 54 },\n  ])\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .label({\n    text: 'id',\n    position: 'outside',\n    fontWeight: 'bold',\n  })\n  .style('radius', 6)\n  .style('stroke', '#fff')\n  .style('lineWidth', 4)\n  .style('fill', (_, idx) => {\n    return {\n      image: lines({\n        backgroundColor: colors[idx],\n        backgroundOpacity: 0.65,\n        stroke: colors[idx],\n        lineWidth: 4,\n        spacing: 5,\n      }),\n      repetition: 'repeat',\n      transform: 'rotate(30deg)',\n    };\n  })\n  .legend(false);\n\nchart.render();\n",title:{zh:"Lines Pattern",en:"Lines Pattern"},filename:"lines-pattern.ts",isNew:!1},{id:"dots-pattern",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*xqeOR6l10bUAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://nivo.rocks/pie/\n */\nimport { Chart } from '@antv/g2';\nimport { dots } from '@antv/g-pattern';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 500,\n  height: 400,\n});\n\nchart.coordinate({ type: 'theta', innerRadius: 0.25, outerRadius: 0.8 });\n\nconst colors = ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb'];\n\nchart\n  .interval()\n  .data([\n    { id: 'c', value: 526 },\n    { id: 'sass', value: 220 },\n    { id: 'php', value: 325 },\n    { id: 'elixir', value: 561 },\n    { id: 'rust', value: 54 },\n  ])\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .label({\n    text: 'id',\n    position: 'outside',\n    fontWeight: 'bold',\n  })\n  .style('radius', 6)\n  .style('stroke', '#fff')\n  .style('lineWidth', 4)\n  .style('fill', (_, idx) => {\n    return {\n      image: dots({\n        backgroundColor: colors[idx],\n        backgroundOpacity: 0.65,\n        fill: colors[idx],\n        size: 6,\n        padding: 2,\n        isStagger: true,\n      }),\n      repetition: 'repeat',\n      transform: 'rotate(30deg)',\n    };\n  })\n  .legend(false);\n\nchart.render();\n",title:{zh:"Dots Pattern",en:"Dots Pattern"},filename:"dots-pattern.ts",isNew:!1},{id:"squares-pattern",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*YFY0T5U18PEAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://nivo.rocks/pie/\n */\nimport { Chart } from '@antv/g2';\nimport { squares } from '@antv/g-pattern';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 500,\n  height: 400,\n});\n\nchart.coordinate({ type: 'theta', innerRadius: 0.25, outerRadius: 0.8 });\n\nconst colors = ['#e8c1a0', '#f47560', '#f1e15b', '#e8a838', '#61cdbb'];\n\nchart\n  .interval()\n  .data([\n    { id: 'c', value: 526 },\n    { id: 'sass', value: 220 },\n    { id: 'php', value: 325 },\n    { id: 'elixir', value: 561 },\n    { id: 'rust', value: 54 },\n  ])\n  .transform({ type: 'stackY' })\n  .encode('y', 'value')\n  .label({\n    text: 'id',\n    position: 'outside',\n    fontWeight: 'bold',\n  })\n  .style('radius', 6)\n  .style('stroke', '#fff')\n  .style('lineWidth', 4)\n  .style('fill', (_, idx) => {\n    return {\n      image: squares({\n        fill: colors[idx],\n        size: 6,\n        padding: 0,\n      }),\n      repetition: 'repeat',\n      transform: 'rotate(30deg)',\n    };\n  })\n  .legend(false);\n\nchart.render();\n",title:{zh:"Squares Pattern",en:"Squares Pattern"},filename:"squares-pattern.ts",isNew:!1},{id:"custom-pattern-with-g-api",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*W33JRoaMGPoAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://g2plot.antv.antgroup.com/examples/plugin/pattern/#heatmap-cookie-pattern\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 550,\n  height: 500,\n  paddingBottom: 80,\n});\n\n// create pattern with G API\nconst createPattern = (\n  document,\n  color,\n  stroke,\n  cross = false,\n  density = false,\n) => {\n  const spacing = density ? 3 : 5;\n  const width = Math.abs(spacing / Math.sin(Math.PI / 4));\n  const height = spacing / Math.sin(Math.PI / 4);\n\n  const background = document.createElement('rect', {\n    style: {\n      width,\n      height,\n      fill: color,\n    },\n  });\n\n  const line = document.createElement('path', {\n    style: {\n      d: `\n         M 0 ${-height} L ${width * 2} ${height}\n         M ${-width} ${-height} L ${width} ${height}\n         M ${-width} 0 L ${width} ${height * 2}`,\n      stroke,\n      lineWidth: 1,\n      strokeOpacity: 0.9,\n    },\n  });\n  background.appendChild(line);\n\n  if (cross) {\n    const crossLine = document.createElement('path', {\n      style: {\n        d: `\n           M ${-width} ${height} L ${width} ${-height}\n           M ${-width} ${height * 2} L ${width * 2} ${-height}\n           M 0 ${height * 2} L ${width * 2} 0`,\n        stroke,\n        lineWidth: 1,\n        strokeOpacity: 0.9,\n      },\n    });\n    background.appendChild(crossLine);\n  }\n\n  return background;\n};\n// create patterns before chart gets rendered\nlet pattern1;\nlet pattern2;\nlet pattern3;\nchart.on('beforerender', () => {\n  const { document } = chart.getContext().canvas;\n  pattern1 = createPattern(document, '#edaa53', '#44120c', true, true);\n  pattern2 = createPattern(document, '#edaa53', '#44120c', true);\n  pattern3 = createPattern(document, '#edaa53', '#fff');\n});\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/68d3f380-089e-4683-ab9e-4493200198f9.json',\n  })\n  .encode('x', 'name')\n  .encode('y', 'country')\n  .encode('color', '#edaa53')\n  .style('radius', Infinity)\n  .style('inset', 1)\n  .style('shadowBlur', 10)\n  .style('shadowColor', 'rgba(0,0,0,0.3)')\n  .style('fill', ({ value }) => {\n    return {\n      image:\n        60 <= value && value < 90\n          ? pattern1\n          : value >= 50\n          ? pattern2\n          : pattern3,\n      repetition: 'repeat',\n    };\n  })\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"使用 G API 自定义 Pattern",en:"Custom Pattern with G API"},filename:"custom-pattern-with-g-api.ts",isNew:!1},{id:"custom-pattern-with-canvas",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*W33JRoaMGPoAAAAAAAAAAAAADmJ7AQ/original",source:"/**\n * A recreation of this demo: https://g2plot.antv.antgroup.com/examples/plugin/pattern/#heatmap-cookie-pattern\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  width: 550,\n  height: 500,\n  paddingBottom: 80,\n});\n\nfunction applyStyle(ctx, style) {\n  return Object.entries(style).forEach(([k, v]) => (ctx[k] = v));\n}\n\nfunction createCanvas(w, h) {\n  const canvas = document.createElement('canvas');\n  const dpr = window.devicePixelRatio;\n  canvas.width = w * dpr;\n  canvas.height = h * dpr;\n  canvas.style.width = `${w}px`;\n  canvas.style.height = `${h}px`;\n  canvas.getContext('2d').scale(dpr, dpr);\n\n  return canvas;\n}\n\nfunction drawRect(ctx, w, h, fill) {\n  applyStyle(ctx, { fillStyle: fill });\n  ctx.fillRect(0, 0, w, h);\n}\n\nfunction drawLinePattern(ctx, color, width, height, cross = false) {\n  applyStyle(ctx, { globalAlpha: 1, strokeStyle: color, strokeOpacity: 0.9 });\n  applyStyle(ctx, { lineWidth: 0.5, lineCap: 'square' });\n\n  const d = `\n       M 0 ${-height} L ${width * 2} ${height}\n       M ${-width} ${-height} L ${width} ${height}\n       M ${-width} 0 L ${width} ${height * 2}`;\n  ctx.stroke(new Path2D(d));\n\n  if (cross) {\n    const d1 = `\n         M ${-width} ${height} L ${width} ${-height}\n         M ${-width} ${height * 2} L ${width * 2} ${-height}\n         M 0 ${height * 2} L ${width * 2} 0`;\n    ctx.stroke(new Path2D(d1));\n  }\n}\n\n// create pattern with raw Canvas API\nconst createPattern = (color, stroke, cross = false, density = false) => {\n  const spacing = density ? 3 : 5;\n  const width = Math.abs(spacing / Math.sin(Math.PI / 4));\n  const height = spacing / Math.sin(Math.PI / 4);\n\n  const canvas = createCanvas(width, height);\n  const ctx = canvas.getContext('2d');\n\n  drawRect(ctx, width, height, color);\n  drawLinePattern(ctx, stroke, width, height, cross);\n\n  return canvas;\n};\n\nconst pattern1 = createPattern('#edaa53', '#44120c', true, true);\nconst pattern2 = createPattern('#edaa53', '#44120c', true);\nconst pattern3 = createPattern('#edaa53', '#fff');\n\nchart\n  .cell()\n  .data({\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/68d3f380-089e-4683-ab9e-4493200198f9.json',\n  })\n  .encode('x', 'name')\n  .encode('y', 'country')\n  .encode('color', '#edaa53')\n  .style('radius', Infinity)\n  .style('inset', 1)\n  .style('shadowBlur', 10)\n  .style('shadowColor', 'rgba(0,0,0,0.3)')\n  .style('fill', ({ value }) => {\n    return {\n      image:\n        60 <= value && value < 90\n          ? pattern1\n          : value >= 50\n          ? pattern2\n          : pattern3,\n      repetition: 'repeat',\n    };\n  })\n  .animate('enter', { type: 'fadeIn' });\n\nchart.render();\n",title:{zh:"使用原生 Canvas API 自定义 Pattern",en:"Custom Pattern with raw Canvas API"},filename:"custom-pattern-with-canvas.ts",isNew:!1}],icon:"",id:"pattern",title:{en:"Pattern",zh:"纹理"},api:null,childrenKey:"demos",order:3},{demos:[{id:"mark",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*_GwNQrho0KsAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\n\nchart.options({\n  type: 'interval',\n  data: [\n    { genre: 'Sports', sold: 30 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ],\n  encode: { x: 'genre', y: 'sold' },\n  style: {\n    fill: 'skyblue',\n    fillOpacity: 0.5,\n    stroke: 'black',\n    lineWidth: 1,\n    lineDash: [4, 5],\n    strokeOpacity: 0.7,\n    opacity: 0.9,\n    shadowColor: 'black',\n    shadowBlur: 10,\n    shadowOffsetX: 5,\n    shadowOffsetY: 5,\n    cursor: 'pointer',\n  },\n});\n\nchart.render();\n",title:{zh:"配置图形样式",en:"Configure Mark Styles  "},filename:"mark.ts",isNew:!1},{id:"line",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*fGWwRrW7YVAAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\n\nchart.options({\n  type: 'line',\n  data: [\n    { year: '1991', value: 3 },\n    { year: '1992', value: 4 },\n    { year: '1993', value: 3.5 },\n    { year: '1994', value: 5 },\n    { year: '1995', value: 4.9 },\n    { year: '1996', value: 6 },\n    { year: '1997', value: 7 },\n    { year: '1998', value: 9 },\n    { year: '1999', value: 13 },\n  ],\n  encode: { x: 'year', y: 'value' },\n  scale: { x: { range: [0, 1] }, y: { domainMin: 0, nice: true } },\n  style: {\n    stroke: 'skyblue',\n    strokeOpacity: 0.9,\n    lineWidth: 4,\n    lineDash: [4, 8],\n    opacity: 0.9,\n    shadowColor: '#d3d3d3',\n    shadowBlur: 10,\n    shadowOffsetX: 10,\n    shadowOffsetY: 10,\n    cursor: 'pointer',\n  },\n});\n\nchart.render();\n",title:{zh:"配置线的样式",en:"Configure Line Styles  "},filename:"line.ts",isNew:!1},{id:"text",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*1-LmT6hPPvkAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 350,\n});\n\nchart.options({\n  type: 'liquid',\n  autoFit: true,\n  data: 0.581,\n  style: {\n    waveLength: 50,\n    contentText: 'center text',\n    outlineBorder: 4,\n    outlineDistance: 8,\n    // 绘图属性\n    contentFontSize: 30,\n    contentFontFamily: 'sans-serif',\n    contentFontWeight: 500,\n    contentLineHeight: 20,\n    contentTextAlign: 'center',\n    contentTextBaseline: 'middle',\n    contentFill: '#fff',\n    contentFillOpacity: 0.9,\n    contentStroke: 'yellow',\n    contentStrokeOpacity: 0.9,\n    contentLineWidth: 2,\n    contentLineDash: [4, 8],\n    contentOpacity: 1,\n    contentShadowColor: '#d3d3d3',\n    contentShadowBlur: 10,\n    contentShadowOffsetX: 10,\n    contentShadowOffsetY: 10,\n    contentCursor: 'pointer',\n    contentDx: 10,\n    contentDy: 10,\n  },\n});\n\nchart.render();\n",title:{zh:"配置文字的样式",en:"Configure Text Styles  "},filename:"text.ts",isNew:!1},{id:"area",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ETulQ6cCQo4AAAAAAAAAAAAAemJ7AQ/original",source:"/**\n * A recreation of this demo: https://vega.github.io/vega-lite/examples/area_gradient.html\n */\nimport { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 350,\n});\n\nchart.options({\n  type: 'view',\n  autoFit: true,\n  data: {\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/stocks.json',\n    transform: [{ type: 'filter', callback: (d) => d.symbol === 'GOOG' }],\n  },\n  children: [\n    {\n      type: 'area',\n      encode: { x: (d) => new Date(d.date), y: 'price' },\n      style: { fill: 'l(270) 0:#ffffff 0.5:#7ec2f3 1:#1890ff' },\n      // style: { fill: \"linear-gradient(270deg, #ffffff 0%, #7ec2f3 50%, #1890ff 100%)\" },\n    },\n  ],\n});\n\nchart.render();\n",title:{zh:"配置线性渐变-面积图",en:"Configure Linear-gradient Area  "},filename:"area.ts",isNew:!1},{id:"gauge",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*DvbdR6P2XNkAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  height: 350,\n});\n\nchart.options({\n  type: 'gauge',\n  data: {\n    value: { target: 159, total: 400, name: 'score', thresholds: [200, 400] },\n  },\n  scale: {\n    color: { range: ['l(0):0:#37b38e 1:#D9C652', 'l(0):0:#D9C652 1:#f96e3e'] },\n  },\n  style: {\n    textContent: (target, total) => `得分：${target}\n占比：${(target / total) * 100}%`,\n  },\n  legend: false,\n});\n\nchart.render();\n",title:{zh:"配置线性渐变-仪表盘",en:"Configure Linear-gradient Gauge  "},filename:"gauge.ts",isNew:!1},{id:"radial-gradient",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*rM0yTpUiYo0AAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\n\nchart.options({\n  type: 'interval',\n  height: 350,\n  data: [\n    { genre: 'Sports', sold: 30 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ],\n  encode: { x: 'genre', y: 'sold' },\n  style: {\n    fill: 'r(0.5, 0.5, 0.1) 0:#ffffff 1:#1890ff',\n  },\n});\n\nchart.render();\n",title:{zh:"配置环形渐变",en:"Configure Radial-gradient  "},filename:"radial-gradient.ts",isNew:!1},{id:"pattern",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*9QtbQaPhu5AAAAAAAAAAAAAAemJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({ container: 'container', height: 350 });\n\nchart.options({\n  type: 'interval',\n  height: 350,\n  data: [\n    { genre: 'Sports', sold: 30 },\n    { genre: 'Strategy', sold: 115 },\n    { genre: 'Action', sold: 120 },\n    { genre: 'Shooter', sold: 350 },\n    { genre: 'Other', sold: 150 },\n  ],\n  encode: { x: 'genre', y: 'sold' },\n  style: {\n    fill: 'p(a)https://gw.alipayobjects.com/mdn/rms_d314dd/afts/img/A*58XjQY1tO7gAAAAAAAAAAABkARQnAQ',\n  },\n});\n\nchart.render();\n",title:{zh:"配置纹理",en:"Configure pattern  "},filename:"pattern.ts",isNew:!1}],icon:"",id:"graphic",title:{en:"Graphic",zh:"绘图属性"},api:null,childrenKey:"demos",order:4}],childrenKey:"examples"},{id:"renderer",title:{zh:"渲染器",en:"Renderer"},icon:"other",examples:[{demos:[{id:"canvas",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*vai7QIfDI_AAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n});\n\nconst flex = chart\n  .spaceFlex()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/seattle-weather.json',\n  })\n  .attr('direction', 'col')\n  .attr('ratio', [1, 1]);\n\nconst flex1 = flex.spaceFlex().attr('direction', 'row').attr('ratio', [1, 1]);\n\nflex1\n  .interval()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', 'precipitation');\n\nflex1\n  .line()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', 'wind')\n  .encode('shape', 'smooth');\n\nconst flex2 = flex.spaceFlex().attr('direction', 'row').attr('ratio', [1, 1]);\n\nflex2\n  .area()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', ['temp_min', 'temp_max'])\n  .encode('shape', 'smooth');\n\nflex2\n  .point()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', 'temp_min')\n  .encode('y', 'temp_max')\n  .encode('shape', 'point');\n\nchart.render();\n",title:{zh:"Canvas 渲染器",en:"Canvas Renderer"},filename:"canvas.ts",isNew:!1},{id:"svg",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*ZJB1TZ0REDAAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { Renderer } from '@antv/g-svg';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  renderer: new Renderer(),\n});\n\nconst flex = chart\n  .spaceFlex()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/seattle-weather.json',\n  })\n  .attr('direction', 'col')\n  .attr('ratio', [1, 1]);\n\nconst flex1 = flex.spaceFlex().attr('direction', 'row').attr('ratio', [1, 1]);\n\nflex1\n  .interval()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', 'precipitation');\n\nflex1\n  .line()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', 'wind')\n  .encode('shape', 'smooth');\n\nconst flex2 = flex.spaceFlex().attr('direction', 'row').attr('ratio', [1, 1]);\n\nflex2\n  .area()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', ['temp_min', 'temp_max'])\n  .encode('shape', 'smooth');\n\nflex2\n  .point()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', 'temp_min')\n  .encode('y', 'temp_max')\n  .encode('shape', 'point');\n\nchart.render();\n",title:{zh:"SVG 渲染器",en:"SVG Renderer"},filename:"svg.ts",isNew:!1},{id:"webgl",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*l504TZE8laUAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { Renderer } from '@antv/g-webgl';\n\nconst chart = new Chart({\n  container: 'container',\n  autoFit: true,\n  renderer: new Renderer(),\n});\n\nconst flex = chart\n  .spaceFlex()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/seattle-weather.json',\n  })\n  .attr('direction', 'col')\n  .attr('ratio', [1, 1]);\n\nconst flex1 = flex.spaceFlex().attr('direction', 'row').attr('ratio', [1, 1]);\n\nflex1\n  .interval()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', 'precipitation');\n\nflex1\n  .line()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', 'wind')\n  .encode('shape', 'smooth');\n\nconst flex2 = flex.spaceFlex().attr('direction', 'row').attr('ratio', [1, 1]);\n\nflex2\n  .area()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', (d) => new Date(d.date).getUTCMonth())\n  .encode('y', ['temp_min', 'temp_max'])\n  .encode('shape', 'smooth');\n\nflex2\n  .point()\n  .transform({ type: 'groupX', y: 'mean' })\n  .encode('x', 'temp_min')\n  .encode('y', 'temp_max')\n  .encode('shape', 'point');\n\nchart.render();\n",title:{zh:"WebGL 渲染器",en:"WebGL Renderer"},filename:"webgl.ts",isNew:!1}],icon:"",id:"renderer",title:{en:"Renderer",zh:"渲染器"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"},{id:"accessible",title:{zh:"无障碍",en:"Accessible"},icon:"other",examples:[{demos:[{id:"text-search",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*TehBRbDnoIkAAAAAAAAAAAAADmJ7AQ/original",source:"import { Chart } from '@antv/g2';\nimport { Plugin } from '@antv/g-plugin-a11y';\n\nconst plugin = new Plugin({ enableExtractingText: true });\n\nconst labelFormatter = (d) => Math.abs(d) + (d < 0 ? 'BC' : d > 0 ? 'AC' : '');\nconst left = (d) => d.end > -1500 && d.start > -3000;\n\nconst chart = new Chart({\n  container: 'container',\n  width: 900,\n  height: 1000,\n  plugins: [plugin],\n});\n\nchart.coordinate({ transform: [{ type: 'transpose' }] });\n\nchart\n  .interval()\n  .data({\n    type: 'fetch',\n    value: 'https://assets.antv.antgroup.com/g2/world-history.json',\n  })\n  .transform({ type: 'sortX', by: 'y' })\n  .transform({ type: 'sortColor', by: 'y', reducer: 'min' })\n  .axis('x', false)\n  .encode('x', 'civilization')\n  .encode('y', ['start', 'end'])\n  .encode('color', 'region')\n  .scale('color', { palette: 'set2' })\n  .label({\n    text: 'civilization',\n    position: (d) => (left(d) ? 'left' : 'right'),\n    textAlign: (d) => (left(d) ? 'end' : 'start'),\n    dx: (d) => (left(d) ? -5 : 5),\n    fontSize: 10,\n  })\n  .tooltip([\n    { name: 'start', field: 'start', valueFormatter: labelFormatter },\n    { name: 'end', field: 'end', valueFormatter: labelFormatter },\n  ]);\n\nchart.render();\n",title:{zh:"Ctrl/⌘+F 文本搜索",en:"Search text by Ctrl/⌘+F"},filename:"text-search.ts",isNew:!1}],icon:"",id:"text-searching",title:{en:"Search",zh:"文本搜索"},api:null,childrenKey:"demos",order:4}],childrenKey:"examples"},{id:"expr",title:{zh:"Spec 函数表达式 (beta)",en:"Spec Function Expression (beta)"},icon:"other",examples:[{demos:[{id:"expr",screenshot:"https://mdn.alipayobjects.com/huamei_qa8qxu/afts/img/A*AV7LSoHMiWUAAAAAAAAAAAAAemJ7AQ/fmt.avif",source:"import { Chart } from '@antv/g2';\n\nconst chart = new Chart({\n  container: 'container',\n});\n\nconst spec = {\n  type: 'spaceLayer',\n  height: 840,\n  width: 640,\n  data: {\n    type: 'fetch',\n    value:\n      'https://gw.alipayobjects.com/os/bmw-prod/79fd9317-d2af-4bc4-90fa-9d07357398fd.csv',\n    format: 'csv',\n  },\n  children: [\n    {\n      type: 'interval',\n      height: 360,\n      width: 360,\n      legend: false,\n      x: 280,\n      transform: [{ type: 'stackY' }],\n      coordinate: { type: 'theta' },\n      scale: {\n        color: { palette: 'spectral' },\n      },\n      encode: {\n        y: 'value',\n        color: 'name',\n        enterDelay: '{a.value>10000000 ? a.value>20000000 ? 2000 : 1000 : 0}',\n      },\n      style: {\n        stroke: '{ a.value>20000000 ? \"purple\" : null}',\n      },\n      labels: [\n        {\n          text: '{\"*\" + a.name}',\n          radius: '{a.value>15000000 ? a.value>20000000 ? 0.6 : 0.75 : 0.9}',\n          style: {\n            fontSize: '{a.value>15000000 ? a.value>20000000 ? 12 : 10 : 6}',\n            fontWeight: 'bold',\n          },\n          transform: [{ type: 'contrastReverse' }],\n        },\n        {\n          text: '{b < c.length - 3 ? a.value : \"\"}',\n          radius: '{a.value>15000000 ? a.value>20000000 ? 0.6 : 0.75 : 0.9}',\n          style: { fontSize: 9, dy: 12 },\n          transform: [{ type: 'contrastReverse' }],\n        },\n      ],\n      animate: { enter: { type: 'waveIn', duration: 600 } },\n    },\n    {\n      type: 'view',\n      height: 400,\n      width: 540,\n      y: 300,\n      children: [\n        {\n          type: 'interval',\n          height: 400,\n          width: 540,\n          legend: false,\n          y: 300,\n          scale: {\n            color: { palette: 'spectral' },\n          },\n          encode: {\n            y: 'value',\n            x: 'name',\n            color: 'name',\n            enterDelay:\n              '{a.value>10000000 ? a.value>20000000 ? 2000 : 1000 : 0}',\n          },\n        },\n        {\n          type: 'line',\n          height: 400,\n          width: 540,\n          legend: false,\n          y: 300,\n          encode: { x: 'name', y: 'value' },\n          scale: { y: { independent: true } },\n          labels: [\n            {\n              text: '{a.value}',\n              selector: '{a}',\n            },\n          ],\n          axis: {\n            y: {\n              position: 'right',\n              grid: null,\n            },\n          },\n        },\n      ],\n    },\n  ],\n};\n\nchart.options(spec);\n\nchart.render();\n",title:{zh:"Spec 函数表达式",en:"Spec Function Expression"},filename:"expr.ts",isNew:!1}],icon:"",id:"base",title:{en:"Spec Function Expression",zh:"Spec 函数表达式"},api:null,childrenKey:"demos",order:1}],childrenKey:"examples"}]}},children:n})}}}]);