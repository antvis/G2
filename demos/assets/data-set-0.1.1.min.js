!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):n.DataSet=t()}(this,function(){"use strict";function n(n,t){return t={exports:{}},n(t,t.exports),t.exports}function t(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function r(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function e(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function o(n){var t=this.__data__=new kf(n);this.size=t.size}function i(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new $f;++t<r;)this.add(n[t])}function u(n,t,r,e,o){return n===t||(null==n||null==t||!cf(n)&&!cf(t)?n!==n&&t!==t:Hl(n,t,r,e,u,o))}function a(n,t){if("function"!=typeof n||null!=t&&"function"!=typeof t)throw new TypeError(us);var r=function(){var e=arguments,o=t?t.apply(this,e):e[0],i=r.cache;if(i.has(o))return i.get(o);var u=n.apply(this,e);return r.cache=i.set(o,u)||i,u};return r.cache=new(a.Cache||$f),r}function c(n){if("string"==typeof n)return n;if(gf(n))return hs(n,c)+"";if(rs(n))return ds?ds.call(n):"";var t=n+"";return"0"==t&&1/n==-vs?"-0":t}function f(){this.reset()}function l(n,t,r){var e=n.s=t+r,o=e-t,i=e-o;n.t=t-i+(r-o)}function s(n){return n>1?0:n<-1?mp:Math.acos(n)}function p(n){return n>1?wp:n<-1?-wp:Math.asin(n)}function h(n){return(n=Np(n/2))*n}function v(){}function g(n,t){n&&qp.hasOwnProperty(n.type)&&qp[n.type](n,t)}function d(n,t,r){var e,o=-1,i=n.length-r;for(t.lineStart();++o<i;)e=n[o],t.point(e[0],e[1],e[2]);t.lineEnd()}function y(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)d(n[r],t,1);t.polygonEnd()}function m(){Dp.point=E}function w(){b(Is,Fs)}function E(n,t){Dp.point=b,Is=n,Fs=t,Ds=n*=Mp,Gs=Cp(t=(t*=Mp)/2+Ep),Us=Np(t)}function b(n,t){t=(t*=Mp)/2+Ep;var r=(n*=Mp)-Ds,e=r>=0?1:-1,o=e*r,i=Cp(t),u=Np(t),a=Us*u,c=Gs*i+a*Cp(o),f=a*e*Np(o);Ip.add(Tp(f,c)),Ds=n,Gs=i,Us=u}function x(n){return[Tp(n[1],n[0]),p(n[2])]}function M(n){var t=n[0],r=n[1],e=Cp(r);return[e*Cp(t),e*Np(t),Np(r)]}function S(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function _(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function T(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function C(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function j(n){var t=Op(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function P(n,t){Xs.push(Ys=[Vs=n,Hs=n]),t<$s&&($s=t),t>Ws&&(Ws=t)}function A(n,t){var r=M([n*Mp,t*Mp]);if(Ks){var e=_(Ks,r),o=_([e[1],-e[0],0],e);j(o),o=x(o);var i,u=n-Qs,a=u>0?1:-1,c=o[0]*xp*a,f=Sp(u)>180;f^(a*Qs<c&&c<a*n)?(i=o[1]*xp)>Ws&&(Ws=i):(c=(c+360)%360-180,f^(a*Qs<c&&c<a*n)?(i=-o[1]*xp)<$s&&($s=i):(t<$s&&($s=t),t>Ws&&(Ws=t))),f?n<Qs?z(Vs,n)>z(Vs,Hs)&&(Hs=n):z(n,Hs)>z(Vs,Hs)&&(Vs=n):Hs>=Vs?(n<Vs&&(Vs=n),n>Hs&&(Hs=n)):n>Qs?z(Vs,n)>z(Vs,Hs)&&(Hs=n):z(n,Hs)>z(Vs,Hs)&&(Vs=n)}else Xs.push(Ys=[Vs=n,Hs=n]);t<$s&&($s=t),t>Ws&&(Ws=t),Ks=r,Qs=n}function R(){Up.point=A}function N(){Ys[0]=Vs,Ys[1]=Hs,Up.point=P,Ks=null}function L(n,t){if(Ks){var r=n-Qs;Gp.add(Sp(r)>180?r+(r>0?360:-360):r)}else Js=n,Zs=t;Dp.point(n,t),A(n,t)}function O(){Dp.lineStart()}function k(){L(Js,Zs),Dp.lineEnd(),Sp(Gp)>yp&&(Vs=-(Hs=180)),Ys[0]=Vs,Ys[1]=Hs,Ks=null}function z(n,t){return(t-=n)<0?t+360:t}function q(n,t){return n[0]-t[0]}function B(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function I(n,t){n*=Mp;var r=Cp(t*=Mp);F(r*Cp(n),r*Np(n),Np(t))}function F(n,t,r){rp+=(n-rp)/++np,ep+=(t-ep)/np,op+=(r-op)/np}function D(){$p.point=G}function G(n,t){n*=Mp;var r=Cp(t*=Mp);hp=r*Cp(n),vp=r*Np(n),gp=Np(t),$p.point=U,F(hp,vp,gp)}function U(n,t){n*=Mp;var r=Cp(t*=Mp),e=r*Cp(n),o=r*Np(n),i=Np(t),u=Tp(Op((u=vp*i-gp*o)*u+(u=gp*e-hp*i)*u+(u=hp*o-vp*e)*u),hp*e+vp*o+gp*i);tp+=u,ip+=u*(hp+(hp=e)),up+=u*(vp+(vp=o)),ap+=u*(gp+(gp=i)),F(hp,vp,gp)}function V(){$p.point=I}function $(){$p.point=W}function H(){Q(sp,pp),$p.point=I}function W(n,t){sp=n,pp=t,n*=Mp,t*=Mp,$p.point=Q;var r=Cp(t);hp=r*Cp(n),vp=r*Np(n),gp=Np(t),F(hp,vp,gp)}function Q(n,t){n*=Mp;var r=Cp(t*=Mp),e=r*Cp(n),o=r*Np(n),i=Np(t),u=vp*i-gp*o,a=gp*e-hp*i,c=hp*o-vp*e,f=Op(u*u+a*a+c*c),l=p(f),s=f&&-l/f;cp+=s*u,fp+=s*a,lp+=s*c,tp+=l,ip+=l*(hp+(hp=e)),up+=l*(vp+(vp=o)),ap+=l*(gp+(gp=i)),F(hp,vp,gp)}function J(n,t){return[n>mp?n-bp:n<-mp?n+bp:n,t]}function Z(n,t,r){return(n%=bp)?t||r?Qp(X(n),Y(t,r)):X(n):t||r?Y(t,r):J}function K(n){return function(t,r){return t+=n,[t>mp?t-bp:t<-mp?t+bp:t,r]}}function X(n){var t=K(n);return t.invert=K(-n),t}function Y(n,t){function r(n,t){var r=Cp(t),a=Cp(n)*r,c=Np(n)*r,f=Np(t),l=f*e+a*o;return[Tp(c*i-l*u,a*e-f*o),p(l*i+c*u)]}var e=Cp(n),o=Np(n),i=Cp(t),u=Np(t);return r.invert=function(n,t){var r=Cp(t),a=Cp(n)*r,c=Np(n)*r,f=Np(t),l=f*i-c*u;return[Tp(c*i+f*u,a*e+l*o),p(l*e-a*o)]},r}function nn(n,t,r,e,o,i){if(r){var u=Cp(t),a=Np(t),c=e*r;null==o?(o=t+e*bp,i=t-c/2):(o=tn(u,o),i=tn(u,i),(e>0?o<i:o>i)&&(o+=e*bp));for(var f,l=o;e>0?l>i:l<i;l-=c)f=x([u,-a*Cp(l),-a*Np(l)]),n.point(f[0],f[1])}}function tn(n,t){(t=M(t))[0]-=n,j(t);var r=s(-t[1]);return((-t[2]<0?-r:r)+bp-yp)%bp}function rn(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function en(n){if(t=n.length){for(var t,r,e=0,o=n[0];++e<t;)o.n=r=n[e],r.p=o,o=r;o.n=r=n[0],r.p=o}}function on(n){return function(t,r){return ph(n(t),r)}}function un(n,t){return[n,t]}function an(n,t,r){var e=(t-n)/Math.max(0,r),o=Math.floor(Math.log(e)/Math.LN10),i=e/Math.pow(10,o);return o>=0?(i>=Ch?10:i>=jh?5:i>=Ph?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(i>=Ch?10:i>=jh?5:i>=Ph?2:1)}function cn(n,t,r){var e=Math.abs(t-n)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),i=e/o;return i>=Ch?o*=10:i>=jh?o*=5:i>=Ph&&(o*=2),t<n?-o:o}function fn(n){return n.length}function ln(n,t,r,e){function o(o,i){return n<=o&&o<=r&&t<=i&&i<=e}function i(o,i,a,f){var l=0,s=0;if(null==o||(l=u(o,a))!==(s=u(i,a))||c(o,i)<0^a>0)do{f.point(0===l||3===l?n:r,l>1?e:t)}while((l=(l+a+4)%4)!==s);else f.point(i[0],i[1])}function u(e,o){return Sp(e[0]-n)<yp?o>0?0:3:Sp(e[0]-r)<yp?o>0?2:1:Sp(e[1]-t)<yp?o>0?1:0:o>0?3:2}function a(n,t){return c(n.x,t.x)}function c(n,t){var r=u(n,1),e=u(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(u){function c(n,t){o(n,t)&&x.point(n,t)}function f(){for(var t=0,r=0,o=p.length;r<o;++r)for(var i,u,a=p[r],c=1,f=a.length,l=a[0],s=l[0],h=l[1];c<f;++c)i=s,u=h,s=(l=a[c])[0],h=l[1],u<=e?h>e&&(s-i)*(e-u)>(h-u)*(n-i)&&++t:h<=e&&(s-i)*(e-u)<(h-u)*(n-i)&&--t;return t}function l(i,u){var a=o(i,u);if(p&&h.push([i,u]),E)v=i,g=u,d=a,E=!1,a&&(x.lineStart(),x.point(i,u));else if(a&&w)x.point(i,u);else{var c=[y=Math.max(qh,Math.min(zh,y)),m=Math.max(qh,Math.min(zh,m))],f=[i=Math.max(qh,Math.min(zh,i)),u=Math.max(qh,Math.min(zh,u))];fh(c,f,n,t,r,e)?(w||(x.lineStart(),x.point(c[0],c[1])),x.point(f[0],f[1]),a||x.lineEnd(),b=!1):a&&(x.lineStart(),x.point(i,u),b=!1)}y=i,m=u,w=a}var s,p,h,v,g,d,y,m,w,E,b,x=u,M=ch(),S={point:c,lineStart:function(){S.point=l,p&&p.push(h=[]),E=!0,w=!1,y=m=NaN},lineEnd:function(){s&&(l(v,g),d&&w&&M.rejoin(),s.push(M.result())),S.point=c,w&&x.lineEnd()},polygonStart:function(){x=M,s=[],p=[],b=!0},polygonEnd:function(){var n=f(),t=b&&n,r=(s=Nh(s)).length;(t||r)&&(u.polygonStart(),t&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),r&&sh(s,a,n,i,u),u.polygonEnd()),x=u,s=p=h=null}};return S}}function sn(){Dh.point=Dh.lineEnd=v}function pn(n,t){Jp=n*=Mp,Zp=Np(t*=Mp),Kp=Cp(t),Dh.point=hn}function hn(n,t){n*=Mp;var r=Np(t*=Mp),e=Cp(t),o=Sp(n-Jp),i=Cp(o),u=e*Np(o),a=Kp*r-Zp*e*i,c=Zp*r+Kp*e*i;Fh.add(Tp(Op(u*u+a*a),c)),Jp=n,Zp=r,Kp=e}function vn(n,t){return!(!n||!Wh.hasOwnProperty(n.type))&&Wh[n.type](n,t)}function gn(n,t){return 0===$h(n,t)}function dn(n,t){var r=$h(n[0],n[1]);return $h(n[0],t)+$h(t,n[1])<=r+yp}function yn(n,t){return!!Ih(n.map(mn),wn(t))}function mn(n){return(n=n.map(wn)).pop(),n}function wn(n){return[n[0]*Mp,n[1]*Mp]}function En(n,t,r){var e=Th(n,t-yp,r).concat(t);return function(n){return e.map(function(t){return[n,t]})}}function bn(n,t,r){var e=Th(n,t-yp,r).concat(t);return function(n){return e.map(function(t){return[t,n]})}}function xn(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return Th(jp(i/d)*d,o,d).map(p).concat(Th(jp(f/y)*y,c,y).map(h)).concat(Th(jp(e/v)*v,r,v).filter(function(n){return Sp(n%d)>yp}).map(l)).concat(Th(jp(a/g)*g,u,g).filter(function(n){return Sp(n%y)>yp}).map(s))}var r,e,o,i,u,a,c,f,l,s,p,h,v=10,g=v,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(h(c).slice(1),p(o).reverse().slice(1),h(f).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.extentMajor(t).extentMinor(t):n.extentMinor()},n.extentMajor=function(t){return arguments.length?(i=+t[0][0],o=+t[1][0],f=+t[0][1],c=+t[1][1],i>o&&(t=i,i=o,o=t),f>c&&(t=f,f=c,c=t),n.precision(m)):[[i,f],[o,c]]},n.extentMinor=function(t){return arguments.length?(e=+t[0][0],r=+t[1][0],a=+t[0][1],u=+t[1][1],e>r&&(t=e,e=r,r=t),a>u&&(t=a,a=u,u=t),n.precision(m)):[[e,a],[r,u]]},n.step=function(t){return arguments.length?n.stepMajor(t).stepMinor(t):n.stepMinor()},n.stepMajor=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.stepMinor=function(t){return arguments.length?(v=+t[0],g=+t[1],n):[v,g]},n.precision=function(t){return arguments.length?(m=+t,l=En(a,u,90),s=bn(e,r,m),p=En(f,c,90),h=bn(i,o,m),n):m},n.extentMajor([[-180,-90+yp],[180,90-yp]]).extentMinor([[-180,-80-yp],[180,80+yp]])}function Mn(){Xh.point=Sn}function Sn(n,t){Xh.point=_n,Xp=nh=n,Yp=th=t}function _n(n,t){Kh.add(th*n-nh*t),nh=n,th=t}function Tn(){_n(Xp,Yp)}function Cn(n,t){ov+=n,iv+=t,++uv}function jn(){hv.point=Pn}function Pn(n,t){hv.point=An,Cn(oh=n,ih=t)}function An(n,t){var r=n-oh,e=t-ih,o=Op(r*r+e*e);av+=o*(oh+n)/2,cv+=o*(ih+t)/2,fv+=o,Cn(oh=n,ih=t)}function Rn(){hv.point=Cn}function Nn(){hv.point=On}function Ln(){kn(rh,eh)}function On(n,t){hv.point=kn,Cn(rh=oh=n,eh=ih=t)}function kn(n,t){var r=n-oh,e=t-ih,o=Op(r*r+e*e);av+=o*(oh+n)/2,cv+=o*(ih+t)/2,fv+=o,lv+=(o=ih*n-oh*t)*(oh+n),sv+=o*(ih+t),pv+=3*o,Cn(oh=n,ih=t)}function zn(n){this._context=n}function qn(n,t){Ev.point=Bn,gv=yv=n,dv=mv=t}function Bn(n,t){yv-=n,mv-=t,wv.add(Op(yv*yv+mv*mv)),yv=n,mv=t}function In(){this._string=[]}function Fn(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function Dn(n){return n.length>1}function Gn(n,t){return((n=n.x)[0]<0?n[1]-wp-yp:wp-n[1])-((t=t.x)[0]<0?t[1]-wp-yp:wp-t[1])}function Un(n,t,r,e){var o,i,u=Np(n-r);return Sp(u)>yp?_p((Np(t)*(i=Cp(e))*Np(r)-Np(e)*(o=Cp(t))*Np(n))/(o*i*u)):(t+e)/2}function Vn(n){return function(t){var r=new $n;for(var e in n)r[e]=n[e];return r.stream=t,r}}function $n(){}function Hn(n,t,r){var e=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),Bp(r,n.stream(ev));var u=ev.result(),a=Math.min(e/(u[1][0]-u[0][0]),o/(u[1][1]-u[0][1])),c=+t[0][0]+(e-a*(u[1][0]+u[0][0]))/2,f=+t[0][1]+(o-a*(u[1][1]+u[0][1]))/2;return null!=i&&n.clipExtent(i),n.scale(150*a).translate([c,f])}function Wn(n,t,r){return Hn(n,[[0,0],t],r)}function Qn(n){return Vn({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function Jn(n,t){function r(e,o,i,u,a,c,f,l,s,h,v,g,d,y){var m=f-e,w=l-o,E=m*m+w*w;if(E>4*t&&d--){var b=u+h,x=a+v,M=c+g,S=Op(b*b+x*x+M*M),_=p(M/=S),T=Sp(Sp(M)-1)<yp||Sp(i-s)<yp?(i+s)/2:Tp(x,b),C=n(T,_),j=C[0],P=C[1],A=j-e,R=P-o,N=w*A-m*R;(N*N/E>t||Sp((m*A+w*R)/E-.5)>.3||u*h+a*v+c*g<_v)&&(r(e,o,i,u,a,c,j,P,T,b/=S,x/=S,M,d,y),y.point(j,P),r(j,P,T,b,x,M,f,l,s,h,v,g,d,y))}}return function(t){function e(r,e){r=n(r,e),t.point(r[0],r[1])}function o(){y=NaN,x.point=i,t.lineStart()}function i(e,o){var i=M([e,o]),u=n(e,o);r(y,m,d,w,E,b,y=u[0],m=u[1],d=e,w=i[0],E=i[1],b=i[2],Sv,t),t.point(y,m)}function u(){x.point=e,t.lineEnd()}function a(){o(),x.point=c,x.lineEnd=f}function c(n,t){i(l=n,t),s=y,p=m,h=w,v=E,g=b,x.point=i}function f(){r(y,m,d,w,E,b,s,p,l,h,v,g,Sv,t),x.lineEnd=u,u()}var l,s,p,h,v,g,d,y,m,w,E,b,x={point:e,lineStart:o,lineEnd:u,polygonStart:function(){t.polygonStart(),x.lineStart=a},polygonEnd:function(){t.polygonEnd(),x.lineStart=o}};return x}}function Zn(n){return Kn(function(){return n})()}function Kn(n){function t(n){return n=l(n[0]*Mp,n[1]*Mp),[n[0]*d+a,c-n[1]*d]}function r(n){return(n=l.invert((n[0]-a)/d,(c-n[1])/d))&&[n[0]*xp,n[1]*xp]}function e(n,t){return n=u(n,t),[n[0]*d+a,c-n[1]*d]}function o(){l=Qp(f=Z(b,x,M),u);var n=u(w,E);return a=y-n[0]*d,c=m+n[1]*d,i()}function i(){return v=g=null,t}var u,a,c,f,l,s,p,h,v,g,d=150,y=480,m=250,w=0,E=0,b=0,x=0,M=0,S=null,_=xv,T=null,C=Jh,j=.5,P=Tv(e,j);return t.stream=function(n){return v&&g===n?v:v=Cv(_(f,P(C(g=n))))},t.clipAngle=function(n){return arguments.length?(_=+n?Mv(S=n*Mp,6*Mp):(S=null,xv),i()):S*xp},t.clipExtent=function(n){return arguments.length?(C=null==n?(T=s=p=h=null,Jh):ln(T=+n[0][0],s=+n[0][1],p=+n[1][0],h=+n[1][1]),i()):null==T?null:[[T,s],[p,h]]},t.scale=function(n){return arguments.length?(d=+n,o()):d},t.translate=function(n){return arguments.length?(y=+n[0],m=+n[1],o()):[y,m]},t.center=function(n){return arguments.length?(w=n[0]%360*Mp,E=n[1]%360*Mp,o()):[w*xp,E*xp]},t.rotate=function(n){return arguments.length?(b=n[0]%360*Mp,x=n[1]%360*Mp,M=n.length>2?n[2]%360*Mp:0,o()):[b*xp,x*xp,M*xp]},t.precision=function(n){return arguments.length?(P=Tv(e,j=n*n),i()):Op(j)},t.fitExtent=function(n,r){return Hn(t,n,r)},t.fitSize=function(n,r){return Wn(t,n,r)},function(){return u=n.apply(this,arguments),t.invert=u.invert&&r,o()}}function Xn(n){var t=0,r=mp/3,e=Kn(n),o=e(t,r);return o.parallels=function(n){return arguments.length?e(t=n[0]*Mp,r=n[1]*Mp):[t*xp,r*xp]},o}function Yn(n){function t(n,t){return[n*r,Np(t)/r]}var r=Cp(n);return t.invert=function(n,t){return[n/r,p(t*r)]},t}function nt(n,t){function r(n,t){var r=Op(i-2*o*Np(t))/o;return[r*Np(n*=o),u-r*Cp(n)]}var e=Np(n),o=(e+Np(t))/2;if(Sp(o)<yp)return Yn(n);var i=1+e*(2*o-e),u=Op(i)/o;return r.invert=function(n,t){var r=u-t;return[Tp(n,Sp(r))/o*Lp(r),p((i-(n*n+r*r)*o*o)/(2*o))]},r}function tt(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function rt(n){return function(t,r){var e=Cp(t),o=Cp(r),i=n(e*o);return[i*o*Np(t),i*Np(r)]}}function et(n){return function(t,r){var e=Op(t*t+r*r),o=n(e),i=Np(o),u=Cp(o);return[Tp(t*i,e*u),p(e&&r*i/e)]}}function ot(n,t){return[n,Ap(kp((wp+t)/2))]}function it(n){function t(){var t=mp*a(),u=i(uh(i.rotate()).invert([0,0]));return f(null==l?[[u[0]-t,u[1]-t],[u[0]+t,u[1]+t]]:n===ot?[[Math.max(u[0]-t,l),r],[Math.min(u[0]+t,e),o]]:[[l,Math.max(u[1]-t,r)],[e,Math.min(u[1]+t,o)]])}var r,e,o,i=Zn(n),u=i.center,a=i.scale,c=i.translate,f=i.clipExtent,l=null;return i.scale=function(n){return arguments.length?(a(n),t()):a()},i.translate=function(n){return arguments.length?(c(n),t()):c()},i.center=function(n){return arguments.length?(u(n),t()):u()},i.clipExtent=function(n){return arguments.length?(null==n?l=r=e=o=null:(l=+n[0][0],r=+n[0][1],e=+n[1][0],o=+n[1][1]),t()):null==l?null:[[l,r],[e,o]]},t()}function ut(n){return kp((wp+n)/2)}function at(n,t){function r(n,t){i>0?t<-wp+yp&&(t=-wp+yp):t>wp-yp&&(t=wp-yp);var r=i/Rp(ut(t),o);return[r*Np(o*n),i-r*Cp(o*n)]}var e=Cp(n),o=n===t?Np(n):Ap(e/Cp(t))/Ap(ut(t)/ut(n)),i=e*Rp(ut(n),o)/o;return o?(r.invert=function(n,t){var r=i-t,e=Lp(o)*Op(n*n+r*r);return[Tp(n,Sp(r))/o*Lp(r),2*_p(Rp(i/e,1/o))-wp]},r):ot}function ct(n,t){return[n,t]}function ft(n,t){function r(n,t){var r=i-t,e=o*n;return[r*Np(e),i-r*Cp(e)]}var e=Cp(n),o=n===t?Np(n):(e-Cp(t))/(t-n),i=e/o+n;return Sp(o)<yp?ct:(r.invert=function(n,t){var r=i-t;return[Tp(n,Sp(r))/o*Lp(r),i-Lp(o)*Op(n*n+r*r)]},r)}function lt(n,t){var r=Cp(t),e=Cp(n)*r;return[r*Np(n)/e,Np(t)/e]}function st(n,t,r,e){return 1===n&&1===t&&0===r&&0===e?Jh:Vn({point:function(o,i){this.stream.point(o*n+r,i*t+e)}})}function pt(n,t){return[Cp(t)*Np(n),Np(t)]}function ht(n,t){var r=Cp(t),e=1+Cp(n)*r;return[r*Np(n)/e,Np(t)/e]}function vt(n,t){return[Ap(kp((wp+t)/2)),-n]}function gt(n){return n?n/Math.sin(n):1}function dt(n){return n>1?Yv:n<-1?-Yv:Math.asin(n)}function yt(n){return n>1?0:n<-1?Xv:Math.acos(n)}function mt(n){return n>0?Math.sqrt(n):0}function wt(n){return((n=Fv(2*n))-1)/(n+1)}function Et(n){return(Fv(n)-Fv(-n))/2}function bt(n){return(Fv(n)+Fv(-n))/2}function xt(n){return Gv(n+mt(n*n+1))}function Mt(n){return Gv(n+mt(n*n-1))}function St(n){function t(n,t){var r=Iv(n),o=Iv(t),i=Qv(t),u=o*r,a=-((1-u?Gv((1+u)/2)/(1-u):-.5)+e/(1+u));return[a*o*Qv(n),a*i]}var r=Jv(n/2),e=2*Gv(Iv(n/2))/(r*r);return t.invert=function(t,r){var o,i=mt(t*t+r*r),u=-n/2,a=50;if(!i)return[0,0];do{var c=u/2,f=Iv(c),l=Qv(c),s=Jv(c),p=Gv(1/f);u-=o=(2/s*p-e*s-i)/(-p/(l*l)+1-e/(2*f*f))}while(zv(o)>Zv&&--a>0);var h=Qv(u);return[Bv(t*h,i*Iv(u)),dt(r*h/i)]},t}function _t(n,t){var r=Iv(t),e=gt(yt(r*Iv(n/=2)));return[2*r*Qv(n)*e,Qv(t)*e]}function Tt(n){function t(n,t){var a=Iv(t),c=Iv(n/=2);return[(1+a)*Qv(n),(o*t>-Bv(c,i)-.001?0:10*-o)+u+Qv(t)*e-(1+a)*r*c]}var r=Qv(n),e=Iv(n),o=n>=0?1:-1,i=Jv(o*n),u=(1+r-e)/2;return t.invert=function(n,t){var a=0,c=0,f=50;do{var l=Iv(a),s=Qv(a),p=Iv(c),h=Qv(c),v=1+p,g=v*s-n,d=u+h*e-v*r*l-t,y=v*l/2,m=-s*h,w=r*v*s/2,E=e*p+r*l*h,b=m*w-E*y,x=(d*m-g*E)/b/2,M=(g*w-d*y)/b;a-=x,c-=M}while((zv(x)>Zv||zv(M)>Zv)&&--f>0);return o*c>-Bv(Iv(a),i)-.001?[2*a,c]:null},t}function Ct(n,t){var r=Jv(t/2),e=mt(1-r*r),o=1+e*Iv(n/=2),i=Qv(n)*e/o,u=r/o,a=i*i,c=u*u;return[4/3*i*(3+a-3*c),4/3*u*(3+3*a-c)]}function jt(n,t){var r=zv(t);return r<ng?[n,Gv(Jv(ng+t/2))]:[n*Iv(r)*(2*rg-1/Qv(r)),Wv(t)*(2*rg*(r-ng)-Gv(Jv(r/2)))]}function Pt(n){function t(n,t){var e=Rv(n,t);if(zv(n)>Yv){var o=Bv(e[1],e[0]),i=mt(e[0]*e[0]+e[1]*e[1]),u=r*Hv((o-Yv)/r)+Yv,a=Bv(Qv(o-=u),2-Iv(o));o=u+dt(Xv/i*Qv(a))-a,e[0]=i*Iv(o),e[1]=i*Qv(o)}return e}var r=2*Xv/n;return t.invert=function(n,t){var e=mt(n*n+t*t);if(e>Yv){var o=Bv(t,n),i=r*Hv((o-Yv)/r)+Yv,u=o>i?-1:1,a=e*Iv(i-o),c=1/Jv(u*yt((a-Xv)/mt(Xv*(Xv-2*a)+e*e)));o=i+2*qv((c+u*mt(c*c-3))/3),n=e*Iv(o),t=e*Qv(o)}return Rv.invert(n,t)},t}function At(n,t){var r,e=n*Qv(t),o=30;do{t-=r=(t+Qv(t)-e)/(1+Iv(t))}while(zv(r)>Zv&&--o>0);return t/2}function Rt(n,t,r){function e(e,o){return[n*e*Iv(o=At(r,o)),t*Qv(o)]}return e.invert=function(e,o){return o=dt(o/t),[e/(n*Iv(o)),dt((2*o+Qv(2*o))/r)]},e}function Nt(n,t){var r=At(Xv,t);return[lg*n/(1/Iv(t)+sg/Iv(r)),(t+rg*Qv(r))/lg]}function Lt(n,t){return[n*Iv(t),t]}function Ot(n){function t(t,e){var o=r+n-e,i=o?t*Iv(e)/o:o;return[o*Qv(i),r-o*Iv(i)]}if(!n)return Lt;var r=1/Jv(n);return t.invert=function(t,e){var o=mt(t*t+(e=r-e)*e),i=r+n-o;return[o/Iv(i)*Bv(t,e),i]},t}function kt(n){function t(t,r){var e=Yv-r,o=e?t*n*Qv(e)/e:e;return[e*Qv(o)/n,Yv-e*Iv(o)]}return t.invert=function(t,r){var e=t*n,o=Yv-r,i=mt(e*e+o*o),u=Bv(e,o);return[(i?i/Qv(i):1)*u/n,Yv-i]},t}function zt(n,t,r,e,o,i){var u,a=Iv(i);if(zv(n)>1||zv(i)>1)u=yt(r*o+t*e*a);else{var c=Qv(n/2),f=Qv(i/2);u=2*dt(mt(c*c+t*e*f*f))}return zv(u)>Zv?[u,Bv(e*Qv(i),t*o-r*e*a)]:[0,0]}function qt(n,t,r){return yt((n*n+t*t-r*r)/(2*n*t))}function Bt(n){return n-2*Xv*Dv((n+Xv)/(2*Xv))}function It(n,t,r){for(var e,o=[[n[0],n[1],Qv(n[1]),Iv(n[1])],[t[0],t[1],Qv(t[1]),Iv(t[1])],[r[0],r[1],Qv(r[1]),Iv(r[1])]],i=o[2],u=0;u<3;++u,i=e)e=o[u],i.v=zt(e[1]-i[1],i[3],i[2],e[3],e[2],e[0]-i[0]),i.point=[0,0];var a=qt(o[0].v[0],o[2].v[0],o[1].v[0]),c=qt(o[0].v[0],o[1].v[0],o[2].v[0]),f=Xv-a;o[2].point[1]=0,o[0].point[0]=-(o[1].point[0]=o[0].v[0]/2);var l=[o[2].point[0]=o[0].point[0]+o[2].v[0]*Iv(a),2*(o[0].point[1]=o[1].point[1]=o[2].v[0]*Qv(a))];return function(n,t){var r,e=Qv(t),i=Iv(t),u=new Array(3);for(r=0;r<3;++r){var a=o[r];if(u[r]=zt(t-a[1],a[3],a[2],i,e,n-a[0]),!u[r][0])return a.point;u[r][1]=Bt(u[r][1]-a.v[1])}var s=l.slice();for(r=0;r<3;++r){var p=2==r?0:r+1,h=qt(o[r].v[0],u[r][0],u[p][0]);u[r][1]<0&&(h=-h),r?1==r?(h=c-h,s[0]-=u[r][0]*Iv(h),s[1]-=u[r][0]*Qv(h)):(h=f-h,s[0]+=u[r][0]*Iv(h),s[1]+=u[r][0]*Qv(h)):(s[0]+=u[r][0]*Iv(h),s[1]-=u[r][0]*Qv(h))}return s[0]/=3,s[1]/=3,s}}function Ft(n){return n[0]*=ug,n[1]*=ug,n}function Dt(n,t,r){var e=Hp({type:"MultiPoint",coordinates:[n,t,r]}),o=[-e[0],-e[1]],i=uh(o),u=Zn(It(Ft(i(n)),Ft(i(t)),Ft(i(r)))).rotate(o),a=u.center;return delete u.rotate,u.center=function(n){return arguments.length?a(i(n)):i.invert(a())},u.clipAngle(90)}function Gt(n,t){var r=mt(1-Qv(t));return[2/eg*n*r,eg*(1-r)]}function Ut(n){function t(n,t){return[n,(n?n/Qv(n):1)*(Qv(t)*Iv(n)-r*Iv(t))]}var r=Jv(n);return t.invert=r?function(n,t){n&&(t*=Qv(n)/n);var e=Iv(n);return[n,2*Bv(mt(e*e+r*r-t*t)-e,r-t)]}:function(n,t){return[n,dt(n?t*Jv(n)/n:t)]},t}function Vt(n,t){return[vg*n*(2*Iv(2*t/3)-1)/eg,vg*eg*Qv(t/3)]}function $t(n){function t(n,t){return[n*r,Qv(t)/r]}var r=Iv(n);return t.invert=function(n,t){return[n/r,dt(t*r)]},t}function Ht(n){function t(n,t){return[n*r,(1+r)*Jv(t/2)]}var r=Iv(n);return t.invert=function(n,t){return[n/r,2*qv(t/(1+r))]},t}function Wt(n,t){var r=mt(8/(3*Xv));return[r*n*(1-zv(t)/Xv),r*t]}function Qt(n,t){var r=mt(4-3*Qv(zv(t)));return[2/mt(6*Xv)*n*r,Wv(t)*mt(2*Xv/3)*(2-r)]}function Jt(n,t){var r=mt(Xv*(4+Xv));return[2/r*n*(1+mt(1-4*t*t/(Xv*Xv))),4/r*t]}function Zt(n,t){var r=(2+Yv)*Qv(t);t/=2;for(var e=0,o=1/0;e<10&&zv(o)>Zv;e++){var i=Iv(t);t-=o=(t+Qv(t)*(i+2)-r)/(2*i*(1+i))}return[2/mt(Xv*(4+Xv))*n*(1+Iv(t)),2*mt(Xv/(4+Xv))*Qv(t)]}function Kt(n,t){return[n*(1+Iv(t))/mt(2+Xv),2*t/mt(2+Xv)]}function Xt(n,t){for(var r=(1+Yv)*Qv(t),e=0,o=1/0;e<10&&zv(o)>Zv;e++)t-=o=(t+Qv(t)-r)/(1+Iv(t));return r=mt(2+Xv),[n*(1+Iv(t))/r,2*t/r]}function Yt(n,t){var r=Qv(n/=2),e=Iv(n),o=mt(Iv(t)),i=Iv(t/=2),u=Qv(t)/(i+rg*e*o),a=mt(2/(1+u*u)),c=mt((rg*i+(e+r)*o)/(rg*i+(e-r)*o));return[gg*(a*(c-1/c)-2*Gv(c)),gg*(a*u*(c+1/c)-2*qv(u))]}function nr(n,t){var r=Jv(t/2);return[n*dg*mt(1-r*r),(1+dg)*r]}function tr(n,t){var r=t/2,e=Iv(r);return[2*n/eg*Iv(t)*e*e,eg*Jv(r)]}function rr(n){return[n[0]/2,dt(Jv(n[1]/2*ug))*ig]}function er(n){return[2*n[0],2*qv(Qv(n[1]*ug))*ig]}function or(n,t){function r(t,r){var i=Rv(t,r),u=i[0],a=i[1],c=u*u+a*a;if(c>o){var f=mt(c),l=Bv(a,u),s=e*Hv(l/e),p=l-s,h=n*Iv(p),v=(n*Qv(p)-p*Qv(h))/(Yv-h),g=ir(p,v),d=(Xv-n)/ur(g,h,Xv);u=f;var y,m=50;do{u-=y=(n+ur(g,h,u)*d-f)/(g(u)*d)}while(zv(y)>Zv&&--m>0);a=p*Qv(u),u<Yv&&(a-=v*(u-Yv));var w=Qv(s),E=Iv(s);i[0]=u*E-a*w,i[1]=u*w+a*E}return i}var e=2*Xv/t,o=n*n;return r.invert=function(t,r){var i=t*t+r*r;if(i>o){var u=mt(i),a=Bv(r,t),c=e*Hv(a/e),f=a-c;t=u*Iv(f),r=u*Qv(f);for(var l=t-Yv,s=Qv(t),p=r/s,h=t<Yv?1/0:0,v=10;;){var g=n*Qv(p),d=n*Iv(p),y=Qv(d),m=Yv-d,w=(g-p*y)/m,E=ir(p,w);if(zv(h)<Kv||!--v)break;p-=h=(p*s-w*l-r)/(s-2*l*(m*(d+p*g*Iv(d)-y)-g*(g-p*y))/(m*m))}t=(u=n+ur(E,d,t)*(Xv-n)/ur(E,d,Xv))*Iv(a=c+p),r=u*Qv(a)}return Rv.invert(t,r)},r}function ir(n,t){return function(r){var e=n*Iv(r);return r<Yv&&(e-=t),mt(1+e*e)}}function ur(n,t,r){for(var e=(r-t)/50,o=n(t)+n(r),i=1,u=t;i<50;++i)o+=2*n(u+=e);return.5*o*e}function ar(n,t){var r=n*n,e=t*t;return[n*(1-.162388*e)*(.87-952426e-9*r*r),t*(1+e/12)]}function cr(n,t){var r=Wv(n),e=Wv(t),o=Iv(t),i=Iv(n)*o,u=Qv(n)*o,a=Qv(e*t);n=zv(Bv(u,a)),t=dt(i),zv(n-Yv)>Zv&&(n%=Yv);var c=fr(n>Xv/4?Yv-n:n,t);return n>Xv/4&&(a=c[0],c[0]=-c[1],c[1]=-a),c[0]*=r,c[1]*=-e,c}function fr(n,t){if(t===Yv)return[0,0];var r,e,o=Qv(t),i=o*o,u=i*i,a=1+u,c=1+3*u,f=1-u,l=dt(1/mt(a)),s=f+i*a*l,p=(1-o)/s,h=mt(p),v=p*a,g=mt(v),d=h*f;if(0===n)return[0,-(d+i*g)];var y,m=Iv(t),w=1/m,E=2*o*m,b=(-s*m-(1-o)*((-3*i+l*c)*E))/(s*s),x=-w*E,M=-w*(i*a*b+p*c*E),S=-2*w*(f*(.5*b/h)-2*i*h*E),_=4*n/Xv;if(n>.222*Xv||t<Xv/4&&n>.175*Xv){if(r=(d+i*mt(v*(1+u)-d*d))/(1+u),n>Xv/4)return[r,r];var T=r,C=.5*r;r=.5*(C+T),e=50;do{var j=r*(S+x*mt(v-r*r))+M*dt(r/g)-_;if(!j)break;j<0?C=r:T=r,r=.5*(C+T)}while(zv(T-C)>Zv&&--e>0)}else{r=Zv,e=25;do{var P=r*r,A=mt(v-P),R=S+x*A,N=r*R+M*dt(r/g)-_,L=R+(M-x*P)/A;r-=y=A?N/L:0}while(zv(y)>Zv&&--e>0)}return[r,-d-i*mt(v-r*r)]}function lr(n,t){for(var r=0,e=1,o=.5,i=50;;){var u=o*o,a=mt(o),c=dt(1/mt(1+u)),f=1-u+o*(1+u)*c,l=(1-a)/f,s=mt(l),p=l*(1+u),h=s*(1-u),v=mt(p-n*n),g=t+h+o*v;if(zv(e-r)<Kv||0==--i||0===g)break;g>0?r=o:e=o,o=.5*(r+e)}if(!i)return null;var d=dt(a),y=Iv(d),m=1/y,w=2*a*y,E=(-f*y-(1-a)*((-3*o+c*(1+3*u))*w))/(f*f);return[Xv/4*(n*(-2*m*((1-u)*(.5*E/s)-2*o*s*w)+-m*w*v)+-m*(o*(1+u)*E+l*(1+3*u)*w)*dt(n/mt(p))),d]}function sr(n,t,r){var e,o,i;return n?(e=pr(n,r),t?(o=pr(t,1-r),i=o[1]*o[1]+r*e[0]*e[0]*o[0]*o[0],[[e[0]*o[2]/i,e[1]*e[2]*o[0]*o[1]/i],[e[1]*o[1]/i,-e[0]*e[2]*o[0]*o[2]/i],[e[2]*o[1]*o[2]/i,-r*e[0]*e[1]*o[0]/i]]):[[e[0],0],[e[1],0],[e[2],0]]):(o=pr(t,1-r),[[0,o[0]/o[1]],[1/o[1],0],[o[2]/o[1],0]])}function pr(n,t){var r,e,o,i,u;if(t<Zv)return i=Qv(n),e=Iv(n),r=t*(n-i*e)/4,[i-r*e,e+r*i,1-t*i*i/2,n-r];if(t>=1-Zv)return r=(1-t)/4,e=bt(n),i=wt(n),o=1/e,u=e*Et(n),[i+r*(u-n)/(e*e),o-r*i*o*(u-n),o+r*i*o*(u+n),2*qv(Fv(n))-Yv+r*(u-n)/e];var a=[1,0,0,0,0,0,0,0,0],c=[mt(t),0,0,0,0,0,0,0,0],f=0;for(e=mt(1-t),u=1;zv(c[f]/a[f])>Zv&&f<8;)r=a[f++],c[f]=(r-e)/2,a[f]=(r+e)/2,e=mt(r*e),u*=2;o=u*a[f]*n;do{o=(dt(i=c[f]*Qv(e=o)/a[f])+o)/2}while(--f);return[Qv(o),i=Iv(o),i/Iv(o-e),o]}function hr(n,t,r){var e=zv(n),o=Et(zv(t));if(e){var i=1/Qv(e),u=1/(Jv(e)*Jv(e)),a=-(u+r*(o*o*i*i)-1+r),c=(-a+mt(a*a-4*((r-1)*u)))/2;return[vr(qv(1/mt(c)),r)*Wv(n),vr(qv(mt((c/u-1)/r)),1-r)*Wv(t)]}return[0,vr(qv(o),1-r)*Wv(t)]}function vr(n,t){if(!t)return n;if(1===t)return Gv(Jv(n/2+ng));for(var r=1,e=mt(1-t),o=mt(t),i=0;zv(o)>Zv;i++){if(n%Xv){var u=qv(e*Jv(n)/r);u<0&&(u+=Xv),n+=u+~~(n/Xv)*Xv}else n+=n;o=(r+e)/2,e=mt(r*e),o=((r=o)-e)/2}return n/($v(2,i)*r)}function gr(n,t){var r=(rg-1)/(rg+1),e=mt(1-r*r),o=vr(Yv,e*e),i=Gv(Jv(Xv/4+zv(t)/2)),u=Fv(-1*i)/mt(r),a=dr(u*Iv(-1*n),u*Qv(-1*n)),c=hr(a[0],a[1],e*e);return[-c[1],(t>=0?1:-1)*(.5*o-c[0])]}function dr(n,t){var r=n*n,e=t+1,o=1-r-t*t;return[.5*((n>=0?Yv:-Yv)-Bv(o,2*n)),-.25*Gv(o*o+4*r)+.5*Gv(e*e+r)]}function yr(n,t){var r=t[0]*t[0]+t[1]*t[1];return[(n[0]*t[0]+n[1]*t[1])/r,(n[1]*t[0]-n[0]*t[1])/r]}function mr(n,t){function r(r,e){var o=Av(r/t,e);return o[0]*=n,o}return arguments.length<2&&(t=n),1===t?Av:t===1/0?wr:(r.invert=function(r,e){var o=Av.invert(r/n,e);return o[0]*=t,o},r)}function wr(n,t){return[n*Iv(t)/Iv(t/=2),2*Qv(t)]}function Er(n){function t(n,t){var i=o(n,t);n=i[0],t=i[1];var u=Qv(t),a=Iv(t),c=Iv(n),f=yt(r*u+e*a*c),l=Qv(f),s=zv(l)>Zv?f/l:1;return[s*e*Qv(n),(zv(n)>Yv?s:-s)*(r*a-e*u*c)]}var r=Qv(n),e=Iv(n),o=br(n);return o.invert=br(-n),t.invert=function(n,t){var e=mt(n*n+t*t),i=-Qv(e),u=Iv(e),a=e*u,c=-t*i,f=e*r,l=mt(a*a+c*c-f*f),s=Bv(a*f+c*l,c*f-a*l),p=(e>Yv?-1:1)*Bv(n*i,e*Iv(s)*u+t*Qv(s)*i);return o.invert(p,s)},t}function br(n){var t=Qv(n),r=Iv(n);return function(n,e){var o=Iv(e),i=Iv(n)*o,u=Qv(n)*o,a=Qv(e);return[Bv(u,i*r-a*t),dt(a*r+i*t)]}}function xr(n){function t(t,l){var s,p=zv(l);if(p>r){var h=Vv(n-1,Uv(0,Dv((t+Xv)/a)));(s=Gt(t+=Xv*(n-1)/n-h*a,p))[0]=s[0]*og/e-og*(n-1)/(2*n)+h*og/n,s[1]=o+4*(s[1]-i)*u/og,l<0&&(s[1]=-s[1])}else s=Sg(t,l);return s[0]*=c,s[1]/=f,s}var r=Mg*ug,e=Gt(Xv,r)[0]-Gt(-Xv,r)[0],o=Sg(0,r)[1],i=Gt(0,r)[1],u=eg-i,a=og/n,c=4/og,f=o+u*u*4/og;return t.invert=function(t,r){t/=c;var l=zv(r*=f);if(l>o){var s=Vv(n-1,Uv(0,Dv((t+Xv)/a)));t=(t+Xv*(n-1)/n-s*a)*e/og;var p=Gt.invert(t,.25*(l-o)*og/u+i);return p[0]-=Xv*(n-1)/n-s*a,r<0&&(p[1]=-p[1]),p}return Sg.invert(t,r)},t}function Mr(n){return{type:"Polygon",coordinates:[Th(-180,180+n/2,n).map(function(n,t){return[n,1&t?90-1e-6:Mg]}).concat(Th(180,-180-n/2,-n).map(function(n,t){return[n,1&t?1e-6-90:-Mg]}))]}}function Sr(n){function t(t,f){var l,s,p=1-Qv(f);if(p&&p<2){var h,v=Yv-f,g=25;do{var d=Qv(v),y=Iv(v),m=o+Bv(d,e-y),w=1+c-2*e*y;v-=h=(v-a*o-e*d+w*m-.5*p*r)/(2*e*d*m)}while(zv(h)>Kv&&--g>0);l=i*mt(w),s=t*m/Xv}else l=i*(n+p),s=t*o/Xv;return[l*Qv(s),u-l*Iv(s)]}var r,e=1+n,o=dt(Qv(1/e)),i=2*mt(Xv/(r=Xv+4*o*e)),u=.5*i*(e+mt(n*(2+n))),a=n*n,c=e*e;return t.invert=function(n,t){var f=n*n+(t-=u)*t,l=(1+c-f/(i*i))/(2*e),s=yt(l),p=Qv(s),h=o+Bv(p,e-l);return[dt(n/mt(f))*Xv/h,dt(1-2*(s-a*o-e*p+(1+c-2*e*l)*h)/r)]},t}function _r(n,t){return t>-_g?(n=fg(n,t),n[1]+=Tg,n):Lt(n,t)}function Tr(n,t){return zv(t)>_g?(n=fg(n,t),n[1]-=t>0?Tg:-Tg,n):Lt(n,t)}function Cr(n,t){return zv(n[0]-t[0])<Zv&&zv(n[1]-t[1])<Zv}function jr(n,t){for(var r,e,o,i=-1,u=n.length,a=n[0],c=[];++i<u;){e=((r=n[i])[0]-a[0])/t,o=(r[1]-a[1])/t;for(var f=0;f<t;++f)c.push([a[0]+f*e,a[1]+f*o]);a=r}return c.push(r),c}function Pr(n){var t,r,e,o,i,u,a,c=[],f=n[0].length;for(a=0;a<f;++a)r=(t=n[0][a])[0][0],e=t[0][1],o=t[1][1],i=t[2][0],u=t[2][1],c.push(jr([[r+Zv,e+Zv],[r+Zv,o-Zv],[i-Zv,o-Zv],[i-Zv,u+Zv]],30));for(a=n[1].length-1;a>=0;--a)r=(t=n[1][a])[0][0],e=t[0][1],o=t[1][1],i=t[2][0],u=t[2][1],c.push(jr([[i-Zv,u-Zv],[i-Zv,o+Zv],[r+Zv,o+Zv],[r+Zv,e-Zv]],30));return{type:"Polygon",coordinates:[Nh(c)]}}function Ar(n,t){return[3/og*n*mt(Xv*Xv/3-t*t),t]}function Rr(n){function t(t,r){if(zv(zv(r)-Yv)<Zv)return[0,r<0?-2:2];var e=Qv(r),o=$v((1+e)/(1-e),n/2),i=.5*(o+1/o)+Iv(t*=n);return[2*Qv(t)/i,(o-1/o)/i]}return t.invert=function(t,r){var e=zv(r);if(zv(e-2)<Zv)return t?null:[0,Wv(r)*Yv];if(e>2)return null;var o=(t/=2)*t,i=(r/=2)*r,u=2*r/(1+o+i);return u=$v((1+u)/(1-u),1/n),[Bv(2*t,1-o-i)/n,dt((u-1)/(u+1))]},t}function Nr(n,t){return[n*(1+mt(Iv(t)))/2,t/(Iv(t/2)*Iv(n/6))]}function Lr(n,t){var r=n*n,e=t*t;return[n*(.975534+e*(-.0143059*r-.119161+-.0547009*e)),t*(1.00384+r*(.0802894+-.02855*e+199025e-9*r)+e*(.0998909+-.0491032*e))]}function Or(n,t){return[Qv(n)/Iv(t),Jv(t)*Iv(n)]}function kr(n){function t(t,o){var i=o-n,u=zv(i)<Zv?t*r:zv(u=ng+o/2)<Zv||zv(zv(u)-Yv)<Zv?0:t*i/Gv(Jv(u)/e);return[u,i]}var r=Iv(n),e=Jv(ng+n/2);return t.invert=function(t,o){var i,u=o+n;return[zv(o)<Zv?t/r:zv(i=ng+u/2)<Zv||zv(zv(i)-Yv)<Zv?0:t*Gv(Jv(i)/e)/o,u]},t}function zr(n,t){return[n,1.25*Gv(Jv(ng+.4*t))]}function qr(n){function t(t,e){for(var o,i=Iv(e),u=2/(1+i*Iv(t)),a=u*i*Qv(t),c=u*Qv(e),f=r,l=n[f],s=l[0],p=l[1];--f>=0;)s=(l=n[f])[0]+a*(o=s)-c*p,p=l[1]+a*p+c*o;return s=a*(o=s)-c*p,p=a*p+c*o,[s,p]}var r=n.length-1;return t.invert=function(t,e){var o=20,i=t,u=e;do{for(var a,c=r,f=n[c],l=f[0],s=f[1],p=0,h=0;--c>=0;)p=l+i*(a=p)-u*h,h=s+i*h+u*a,l=(f=n[c])[0]+i*(a=l)-u*s,s=f[1]+i*s+u*a;var v,g,d=(p=l+i*(a=p)-u*h)*p+(h=s+i*h+u*a)*h;i-=v=((l=i*(a=l)-u*s-t)*p+(s=i*s+u*a-e)*h)/d,u-=g=(s*p-l*h)/d}while(zv(v)+zv(g)>Zv*Zv&&--o>0);if(o){var y=mt(i*i+u*u),m=2*qv(.5*y),w=Qv(m);return[Bv(i*w,y*Iv(m)),y?dt(u*w/y):0]}},t}function Br(n,t){var r=Zn(qr(n)).rotate(t).clipAngle(90),e=uh(t),o=r.center;return delete r.rotate,r.center=function(n){return arguments.length?o(e(n)):e.invert(o())},r}function Ir(n,t){var r=dt(7*Qv(t)/(3*Fg));return[Fg*n*(2*Iv(2*r/3)-1)/Dg,9*Qv(r/3)/Dg]}function Fr(n,t){for(var r,e=(1+tg)*Qv(t),o=t,i=0;i<25&&(o-=r=(Qv(o/2)+Qv(o)-e)/(.5*Iv(o/2)+Iv(o)),!(zv(r)<Zv));i++);return[n*(1+2*Iv(o)/Iv(o/2))/(3*rg),2*mt(3)*Qv(o/2)/mt(2+rg)]}function Dr(n,t){for(var r,e=mt(6/(4+Xv)),o=(1+Xv/4)*Qv(t),i=t/2,u=0;u<25&&(i-=r=(i/2+Qv(i)-o)/(.5+Iv(i)),!(zv(r)<Zv));u++);return[e*(.5+Iv(i))*n/1.5,e*i]}function Gr(n,t){var r=t*t,e=r*r;return[n*(.8707-.131979*r+e*(e*(.003971*r-.001529*e)-.013791)),t*(1.007226+r*(.015085+e*(.028874*r-.044475-.005916*e)))]}function Ur(n,t){var r=t*t,e=r*r,o=r*e;return[n*(.84719-.13063*r+o*o*(.05494*r-.04515-.02326*e+.00331*o)),t*(1.01183+e*e*(.01926*r-.02625-.00396*e))]}function Vr(n,t){return[n*(1+Iv(t))/2,2*(t-Jv(t/2))]}function $r(n,t){var r=t*t;return[n,t*(Gg+r*r*(Ug+r*(Vg+$g*r)))]}function Hr(n,t){if(zv(t)<Zv)return[n,0];var r=Jv(t),e=n*Qv(t);return[Qv(e)/r,t+(1-Iv(e))/r]}function Wr(n){var t=1/(n[0]*n[4]-n[1]*n[3]);return[t*n[4],-t*n[1],t*(n[1]*n[5]-n[2]*n[4]),-t*n[3],t*n[0],t*(n[2]*n[3]-n[0]*n[5])]}function Qr(n,t){return[n[0]*t[0]+n[1]*t[3],n[0]*t[1]+n[1]*t[4],n[0]*t[2]+n[1]*t[5]+n[2],n[3]*t[0]+n[4]*t[3],n[3]*t[1]+n[4]*t[4],n[3]*t[2]+n[4]*t[5]+n[5]]}function Jr(n,t){return[n[0]-t[0],n[1]-t[1]]}function Zr(n){return mt(n[0]*n[0]+n[1]*n[1])}function Kr(n,t){return Bv(n[0]*t[1]-n[1]*t[0],n[0]*t[0]+n[1]*t[1])}function Xr(n,t,r){var e,o,i=t.edges,u=i.length,a={type:"MultiPoint",coordinates:t.face},c=t.face.filter(function(n){return 90!==zv(n[1])}),f=Vp({type:"MultiPoint",coordinates:c}),l=!1,s=-1,p=f[1][0]-f[0][0],h=180===p||360===p?[(f[0][0]+f[1][0])/2,(f[0][1]+f[1][1])/2]:Hp(a);if(r)for(;++s<u&&i[s]!==r;);++s;for(var v=0;v<u;++v)o=i[(v+s)%u],Array.isArray(o)?(l||(n.point((e=Qh(o[0],h)(Zv))[0],e[1]),l=!0),n.point((e=Qh(o[1],h)(Zv))[0],e[1])):(l=!1,o!==r&&Xr(n,o,t))}function Yr(n,t){return n&&t&&n[0]===t[0]&&n[1]===t[1]}function ne(n,t){for(var r,e,o=n.length,i=null,u=0;u<o;++u){r=n[u];for(var a=t.length;--a>=0;)if(e=t[a],r[0]===e[0]&&r[1]===e[1]){if(i)return[i,r];i=r}}}function te(n){for(var t=n.length,r=[],e=n[t-1],o=0;o<t;++o)r.push([e,e=n[o]]);return r}function re(n){return n.project.invert||n.children&&n.children.some(re)}function ee(n,t){var r=Gt(n,t);return[r[0]*nd,r[1]]}function oe(n,t){for(var r=0,e=n.length,o=0;r<e;++r)o+=n[r]*t[r];return o}function ie(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function ue(n){return[Bv(n[1],n[0])*ig,dt(Uv(-1,Vv(1,n[2])))*ig]}function ae(n){var t=n[0]*ug,r=n[1]*ug,e=Iv(r);return[e*Iv(t),e*Qv(t),Qv(r)]}function ce(n,t){return{type:"FeatureCollection",features:n.features.map(function(n){return fe(n,t)})}}function fe(n,t){return{type:"Feature",id:n.id,properties:n.properties,geometry:se(n.geometry,t)}}function le(n,t){return{type:"GeometryCollection",geometries:n.geometries.map(function(n){return se(n,t)})}}function se(n,t){if(!n)return null;if("GeometryCollection"===n.type)return le(n,t);var r;switch(n.type){case"Point":case"MultiPoint":r=ud;break;case"LineString":case"MultiLineString":r=ad;break;case"Polygon":case"MultiPolygon":case"Sphere":r=cd;break;default:return null}return Bp(n,t(r)),r.result()}function pe(n){function t(t,e){var o=r?Jv(t*r/2)/r:t/2;if(!e)return[2*o,-n];var i=2*qv(o*Qv(e)),u=1/Jv(e);return[Qv(i)*u,e+(1-Iv(i))*u-n]}var r=Qv(n);return t.invert=function(t,e){if(zv(e+=n)<Zv)return[r?2*qv(r*t/2)/r:t,0];var o,i=t*t+e*e,u=0,a=10;do{var c=Jv(u),f=1/Iv(u),l=i-2*e*u+u*u;u-=o=(c*l+2*(u-e))/(2+l*f*f+2*(u-e)*c)}while(zv(o)>Zv&&--a>0);var s=t*(c=Jv(u)),p=Jv(zv(e)<zv(u+1/c)?.5*dt(s):.5*yt(s)+Xv/4)/Qv(u);return[r?2*qv(r*p)/r:2*p,u]},t}function he(n,t){var r,e=Vv(18,36*zv(t)/Xv),o=Dv(e),i=e-o,u=(r=sd[o])[0],a=r[1],c=(r=sd[++o])[0],f=r[1],l=(r=sd[Vv(19,++o)])[0],s=r[1];return[n*(c+i*(l-u)/2+i*i*(l-2*c+u)/2),(t>0?Yv:-Yv)*(f+i*(s-a)/2+i*i*(s-2*f+a)/2)]}function ve(n){function t(t,r){var e=Iv(r),o=(n-1)/(n-e*Iv(t));return[o*e*Qv(t),o*Qv(r)]}return t.invert=function(t,r){var e=t*t+r*r,o=mt(e),i=(n-mt(1-e*(n+1)/(n-1)))/((n-1)/o+o/(n-1));return[Bv(t*i,o*mt(1-i*i)),o?dt(r*i/o):0]},t}function ge(n,t){function r(t,r){var u=e(t,r),a=u[1],c=a*i/(n-1)+o;return[u[0]*o/c,a/c]}var e=ve(n);if(!t)return e;var o=Iv(t),i=Qv(t);return r.invert=function(t,r){var u=(n-1)/(n-1-r*i);return e.invert(u*t,u*r*o)},r}function de(n){return n.length>0}function ye(n){return Math.floor(n*pd)/pd}function me(n){return n===yd||n===wd?[0,n]:[hd,ye(n)]}function we(n){var t=n[0],r=n[1],e=!1;return t<=vd?(t=hd,e=!0):t>=dd&&(t=gd,e=!0),r<=md?(r=yd,e=!0):r>=Ed&&(r=wd,e=!0),e?[t,r]:n}function Ee(n){return n.map(we)}function be(n,t,r){for(var e=0,o=n.length;e<o;++e){var i=n[e].slice();r.push({index:-1,polygon:t,ring:i});for(var u=0,a=i.length;u<a;++u){var c=i[u],f=c[0],l=c[1];if(f<=vd||f>=dd||l<=md||l>=Ed){i[u]=we(c);for(var s=u+1;s<a;++s){var p=i[s],h=p[0],v=p[1];if(h>vd&&h<dd&&v>md&&v<Ed)break}if(s===u+1)continue;if(u){var g={index:-1,polygon:t,ring:i.slice(0,u+1)};g.ring[g.ring.length-1]=me(l),r[r.length-1]=g}else r.pop();if(s>=a)break;r.push({index:-1,polygon:t,ring:i=i.slice(s-1)}),i[0]=me(i[0][1]),u=-1,a=i.length}}}}function xe(n){var t,r,e,o,i,u,a=n.length,c={},f={};for(t=0;t<a;++t)e=(r=n[t]).ring[0],i=r.ring[r.ring.length-1],e[0]!==i[0]||e[1]!==i[1]?(r.index=t,c[e]=f[i]=r):(r.polygon.push(r.ring),n[t]=null);for(t=0;t<a;++t)if(r=n[t]){if(e=r.ring[0],i=r.ring[r.ring.length-1],o=f[e],u=c[i],delete c[e],delete f[i],e[0]===i[0]&&e[1]===i[1]){r.polygon.push(r.ring);continue}o?(delete f[e],delete c[o.ring[0]],o.ring.pop(),n[o.index]=null,r={index:-1,polygon:o.polygon,ring:o.ring.concat(r.ring)},o===u?r.polygon.push(r.ring):(r.index=a++,n.push(c[r.ring[0]]=f[r.ring[r.ring.length-1]]=r))):u?(delete c[i],delete f[u.ring[u.ring.length-1]],r.ring.pop(),r={index:a++,polygon:u.polygon,ring:r.ring.concat(u.ring)},n[u.index]=null,n.push(c[r.ring[0]]=f[r.ring[r.ring.length-1]]=r)):(r.ring.push(r.ring[0]),r.polygon.push(r.ring))}}function Me(n){var t={type:"Feature",geometry:Se(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}function Se(n){if(null==n)return n;var t,r,e,o;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(Se)};break;case"Point":t={type:"Point",coordinates:we(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:Ee(n.coordinates)};break;case"MultiLineString":t={type:"MultiLineString",coordinates:n.coordinates.map(Ee)};break;case"Polygon":var i=[];be(n.coordinates,i,r=[]),xe(r),t={type:"Polygon",coordinates:i};break;case"MultiPolygon":r=[],e=-1,o=n.coordinates.length;for(var u=new Array(o);++e<o;)be(n.coordinates[e],u[e]=[],r);xe(r),t={type:"MultiPolygon",coordinates:u.filter(de)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function _e(n,t){var r=Jv(t/2),e=Qv(ng*r);return[n*(.74482-.34588*e*e),1.70711*r]}function Te(n){function t(n,t){var e=lt(n,t);return e[0]*=r,e}var r=Iv(n);return t.invert=function(n,t){return lt.invert(n/r,t)},t}function Ce(n,t){return bd(Te,n,t)}function je(n){function t(t,i){var u=yt(Iv(i)*Iv(t-r)),a=yt(Iv(i)*Iv(t-e));return u*=u,a*=a,[(u-a)/(2*n),(i<0?-1:1)*mt(4*o*a-(o-u+a)*(o-u+a))/(2*n)]}if(!(n*=2))return Rv;var r=-n/2,e=-r,o=n*n,i=Jv(e),u=.5/Qv(e);return t.invert=function(n,t){var o,a,c=t*t,f=Iv(mt(c+(o=n+r)*o)),l=Iv(mt(c+(o=n+e)*o));return[Bv(a=f-l,o=(f+l)*i),(t<0?-1:1)*yt(mt(o*o+a*a)*u)]},t}function Pe(n,t){return bd(je,n,t)}function Ae(n,t){if(zv(t)<Zv)return[n,0];var r=zv(t/Yv),e=dt(r);if(zv(n)<Zv||zv(zv(t)-Yv)<Zv)return[0,Wv(t)*Xv*Jv(e/2)];var o=Iv(e),i=zv(Xv/n-n/Xv)/2,u=i*i,a=o/(r+o-1),c=a*(2/r-1),f=c*c,l=f+u,s=a-f,p=u+a;return[Wv(n)*Xv*(i*s+mt(u*s*s-l*(a*a-f)))/l,Wv(t)*Xv*(c*p-i*mt((u+1)*l-p*p))/l]}function Re(n,t){if(zv(t)<Zv)return[n,0];var r=zv(t/Yv),e=dt(r);if(zv(n)<Zv||zv(zv(t)-Yv)<Zv)return[0,Wv(t)*Xv*Jv(e/2)];var o=Iv(e),i=zv(Xv/n-n/Xv)/2,u=i*i,a=o*(mt(1+u)-i*o)/(1+u*r*r);return[Wv(n)*Xv*a,Wv(t)*Xv*mt(1-a*(2*i+a))]}function Ne(n,t){if(zv(t)<Zv)return[n,0];var r=t/Yv,e=dt(r);if(zv(n)<Zv||zv(zv(t)-Yv)<Zv)return[0,Xv*Jv(e/2)];var o=(Xv/n-n/Xv)/2,i=r/(1+Iv(e));return[Xv*(Wv(n)*mt(o*o+1-i*i)-o),Xv*i]}function Le(n,t){if(!t)return[n,0];var r=zv(t);if(!n||r===Yv)return[0,t];var e=r/Yv,o=e*e,i=(8*e-o*(o+2)-5)/(2*o*(e-1)),u=i*i,a=e*i,c=o+u+2*a,f=e+3*i,l=n/Yv,s=l+1/l,p=Wv(zv(n)-Yv)*mt(s*s-4),h=p*p,v=(p*(c+u-1)+2*mt(c*(o+u*h-1)+(1-o)*(o*(f*f+4*u)+12*a*u+4*u*u)))/(4*c+h);return[Wv(n)*Yv*v,Wv(t)*Yv*mt(1+p*zv(v)-v*v)]}function Oe(n,t){return[n*mt(1-3*t*t/(Xv*Xv)),t]}function ke(n,t){var r=.90631*Qv(t),e=mt(1-r*r),o=mt(2/(1+e*Iv(n/=3)));return[2.66723*e*o*Qv(n),1.24104*r*o]}function ze(n,t){var r=Iv(t),e=Iv(n)*r,o=1-e,i=Iv(n=Bv(Qv(n)*r,-Qv(t))),u=Qv(n);return r=mt(1-e*e),[u*r-i*o,-i*r-u*o]}function qe(n,t){var r=_t(n,t);return[(r[0]+n/Yv)/2,(r[1]+t)/2]}function Be(n,t,r,e,o,i){var u,a=t&Cy,c=t&jy,f=t&Py;if(r&&(u=o?r(n,e,o,i):r(n)),void 0!==u)return u;if(!pc(n))return n;var l=gf(n);if(l){if(u=Gd(n),!a)return kd(n,u)}else{var s=Fl(n),p=s==Ry||s==Ny;if(yf(n))return Od(n,a);if(s==Ly||s==Ay||p&&!o){if(u=c||p?{}:Ty(n),!a)return c?Id(n,Ld(u,n)):zd(n,jd(u,n))}else{if(!Oy[s])return o?n:{};u=My(n,s,Be,a)}}i||(i=new Wf);var h=i.get(n);if(h)return h;i.set(n,u);var v=f?c?Fd:Tl:c?keysIn:Pf,g=l?void 0:v(n);return Cd(g||n,function(e,o){g&&(e=n[o=e]),qc(u,o,Be(e,t,r,o,n,i))}),u}function Ie(n,t,r,e,o){var i=-1,u=n.length;for(r||(r=bm),o||(o=[]);++i<u;){var a=n[i];t>0&&r(a)?t>1?Ie(a,t-1,r,e,o):wl(o,a):e||(o[o.length]=a)}return o}function Fe(){this.reset()}function De(n,t,r){var e=n.s=t+r,o=e-t,i=e-o;n.t=t-i+(r-o)}function Ge(n){return n>1?0:n<-1?fw:Math.acos(n)}function Ue(n){return n>1?lw:n<-1?-lw:Math.asin(n)}function Ve(n){return(n=Mw(n/2))*n}function $e(){}function He(n,t){n&&jw.hasOwnProperty(n.type)&&jw[n.type](n,t)}function We(n,t,r){var e,o=-1,i=n.length-r;for(t.lineStart();++o<i;)e=n[o],t.point(e[0],e[1],e[2]);t.lineEnd()}function Qe(n,t){var r=-1,e=n.length;for(t.polygonStart();++r<e;)We(n[r],t,1);t.polygonEnd()}function Je(){Nw.point=Ke}function Ze(){Xe(Am,Rm)}function Ke(n,t){Nw.point=Xe,Am=n,Rm=t,Nm=n*=vw,Lm=mw(t=(t*=vw)/2+sw),Om=Mw(t)}function Xe(n,t){t=(t*=vw)/2+sw;var r=(n*=vw)-Nm,e=r>=0?1:-1,o=e*r,i=mw(t),u=Mw(t),a=Om*u,c=Lm*i+a*mw(o),f=a*e*Mw(o);Aw.add(yw(f,c)),Nm=n,Lm=i,Om=u}function Ye(n){return[yw(n[1],n[0]),Ue(n[2])]}function no(n){var t=n[0],r=n[1],e=mw(r);return[e*mw(t),e*Mw(t),Mw(r)]}function to(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function ro(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function eo(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function oo(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function io(n){var t=_w(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function uo(n,t){Um.push(Vm=[km=n,qm=n]),t<zm&&(zm=t),t>Bm&&(Bm=t)}function ao(n,t){var r=no([n*vw,t*vw]);if(Gm){var e=ro(Gm,r),o=ro([e[1],-e[0],0],e);io(o),o=Ye(o);var i,u=n-Im,a=u>0?1:-1,c=o[0]*hw*a,f=gw(u)>180;f^(a*Im<c&&c<a*n)?(i=o[1]*hw)>Bm&&(Bm=i):(c=(c+360)%360-180,f^(a*Im<c&&c<a*n)?(i=-o[1]*hw)<zm&&(zm=i):(t<zm&&(zm=t),t>Bm&&(Bm=t))),f?n<Im?ho(km,n)>ho(km,qm)&&(qm=n):ho(n,qm)>ho(km,qm)&&(km=n):qm>=km?(n<km&&(km=n),n>qm&&(qm=n)):n>Im?ho(km,n)>ho(km,qm)&&(qm=n):ho(n,qm)>ho(km,qm)&&(km=n)}else uo(n,t);Gm=r,Im=n}function co(){Ow.point=ao}function fo(){Vm[0]=km,Vm[1]=qm,Ow.point=uo,Gm=null}function lo(n,t){if(Gm){var r=n-Im;Lw.add(gw(r)>180?r+(r>0?360:-360):r)}else Fm=n,Dm=t;Nw.point(n,t),ao(n,t)}function so(){Nw.lineStart()}function po(){lo(Fm,Dm),Nw.lineEnd(),gw(Lw)>cw&&(km=-(qm=180)),Vm[0]=km,Vm[1]=qm,Gm=null}function ho(n,t){return(t-=n)<0?t+360:t}function vo(n,t){return n[0]-t[0]}function go(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}function yo(n,t){n*=vw;var r=mw(t*=vw);mo(r*mw(n),r*Mw(n),Mw(t))}function mo(n,t,r){Wm+=(n-Wm)/++$m,Qm+=(t-Qm)/$m,Jm+=(r-Jm)/$m}function wo(){kw.point=Eo}function Eo(n,t){n*=vw;var r=mw(t*=vw);ow=r*mw(n),iw=r*Mw(n),uw=Mw(t),kw.point=bo,mo(ow,iw,uw)}function bo(n,t){n*=vw;var r=mw(t*=vw),e=r*mw(n),o=r*Mw(n),i=Mw(t),u=yw(_w((u=iw*i-uw*o)*u+(u=uw*e-ow*i)*u+(u=ow*o-iw*e)*u),ow*e+iw*o+uw*i);Hm+=u,Zm+=u*(ow+(ow=e)),Km+=u*(iw+(iw=o)),Xm+=u*(uw+(uw=i)),mo(ow,iw,uw)}function xo(){kw.point=yo}function Mo(){kw.point=_o}function So(){To(rw,ew),kw.point=yo}function _o(n,t){rw=n,ew=t,n*=vw,t*=vw,kw.point=To;var r=mw(t);ow=r*mw(n),iw=r*Mw(n),uw=Mw(t),mo(ow,iw,uw)}function To(n,t){n*=vw;var r=mw(t*=vw),e=r*mw(n),o=r*Mw(n),i=Mw(t),u=iw*i-uw*o,a=uw*e-ow*i,c=ow*o-iw*e,f=_w(u*u+a*a+c*c),l=ow*e+iw*o+uw*i,s=f&&-Ge(l)/f,p=yw(f,l);Ym+=s*u,nw+=s*a,tw+=s*c,Hm+=p,Zm+=p*(ow+(ow=e)),Km+=p*(iw+(iw=o)),Xm+=p*(uw+(uw=i)),mo(ow,iw,uw)}function Co(n,t){return[n>fw?n-pw:n<-fw?n+pw:n,t]}function jo(n,t,r){return(n%=pw)?t||r?qw(Ao(n),Ro(t,r)):Ao(n):t||r?Ro(t,r):Co}function Po(n){return function(t,r){return t+=n,[t>fw?t-pw:t<-fw?t+pw:t,r]}}function Ao(n){var t=Po(n);return t.invert=Po(-n),t}function Ro(n,t){function r(n,t){var r=mw(t),a=mw(n)*r,c=Mw(n)*r,f=Mw(t),l=f*e+a*o;return[yw(c*i-l*u,a*e-f*o),Ue(l*i+c*u)]}var e=mw(n),o=Mw(n),i=mw(t),u=Mw(t);return r.invert=function(n,t){var r=mw(t),a=mw(n)*r,c=Mw(n)*r,f=Mw(t),l=f*i-c*u;return[yw(c*i+f*u,a*e+l*o),Ue(l*e-a*o)]},r}function No(n,t,r,e,o,i){if(r){var u=mw(t),a=Mw(t),c=e*r;null==o?(o=t+e*pw,i=t-c/2):(o=Lo(u,o),i=Lo(u,i),(e>0?o<i:o>i)&&(o+=e*pw));for(var f,l=o;e>0?l>i:l<i;l-=c)f=Ye([u,-a*mw(l),-a*Mw(l)]),n.point(f[0],f[1])}}function Lo(n,t){(t=no(t))[0]-=n,io(t);var r=Ge(-t[1]);return((-t[2]<0?-r:r)+pw-cw)%pw}function Oo(n,t,r,e){this.x=n,this.z=t,this.o=r,this.e=e,this.v=!1,this.n=this.p=null}function ko(n){if(t=n.length){for(var t,r,e=0,o=n[0];++e<t;)o.n=r=n[e],r.p=o,o=r;o.n=r=n[0],r.p=o}}function zo(n,t,r,e){function o(o,i){return n<=o&&o<=r&&t<=i&&i<=e}function i(o,i,a,f){var l=0,s=0;if(null==o||(l=u(o,a))!==(s=u(i,a))||c(o,i)<0^a>0)do{f.point(0===l||3===l?n:r,l>1?e:t)}while((l=(l+a+4)%4)!==s);else f.point(i[0],i[1])}function u(e,o){return gw(e[0]-n)<cw?o>0?0:3:gw(e[0]-r)<cw?o>0?2:1:gw(e[1]-t)<cw?o>0?1:0:o>0?3:2}function a(n,t){return c(n.x,t.x)}function c(n,t){var r=u(n,1),e=u(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(u){function c(n,t){o(n,t)&&x.point(n,t)}function f(){for(var t=0,r=0,o=p.length;r<o;++r)for(var i,u,a=p[r],c=1,f=a.length,l=a[0],s=l[0],h=l[1];c<f;++c)i=s,u=h,s=(l=a[c])[0],h=l[1],u<=e?h>e&&(s-i)*(e-u)>(h-u)*(n-i)&&++t:h<=e&&(s-i)*(e-u)<(h-u)*(n-i)&&--t;return t}function l(i,u){var a=o(i,u);if(p&&h.push([i,u]),E)v=i,g=u,d=a,E=!1,a&&(x.lineStart(),x.point(i,u));else if(a&&w)x.point(i,u);else{var c=[y=Math.max(nE,Math.min(Yw,y)),m=Math.max(nE,Math.min(Yw,m))],f=[i=Math.max(nE,Math.min(Yw,i)),u=Math.max(nE,Math.min(Yw,u))];Zw(c,f,n,t,r,e)?(w||(x.lineStart(),x.point(c[0],c[1])),x.point(f[0],f[1]),a||x.lineEnd(),b=!1):a&&(x.lineStart(),x.point(i,u),b=!1)}y=i,m=u,w=a}var s,p,h,v,g,d,y,m,w,E,b,x=u,M=Jw(),S={point:c,lineStart:function(){S.point=l,p&&p.push(h=[]),E=!0,w=!1,y=m=NaN},lineEnd:function(){s&&(l(v,g),d&&w&&M.rejoin(),s.push(M.result())),S.point=c,w&&x.lineEnd()},polygonStart:function(){x=M,s=[],p=[],b=!0},polygonEnd:function(){var n=f(),t=b&&n,r=(s=Nh(s)).length;(t||r)&&(u.polygonStart(),t&&(u.lineStart(),i(null,null,1,u),u.lineEnd()),r&&Xw(s,a,n,i,u),u.polygonEnd()),x=u,s=p=h=null}};return S}}function qo(){rE.point=rE.lineEnd=$e}function Bo(n,t){Bw=n*=vw,Iw=Mw(t*=vw),Fw=mw(t),rE.point=Io}function Io(n,t){n*=vw;var r=Mw(t*=vw),e=mw(t),o=gw(n-Bw),i=mw(o),u=e*Mw(o),a=Fw*r-Iw*e*i,c=Iw*r+Fw*e*i;tE.add(yw(_w(u*u+a*a),c)),Bw=n,Iw=r,Fw=e}function Fo(n,t,r){var e=Th(n,t-cw,r).concat(t);return function(n){return e.map(function(t){return[n,t]})}}function Do(n,t,r){var e=Th(n,t-cw,r).concat(t);return function(n){return e.map(function(t){return[t,n]})}}function Go(){fE.point=Uo}function Uo(n,t){fE.point=Vo,Dw=Uw=n,Gw=Vw=t}function Vo(n,t){cE.add(Vw*n-Uw*t),Uw=n,Vw=t}function $o(){Vo(Dw,Gw)}function Ho(n,t){gE+=n,dE+=t,++yE}function Wo(){SE.point=Qo}function Qo(n,t){SE.point=Jo,Ho(Ww=n,Qw=t)}function Jo(n,t){var r=n-Ww,e=t-Qw,o=_w(r*r+e*e);mE+=o*(Ww+n)/2,wE+=o*(Qw+t)/2,EE+=o,Ho(Ww=n,Qw=t)}function Zo(){SE.point=Ho}function Ko(){SE.point=Yo}function Xo(){ni($w,Hw)}function Yo(n,t){SE.point=ni,Ho($w=Ww=n,Hw=Qw=t)}function ni(n,t){var r=n-Ww,e=t-Qw,o=_w(r*r+e*e);mE+=o*(Ww+n)/2,wE+=o*(Qw+t)/2,EE+=o,bE+=(o=Qw*n-Ww*t)*(Ww+n),xE+=o*(Qw+t),ME+=3*o,Ho(Ww=n,Qw=t)}function ti(n){this._context=n}function ri(){this._string=[]}function ei(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}function oi(n){return n.length>1}function ii(n,t){return((n=n.x)[0]<0?n[1]-lw-cw:lw-n[1])-((t=t.x)[0]<0?t[1]-lw-cw:lw-t[1])}function ui(n,t,r,e){var o,i,u=Mw(n-r);return gw(u)>cw?dw((Mw(t)*(i=mw(e))*Mw(r)-Mw(e)*(o=mw(t))*Mw(n))/(o*i*u)):(t+e)/2}function ai(n){function t(){}var r=t.prototype=Object.create(ci.prototype);for(var e in n)r[e]=n[e];return function(n){var r=new t;return r.stream=n,r}}function ci(){}function fi(n,t,r){var e=t[1][0]-t[0][0],o=t[1][1]-t[0][1],i=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=i&&n.clipExtent(null),Pw(r,n.stream(vE));var u=vE.result(),a=Math.min(e/(u[1][0]-u[0][0]),o/(u[1][1]-u[0][1])),c=+t[0][0]+(e-a*(u[1][0]+u[0][0]))/2,f=+t[0][1]+(o-a*(u[1][1]+u[0][1]))/2;return null!=i&&n.clipExtent(i),n.scale(150*a).translate([c,f])}function li(n){return function(t,r){return fi(n,[[0,0],t],r)}}function si(n){return function(t,r){return fi(n,t,r)}}function pi(n){return ai({point:function(t,r){t=n(t,r),this.stream.point(t[0],t[1])}})}function hi(n,t){function r(e,o,i,u,a,c,f,l,s,p,h,v,g,d){var y=f-e,m=l-o,w=y*y+m*m;if(w>4*t&&g--){var E=u+p,b=a+h,x=c+v,M=_w(E*E+b*b+x*x),S=Ue(x/=M),_=gw(gw(x)-1)<cw||gw(i-s)<cw?(i+s)/2:yw(b,E),T=n(_,S),C=T[0],j=T[1],P=C-e,A=j-o,R=m*P-y*A;(R*R/w>t||gw((y*P+m*A)/w-.5)>.3||u*p+a*h+c*v<RE)&&(r(e,o,i,u,a,c,C,j,_,E/=M,b/=M,x,g,d),d.point(C,j),r(C,j,_,E,b,x,f,l,s,p,h,v,g,d))}}return function(t){function e(r,e){r=n(r,e),t.point(r[0],r[1])}function o(){y=NaN,x.point=i,t.lineStart()}function i(e,o){var i=no([e,o]),u=n(e,o);r(y,m,d,w,E,b,y=u[0],m=u[1],d=e,w=i[0],E=i[1],b=i[2],AE,t),t.point(y,m)}function u(){x.point=e,t.lineEnd()}function a(){o(),x.point=c,x.lineEnd=f}function c(n,t){i(l=n,t),s=y,p=m,h=w,v=E,g=b,x.point=i}function f(){r(y,m,d,w,E,b,s,p,l,h,v,g,AE,t),x.lineEnd=u,u()}var l,s,p,h,v,g,d,y,m,w,E,b,x={point:e,lineStart:o,lineEnd:u,polygonStart:function(){t.polygonStart(),x.lineStart=a},polygonEnd:function(){t.polygonEnd(),x.lineStart=o}};return x}}function vi(n){return gi(function(){return n})()}function gi(n){function t(n){return n=l(n[0]*vw,n[1]*vw),[n[0]*d+a,c-n[1]*d]}function r(n){return(n=l.invert((n[0]-a)/d,(c-n[1])/d))&&[n[0]*hw,n[1]*hw]}function e(n,t){return n=u(n,t),[n[0]*d+a,c-n[1]*d]}function o(){l=qw(f=jo(b,x,M),u);var n=u(w,E);return a=y-n[0]*d,c=m+n[1]*d,i()}function i(){return v=g=null,t}var u,a,c,f,l,s,p,h,v,g,d=150,y=480,m=250,w=0,E=0,b=0,x=0,M=0,S=null,_=jE,T=null,C=uE,j=.5,P=NE(e,j);return t.stream=function(n){return v&&g===n?v:v=LE(_(f,P(C(g=n))))},t.clipAngle=function(n){return arguments.length?(_=+n?PE(S=n*vw,6*vw):(S=null,jE),i()):S*hw},t.clipExtent=function(n){return arguments.length?(C=null==n?(T=s=p=h=null,uE):zo(T=+n[0][0],s=+n[0][1],p=+n[1][0],h=+n[1][1]),i()):null==T?null:[[T,s],[p,h]]},t.scale=function(n){return arguments.length?(d=+n,o()):d},t.translate=function(n){return arguments.length?(y=+n[0],m=+n[1],o()):[y,m]},t.center=function(n){return arguments.length?(w=n[0]%360*vw,E=n[1]%360*vw,o()):[w*hw,E*hw]},t.rotate=function(n){return arguments.length?(b=n[0]%360*vw,x=n[1]%360*vw,M=n.length>2?n[2]%360*vw:0,o()):[b*hw,x*hw,M*hw]},t.precision=function(n){return arguments.length?(P=NE(e,j=n*n),i()):_w(j)},t.fitExtent=si(t),t.fitSize=li(t),function(){return u=n.apply(this,arguments),t.invert=u.invert&&r,o()}}function di(n){var t=0,r=fw/3,e=gi(n),o=e(t,r);return o.parallels=function(n){return arguments.length?e(t=n[0]*vw,r=n[1]*vw):[t*hw,r*hw]},o}function yi(n,t){function r(n,t){var r=_w(i-2*o*Mw(t))/o;return[r*Mw(n*=o),u-r*mw(n)]}var e=Mw(n),o=(e+Mw(t))/2,i=1+e*(2*o-e),u=_w(i)/o;return r.invert=function(n,t){var r=u-t;return[yw(n,r)/o,Ue((i-(n*n+r*r)*o*o)/(2*o))]},r}function mi(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function wi(n){return function(t,r){var e=mw(t),o=mw(r),i=n(e*o);return[i*o*Mw(t),i*Mw(r)]}}function Ei(n){return function(t,r){var e=_w(t*t+r*r),o=n(e),i=Mw(o),u=mw(o);return[yw(t*i,e*u),Ue(e&&r*i/e)]}}function bi(n,t){return[n,bw(Tw((lw+t)/2))]}function xi(n){var t,r=vi(n),e=r.scale,o=r.translate,i=r.clipExtent;return r.scale=function(n){return arguments.length?(e(n),t&&r.clipExtent(null),r):e()},r.translate=function(n){return arguments.length?(o(n),t&&r.clipExtent(null),r):o()},r.clipExtent=function(n){if(!arguments.length)return t?null:i();if(t=null==n){var u=fw*e(),a=o();n=[[a[0]-u,a[1]-u],[a[0]+u,a[1]+u]]}return i(n),r},r.clipExtent(null)}function Mi(n){return Tw((lw+n)/2)}function Si(n,t){function r(n,t){i>0?t<-lw+cw&&(t=-lw+cw):t>lw-cw&&(t=lw-cw);var r=i/xw(Mi(t),o);return[r*Mw(o*n),i-r*mw(o*n)]}var e=mw(n),o=n===t?Mw(n):bw(e/mw(t))/bw(Mi(t)/Mi(n)),i=e*xw(Mi(n),o)/o;return o?(r.invert=function(n,t){var r=i-t,e=Sw(o)*_w(n*n+r*r);return[yw(n,r)/o,2*dw(xw(i/e,1/o))-lw]},r):bi}function _i(n,t){return[n,t]}function Ti(n,t){function r(n,t){var r=i-t,e=o*n;return[r*Mw(e),i-r*mw(e)]}var e=mw(n),o=n===t?Mw(n):(e-mw(t))/(t-n),i=e/o+n;return gw(o)<cw?_i:(r.invert=function(n,t){var r=i-t;return[yw(n,r)/o,i-Sw(o)*_w(n*n+r*r)]},r)}function Ci(n,t){var r=mw(t),e=mw(n)*r;return[r*Mw(n)/e,Mw(t)/e]}function ji(n,t){return[mw(t)*Mw(n),Mw(t)]}function Pi(n,t){var r=mw(t),e=1+mw(n)*r;return[r*Mw(n)/e,Mw(t)/e]}function Ai(n,t){return[bw(Tw((lw+t)/2)),-n]}function Ri(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Ni(){return new Ri}function Li(n,t,r,e){for(r=r||0,e=e||n.length-1;e>r;){if(e-r>600){var o=e-r+1,i=t-r+1,u=Math.log(o),a=.5*Math.exp(2*u/3),c=.5*Math.sqrt(u*a*(o-a)/o);i-o/2<0&&(c*=-1),Li(n,t,Math.max(r,Math.floor(t-i*a/o+c)),Math.min(e,Math.floor(t+(o-i)*a/o+c)))}var f=n[t],l=r,s=e;for(Oi(n,r,t),n[e]>f&&Oi(n,r,e);l<s;){for(Oi(n,l,s),l++,s--;n[l]<f;)l++;for(;n[s]>f;)s--}n[r]===f?Oi(n,r,s):Oi(n,++s,e),s<=t&&(r=s+1),t<=s&&(e=s-1)}}function Oi(n,t,r){var e=n[t];n[t]=n[r],n[r]=e}function ki(n,t,r,e){t%1==0?Eb(n,t,r,e):(t=Math.floor(t),Eb(n,t,r,e),Eb(n,t+1,t+1,e))}function zi(n,t){for(var r=[0],e=0;e<t.length;e++)r.push(Bi(n.length,t[e]));r.push(n.length-1),r.sort(qi);for(var o=[0,r.length-1];o.length;){var i=Math.ceil(o.pop()),u=Math.floor(o.pop());if(!(i-u<=1)){var a=Math.floor((u+i)/2);ki(n,r[a],r[u],r[i]),o.push(u,a,a,i)}}}function qi(n,t){return n-t}function Bi(n,t){var r=n*t;return 1===t?n-1:0===t?0:r%1!=0?Math.ceil(r)-1:n%2==0?r-.5:r}function Ii(n,t){for(var r=[],e=0;e<n;e++){for(var o=[],i=0;i<t;i++)o.push(0);r.push(o)}return r}function Fi(n,t,r,e){var o;if(n>0){var i=(r[t]-r[n-1])/(t-n+1);o=e[t]-e[n-1]-(t-n+1)*i*i}else o=e[t]-r[t]*r[t]/(t+1);return o<0?0:o}function Di(n,t,r,e,o,i,u){if(!(n>t)){var a=Math.floor((n+t)/2);e[r][a]=e[r-1][a-1],o[r][a]=a;var c=r;n>r&&(c=Math.max(c,o[r][n-1]||0)),c=Math.max(c,o[r-1][a]||0);var f=a-1;t<e.length-1&&(f=Math.min(f,o[r][t+1]||0));for(var l,s,p,h=f;h>=c&&!((l=Fi(h,a,i,u))+e[r-1][c-1]>=e[r][a]);--h)(s=Fi(c,a,i,u)+e[r-1][c-1])<e[r][a]&&(e[r][a]=s,o[r][a]=c),c++,(p=l+e[r-1][h-1])<e[r][a]&&(e[r][a]=p,o[r][a]=h);Di(n,a-1,r,e,o,i,u),Di(a+1,t,r,e,o,i,u)}}function Gi(n,t,r){for(var e,o=t[0].length,i=n[Math.floor(o/2)],u=[],a=[],c=0;c<o;++c)e=n[c]-i,0===c?(u.push(e),a.push(e*e)):(u.push(u[c-1]+e),a.push(a[c-1]+e*e)),t[0][c]=Fi(0,c,u,a),r[0][c]=0;for(var f=1;f<t.length;++f)Di(f<t.length-1?f:o-1,o-1,f,t,r,u,a)}function Ui(n,t){var r,e,o,i,u=[];for(r=0;r<n.length;r++)if(1===t)u.push([n[r]]);else for(o=Ui(n.slice(r+1,n.length),t-1),e=0;e<o.length;e++)(i=o[e]).unshift(n[r]),u.push(i);return u}function Vi(n,t){for(var r=[],e=0;e<n.length;e++)if(1===t)r.push([n[e]]);else for(var o=Vi(n.slice(e,n.length),t-1),i=0;i<o.length;i++)r.push([n[e]].concat(o[i]));return r}function $i(){this.totalCount=0,this.data={}}function Hi(){this.weights=[],this.bias=0}function Wi(n){return new Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}")}function Qi(n,t){var r=Wi(n);return function(e,o){return t(r(e),o,n)}}function Ji(n){var t=Object.create(null),r=[];return n.forEach(function(n){for(var e in n)e in t||r.push(t[e]=e)}),r}function Zi(n){var t=n.match(Kx);return t?t.map(Number):[]}function Ki(n){if(!(this instanceof Ki))return new Ki(n);this._path=Xx(n)?n:Qx(n),this._path=Yx(this._path),this._path=Yi(this._path)}function Xi(n,t,r,e){var o=n-r,i=t-e;return Math.sqrt(o*o+i*i)}function Yi(n){for(var t=[],r=["L",0,0],e=0,o=n.length;e<o;e++){var i=n[e];switch(i[0]){case"M":r=["L",i[1],i[2]],t.push(i);break;case"Z":t.push(r);break;default:t.push(i)}}return t}function nu(n,t,r){r.dataType="geo";var e=Fy(n.features);return Gy(e,function(n){n.name=n.properties.name,n.longitude=[],n.latitude=[];var t=n.pathData=eM(n),r=nM(t);Gy(r._path,function(t){n.longitude.push(t[1]),n.latitude.push(t[2])}),n.centroid=eM.centroid(n)}),r.rows=e,n.features}function tu(n,t){return n.parent===t.parent?1:2}function ru(n){return n.reduce(eu,0)/n.length}function eu(n,t){return n+t.x}function ou(n){return 1+n.reduce(iu,0)}function iu(n,t){return Math.max(n,t.y)}function uu(n){for(var t;t=n.children;)n=t[0];return n}function au(n){for(var t;t=n.children;)n=t[t.length-1];return n}function cu(n){var t=0,r=n.children,e=r&&r.length;if(e)for(;--e>=0;)t+=r[e].value;else t=1;n.value=t}function fu(n,t){if(n===t)return n;var r=n.ancestors(),e=t.ancestors(),o=null;for(n=r.pop(),t=e.pop();n===t;)o=n,n=r.pop(),t=e.pop();return o}function lu(n,t){var r,e,o,i,u,a=new vu(n),c=+n.value&&(a.value=n.value),f=[a];for(null==t&&(t=su);r=f.pop();)if(c&&(r.value=+r.data.value),(o=t(r.data))&&(u=o.length))for(r.children=new Array(u),i=u-1;i>=0;--i)f.push(e=r.children[i]=new vu(o[i])),e.parent=r,e.depth=r.depth+1;return a.eachBefore(hu)}function su(n){return n.children}function pu(n){n.data=n.data.data}function hu(n){var t=0;do{n.height=t}while((n=n.parent)&&n.height<++t)}function vu(n){this.data=n,this.depth=this.height=0,this.parent=null}function gu(n){for(var t,r,e=n.length;e;)r=Math.random()*e--|0,t=n[e],n[e]=n[r],n[r]=t;return n}function du(n,t){var r,e;if(wu(t,n))return[t];for(r=0;r<n.length;++r)if(yu(t,n[r])&&wu(xu(n[r],t),n))return[n[r],t];for(r=0;r<n.length-1;++r)for(e=r+1;e<n.length;++e)if(yu(xu(n[r],n[e]),t)&&yu(xu(n[r],t),n[e])&&yu(xu(n[e],t),n[r])&&wu(Mu(n[r],n[e],t),n))return[n[r],n[e],t];throw new Error}function yu(n,t){var r=n.r-t.r,e=t.x-n.x,o=t.y-n.y;return r<0||r*r<e*e+o*o}function mu(n,t){var r=n.r-t.r+1e-6,e=t.x-n.x,o=t.y-n.y;return r>0&&r*r>e*e+o*o}function wu(n,t){for(var r=0;r<t.length;++r)if(!mu(n,t[r]))return!1;return!0}function Eu(n){switch(n.length){case 1:return bu(n[0]);case 2:return xu(n[0],n[1]);case 3:return Mu(n[0],n[1],n[2])}}function bu(n){return{x:n.x,y:n.y,r:n.r}}function xu(n,t){var r=n.x,e=n.y,o=n.r,i=t.x,u=t.y,a=t.r,c=i-r,f=u-e,l=a-o,s=Math.sqrt(c*c+f*f);return{x:(r+i+c/s*l)/2,y:(e+u+f/s*l)/2,r:(s+o+a)/2}}function Mu(n,t,r){var e=n.x,o=n.y,i=n.r,u=t.x,a=t.y,c=t.r,f=r.x,l=r.y,s=r.r,p=e-u,h=e-f,v=o-a,g=o-l,d=c-i,y=s-i,m=e*e+o*o-i*i,w=m-u*u-a*a+c*c,E=m-f*f-l*l+s*s,b=h*v-p*g,x=(v*E-g*w)/(2*b)-e,M=(g*d-v*y)/b,S=(h*w-p*E)/(2*b)-o,_=(p*y-h*d)/b,T=M*M+_*_-1,C=2*(i+x*M+S*_),j=x*x+S*S-i*i,P=-(T?(C+Math.sqrt(C*C-4*T*j))/(2*T):j/C);return{x:e+x+M*P,y:o+S+_*P,r:P}}function Su(n,t,r){var e=n.x,o=n.y,i=t.r+r.r,u=n.r+r.r,a=t.x-e,c=t.y-o,f=a*a+c*c;if(f){var l=.5+((u*=u)-(i*=i))/(2*f),s=Math.sqrt(Math.max(0,2*i*(u+f)-(u-=f)*u-i*i))/(2*f);r.x=e+l*a+s*c,r.y=o+l*c-s*a}else r.x=e+u,r.y=o}function _u(n,t){var r=t.x-n.x,e=t.y-n.y,o=n.r+t.r;return o*o-1e-6>r*r+e*e}function Tu(n){var t=n._,r=n.next._,e=t.r+r.r,o=(t.x*r.r+r.x*t.r)/e,i=(t.y*r.r+r.y*t.r)/e;return o*o+i*i}function Cu(n){this._=n,this.next=null,this.previous=null}function ju(n){if(!(o=n.length))return 0;var t,r,e,o,i,u,a,c,f,l,s;if(t=n[0],t.x=0,t.y=0,!(o>1))return t.r;if(r=n[1],t.x=-r.r,r.x=t.r,r.y=0,!(o>2))return t.r+r.r;Su(r,t,e=n[2]),t=new Cu(t),r=new Cu(r),e=new Cu(e),t.next=e.previous=r,r.next=t.previous=e,e.next=r.previous=t;n:for(a=3;a<o;++a){Su(t._,r._,e=n[a]),e=new Cu(e),c=r.next,f=t.previous,l=r._.r,s=t._.r;do{if(l<=s){if(_u(c._,e._)){r=c,t.next=r,r.previous=t,--a;continue n}l+=c._.r,c=c.next}else{if(_u(f._,e._)){(t=f).next=r,r.previous=t,--a;continue n}s+=f._.r,f=f.previous}}while(c!==f.next);for(e.previous=t,e.next=r,t.next=r.previous=r=e,i=Tu(t);(e=e.next)!==r;)(u=Tu(e))<i&&(t=e,i=u);r=t.next}for(t=[r._],e=r;(e=e.next)!==r;)t.push(e._);for(e=uM(t),a=0;a<o;++a)t=n[a],t.x-=e.x,t.y-=e.y;return e.r}function Pu(n){return null==n?null:Au(n)}function Au(n){if("function"!=typeof n)throw new Error;return n}function Ru(){return 0}function Nu(n){return Math.sqrt(n.value)}function Lu(n){return function(t){t.children||(t.r=Math.max(0,+n(t)||0))}}function Ou(n,t){return function(r){if(e=r.children){var e,o,i,u=e.length,a=n(r)*t||0;if(a)for(o=0;o<u;++o)e[o].r+=a;if(i=ju(e),a)for(o=0;o<u;++o)e[o].r-=a;r.r=i+a}}}function ku(n){return function(t){var r=t.parent;t.r*=n,r&&(t.x=r.x+n*t.x,t.y=r.y+n*t.y)}}function zu(n){return n.id}function qu(n){return n.parentId}function Bu(n,t){return n.parent===t.parent?1:2}function Iu(n){var t=n.children;return t?t[0]:n.t}function Fu(n){var t=n.children;return t?t[t.length-1]:n.t}function Du(n,t,r){var e=r/(t.i-n.i);t.c-=e,t.s+=r,n.c+=e,t.z+=r,t.m+=r}function Gu(n){for(var t,r=0,e=0,o=n.children,i=o.length;--i>=0;)(t=o[i]).z+=r,t.m+=r,r+=t.s+(e+=t.c)}function Uu(n,t,r){return n.a.parent===t.parent?n.a:r}function Vu(n,t){this._=n,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function $u(n){for(var t,r,e,o,i,u=new Vu(n,0),a=[u];t=a.pop();)if(e=t._.children)for(t.children=new Array(i=e.length),o=i-1;o>=0;--o)a.push(r=t.children[o]=new Vu(e[o],o)),r.parent=t;return(u.parent=new Vu(null,0)).children=[u],u}function Hu(n,t,r,e,o,i){for(var u,a,c,f,l,s,p,h,v,g,d,y=[],m=t.children,w=0,E=0,b=m.length,x=t.value;w<b;){c=o-r,f=i-e;do{l=m[E++].value}while(!l&&E<b);for(s=p=l,d=l*l*(g=Math.max(f/c,c/f)/(x*n)),v=Math.max(p/d,d/s);E<b;++E){if(l+=a=m[E].value,a<s&&(s=a),a>p&&(p=a),d=l*l*g,(h=Math.max(p/d,d/s))>v){l-=a;break}v=h}y.push(u={value:l,dice:c<f,children:m.slice(w,E)}),u.dice?fM(u,r,e,o,x?e+=f*l/x:i):hM(u,r,e,x?r+=c*l/x:o,i),x-=l,w=E}return y}function Wu(n,t,r){r.dataType="hierarchy";var e=t&&t.children?t.children:null;return r.rows=r.root=wM(n,e),n}function Qu(n,t){var r=t.id,e=t.bbox,o=null==t.properties?{}:t.properties,i=Ju(n,t);return null==r&&null==e?{type:"Feature",properties:o,geometry:i}:null==e?{type:"Feature",id:r,properties:o,geometry:i}:{type:"Feature",id:r,bbox:e,properties:o,geometry:i}}function Ju(n,t){function r(n,t){t.length&&t.pop();for(var r=f[n<0?~n:n],e=0,o=r.length;e<o;++e)t.push(c(r[e],e));n<0&&SM(t,o)}function e(n){return c(n)}function o(n){for(var t=[],e=0,o=n.length;e<o;++e)r(n[e],t);return t.length<2&&t.push(t[0]),t}function i(n){for(var t=o(n);t.length<4;)t.push(t[0]);return t}function u(n){return n.map(i)}function a(n){var t,r=n.type;switch(r){case"GeometryCollection":return{type:r,geometries:n.geometries.map(a)};case"Point":t=e(n.coordinates);break;case"MultiPoint":t=n.coordinates.map(e);break;case"LineString":t=o(n.arcs);break;case"MultiLineString":t=n.arcs.map(o);break;case"Polygon":t=u(n.arcs);break;case"MultiPolygon":t=n.arcs.map(u);break;default:return null}return{type:r,coordinates:t}}var c=xM(n.transform),f=n.arcs;return a(t)}function Zu(n,t,r){var e,o,i;if(arguments.length>1)e=Ku(n,t,r);else for(o=0,e=new Array(i=n.arcs.length);o<i;++o)e[o]=o;return{type:"MultiLineString",arcs:_M(n,e)}}function Ku(n,t,r){function e(n){var t=n<0?~n:n;(l[t]||(l[t]=[])).push({i:n,g:c})}function o(n){n.forEach(e)}function i(n){n.forEach(o)}function u(n){n.forEach(i)}function a(n){switch(c=n,n.type){case"GeometryCollection":n.geometries.forEach(a);break;case"LineString":o(n.arcs);break;case"MultiLineString":case"Polygon":i(n.arcs);break;case"MultiPolygon":u(n.arcs)}}var c,f=[],l=[];return a(t),l.forEach(null==r?function(n){f.push(n[0].i)}:function(n){r(n[0].g,n[n.length-1].g)&&f.push(n[0].i)}),f}function Xu(n){for(var t,r=-1,e=n.length,o=n[e-1],i=0;++r<e;)t=o,o=n[r],i+=t[0]*o[1]-t[1]*o[0];return Math.abs(i)}function Yu(n,t){function r(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(r);break;case"Polygon":e(n.arcs);break;case"MultiPolygon":n.arcs.forEach(e)}}function e(n){n.forEach(function(t){t.forEach(function(t){(i[t=t<0?~t:t]||(i[t]=[])).push(n)})}),u.push(n)}function o(t){return Xu(Ju(n,{type:"Polygon",arcs:[t]}).coordinates[0])}var i={},u=[],a=[];return t.forEach(r),u.forEach(function(n){if(!n._){var t=[],r=[n];for(n._=1,a.push(t);n=r.pop();)t.push(n),n.forEach(function(n){n.forEach(function(n){i[n<0?~n:n].forEach(function(n){n._||(n._=1,r.push(n))})})})}}),u.forEach(function(n){delete n._}),{type:"MultiPolygon",arcs:a.map(function(t){var r,e=[];if(t.forEach(function(n){n.forEach(function(n){n.forEach(function(n){i[n<0?~n:n].length<2&&e.push(n)})})}),e=_M(n,e),(r=e.length)>1)for(var u,a,c=1,f=o(e[0]);c<r;++c)(u=o(e[c]))>f&&(a=e[0],e[0]=e[c],e[c]=a,f=u);return e})}}function na(n,t,r){var e=t.object;if(!e)throw new TypeError("Invalid options");var o=PM(n,n.objects[e]);return oM(o,t,r)}function ta(n){return!!n}function ra(n){return n}function ea(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.rows=oS(n.rows,t.fields||[n.getColumnName(0)]);var r=t.order;r&&-1===sm(uS,r)?console.warn("Invalid order"):"DESC"===r&&(n.rows=eS(n.rows))}function oa(n,t){var r=dm(n,function(n){return n});return Gy(t,function(n){var t=sm(r,n);t>-1&&r.splice(t,1)}),r}function ia(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=Rf({},cS,t);var r=n.rows,e=t.groupBy,o=t.orderBy,i=XM(r,e,o),u=0,a=[];Gy(i,function(n){n.length>u&&(u=n.length,a=n)});var c=[],f={};Gy(a,function(n){var t=dm(o,function(t){return n[t]}).join("-");c.push(t),f[t]=n}),Gy(i,function(n){if(n!==a&&n.length<u){var t=n[0],i=[];Gy(n,function(n){i.push(dm(o,function(t){return n[t]}).join("-"))});var l=oa(c,i);qs(l,function(i,a){if(a>=u-n.length)return!0;var c=f[i],l={};return Gy(e,function(n){l[n]=t[n]}),Gy(o,function(n){l[n]=c[n]}),r.push(l),!1})}})}function ua(n){return Vy(n,function(n){return!pS(n)})}function aa(n,t){t=Rf({},mS,t);var r=n.rows,e=t.groupBy,o=t.fields,i=t.as||[],u=t.operations;gf(u)&&u.length||(i=u=[wS]);var a=XM(r,e),c=[];um(a,function(n){var t=Sm(n[0],e);Gy(u,function(r,e){var u=i[e],a=o[e];t[u]=ES[r](n,a)}),c.push(t)}),n.rows=c}function ca(n){return n[0]}function fa(n){return n[1]}function la(n){return jS.map(function(t){return{x:Math.sin(t)*n,y:-Math.cos(t)*n}})}function sa(n,t,r){var e={},o=r[0],i=r[1];return e[o]=[],e[i]=[],Gy(n,function(n){e[o].push(n.x+t.x),e[i].push(n.y+t.y)}),e}function pa(n,t){var r=SS(),e=(t=Rf({},TS,t)).fields;if(!gf(e)||2!==e.length)throw new TypeError("Invalid option: fields");var o=e[0],i=e[1],u=dm(n.rows,function(n){return[n[o],n[i]]}),a=t.radius;a&&r.radius(a);var c={};Gy(r(u),function(n){Gy(n,function(t){var r=t[0]+"-"+t[1];c[r]={x:n.x,y:n.y}})});var f=la(r.radius()),l={};um(c,function(n){var r=n.x+"-"+n.y;l[r]||(l[r]=sa(f,n,t.as))}),Gy(n.rows,function(n){var t=n[o]+"-"+n[i],r=c[t],e=r.x+"-"+r.y;Rf(n,l[e])})}function ha(n,t){var r=AS(),e=(t=Rf({},NS,t)).field,o=t.domain,i=t.thresholds;if(!e)throw new TypeError("Invalid option: field");var u=n.rows,a=n.getColumn(e);o&&r.domain(o),i&&r.thresholds(i);var c={};Gy(r(a),function(n){Gy(n,function(r){(c[r]={})[t.as]=[n.x0,n.x1]})}),Gy(u,function(n){var t=c[n[e]];Rf(n,t)})}function va(n,t,r){var e=kS(),o=t.field,i=t.as,u=n.rows,a=n.getColumn(o),c=t.thresholds;c&&e.thresholds(c);var f={};Gy(e(a),function(n){Gy(n,function(t){var e=f[t]={};e[i]=r?[n.x0,n.x1,n.x1,n.x0]:[n.x0,n.x0,n.x1,n.x1]})}),Gy(u,function(n){var t=f[n[o]];Rf(n,t)})}function ga(n,t){var r=(t=Rf({},qS,t)).fields;if(!gf(r)&&2!==r.length)throw new TypeError("Invalid option: fields");va(n,{field:r[0],thresholds:t.thresholdsX,as:t.as[0]},!0),va(n,{field:r[1],thresholds:t.thresholdsY,as:t.as[1]})}function da(n){return n[0]}function ya(n){return n[1]}function ma(){this._=null}function wa(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function Ea(n,t){var r=t,e=t.R,o=r.U;o?o.L===r?o.L=e:o.R=e:n._=e,e.U=o,r.U=e,r.R=e.L,r.R&&(r.R.U=r),e.L=r}function ba(n,t){var r=t,e=t.L,o=r.U;o?o.L===r?o.L=e:o.R=e:n._=e,e.U=o,r.U=e,r.L=e.R,r.L&&(r.L.U=r),e.R=r}function xa(n){for(;n.L;)n=n.L;return n}function Ma(n,t,r,e){var o=[null,null],i=QS.push(o)-1;return o.left=n,o.right=t,r&&_a(o,n,t,r),e&&_a(o,t,n,e),HS[n.index].halfedges.push(i),HS[t.index].halfedges.push(i),o}function Sa(n,t,r){var e=[t,r];return e.left=n,e}function _a(n,t,r,e){n[0]||n[1]?n.left===r?n[1]=e:n[0]=e:(n[0]=e,n.left=t,n.right=r)}function Ta(n,t,r,e,o){var i,u=n[0],a=n[1],c=u[0],f=u[1],l=0,s=1,p=a[0]-c,h=a[1]-f;if(i=t-c,p||!(i>0)){if(i/=p,p<0){if(i<l)return;i<s&&(s=i)}else if(p>0){if(i>s)return;i>l&&(l=i)}if(i=e-c,p||!(i<0)){if(i/=p,p<0){if(i>s)return;i>l&&(l=i)}else if(p>0){if(i<l)return;i<s&&(s=i)}if(i=r-f,h||!(i>0)){if(i/=h,h<0){if(i<l)return;i<s&&(s=i)}else if(h>0){if(i>s)return;i>l&&(l=i)}if(i=o-f,h||!(i<0)){if(i/=h,h<0){if(i>s)return;i>l&&(l=i)}else if(h>0){if(i<l)return;i<s&&(s=i)}return!(l>0||s<1)||(l>0&&(n[0]=[c+l*p,f+l*h]),s<1&&(n[1]=[c+s*p,f+s*h]),!0)}}}}}function Ca(n,t,r,e,o){var i=n[1];if(i)return!0;var u,a,c=n[0],f=n.left,l=n.right,s=f[0],p=f[1],h=l[0],v=l[1],g=(s+h)/2,d=(p+v)/2;if(v===p){if(g<t||g>=e)return;if(s>h){if(c){if(c[1]>=o)return}else c=[g,r];i=[g,o]}else{if(c){if(c[1]<r)return}else c=[g,o];i=[g,r]}}else if(u=(s-h)/(v-p),a=d-u*g,u<-1||u>1)if(s>h){if(c){if(c[1]>=o)return}else c=[(r-a)/u,r];i=[(o-a)/u,o]}else{if(c){if(c[1]<r)return}else c=[(o-a)/u,o];i=[(r-a)/u,r]}else if(p<v){if(c){if(c[0]>=e)return}else c=[t,u*t+a];i=[e,u*e+a]}else{if(c){if(c[0]<t)return}else c=[e,u*e+a];i=[t,u*t+a]}return n[0]=c,n[1]=i,!0}function ja(n,t,r,e){for(var o,i=QS.length;i--;)Ca(o=QS[i],n,t,r,e)&&Ta(o,n,t,r,e)&&(Math.abs(o[0][0]-o[1][0])>KS||Math.abs(o[0][1]-o[1][1])>KS)||delete QS[i]}function Pa(n){return HS[n.index]={site:n,halfedges:[]}}function Aa(n,t){var r=n.site,e=t.left,o=t.right;return r===o&&(o=e,e=r),o?Math.atan2(o[1]-e[1],o[0]-e[0]):(r===e?(e=t[1],o=t[0]):(e=t[0],o=t[1]),Math.atan2(e[0]-o[0],o[1]-e[1]))}function Ra(n,t){return t[+(t.left!==n.site)]}function Na(n,t){return t[+(t.left===n.site)]}function La(){for(var n,t,r,e,o=0,i=HS.length;o<i;++o)if((n=HS[o])&&(e=(t=n.halfedges).length)){var u=new Array(e),a=new Array(e);for(r=0;r<e;++r)u[r]=r,a[r]=Aa(n,QS[t[r]]);for(u.sort(function(n,t){return a[t]-a[n]}),r=0;r<e;++r)a[r]=t[u[r]];for(r=0;r<e;++r)t[r]=a[r]}}function Oa(n,t,r,e){var o,i,u,a,c,f,l,s,p,h,v,g,d=HS.length,y=!0;for(o=0;o<d;++o)if(i=HS[o]){for(u=i.site,a=(c=i.halfedges).length;a--;)QS[c[a]]||c.splice(a,1);for(a=0,f=c.length;a<f;)v=(h=Na(i,QS[c[a]]))[0],g=h[1],s=(l=Ra(i,QS[c[++a%f]]))[0],p=l[1],(Math.abs(v-s)>KS||Math.abs(g-p)>KS)&&(c.splice(a,0,QS.push(Sa(u,h,Math.abs(v-n)<KS&&e-g>KS?[n,Math.abs(s-n)<KS?p:e]:Math.abs(g-e)<KS&&r-v>KS?[Math.abs(p-e)<KS?s:r,e]:Math.abs(v-r)<KS&&g-t>KS?[r,Math.abs(s-r)<KS?p:t]:Math.abs(g-t)<KS&&v-n>KS?[Math.abs(p-t)<KS?s:n,t]:null))-1),++f);f&&(y=!1)}if(y){var m,w,E,b=1/0;for(o=0,y=null;o<d;++o)(i=HS[o])&&(E=(m=(u=i.site)[0]-n)*m+(w=u[1]-t)*w)<b&&(b=E,y=i);if(y){var x=[n,t],M=[n,e],S=[r,e],_=[r,t];y.halfedges.push(QS.push(Sa(u=y.site,x,M))-1,QS.push(Sa(u,M,S))-1,QS.push(Sa(u,S,_))-1,QS.push(Sa(u,_,x))-1)}}for(o=0;o<d;++o)(i=HS[o])&&(i.halfedges.length||delete HS[o])}function ka(){wa(this),this.x=this.y=this.arc=this.site=this.cy=null}function za(n){var t=n.P,r=n.N;if(t&&r){var e=t.site,o=n.site,i=r.site;if(e!==i){var u=o[0],a=o[1],c=e[0]-u,f=e[1]-a,l=i[0]-u,s=i[1]-a,p=2*(c*s-f*l);if(!(p>=-XS)){var h=c*c+f*f,v=l*l+s*s,g=(s*h-f*v)/p,d=(c*v-l*h)/p,y=JS.pop()||new ka;y.arc=n,y.site=o,y.x=g+u,y.y=(y.cy=d+a)+Math.sqrt(g*g+d*d),n.circle=y;for(var m=null,w=WS._;w;)if(y.y<w.y||y.y===w.y&&y.x<=w.x){if(!w.L){m=w.P;break}w=w.L}else{if(!w.R){m=w;break}w=w.R}WS.insert(m,y),m||(VS=y)}}}}function qa(n){var t=n.circle;t&&(t.P||(VS=t.N),WS.remove(t),JS.push(t),wa(t),n.circle=null)}function Ba(){wa(this),this.edge=this.site=this.circle=null}function Ia(n){var t=ZS.pop()||new Ba;return t.site=n,t}function Fa(n){qa(n),$S.remove(n),ZS.push(n),wa(n)}function Da(n){var t=n.circle,r=t.x,e=t.cy,o=[r,e],i=n.P,u=n.N,a=[n];Fa(n);for(var c=i;c.circle&&Math.abs(r-c.circle.x)<KS&&Math.abs(e-c.circle.cy)<KS;)i=c.P,a.unshift(c),Fa(c),c=i;a.unshift(c),qa(c);for(var f=u;f.circle&&Math.abs(r-f.circle.x)<KS&&Math.abs(e-f.circle.cy)<KS;)u=f.N,a.push(f),Fa(f),f=u;a.push(f),qa(f);var l,s=a.length;for(l=1;l<s;++l)f=a[l],c=a[l-1],_a(f.edge,c.site,f.site,o);c=a[0],(f=a[s-1]).edge=Ma(c.site,f.site,null,o),za(c),za(f)}function Ga(n){for(var t,r,e,o,i=n[0],u=n[1],a=$S._;a;)if((e=Ua(a,u)-i)>KS)a=a.L;else{if(!((o=i-Va(a,u))>KS)){e>-KS?(t=a.P,r=a):o>-KS?(t=a,r=a.N):t=r=a;break}if(!a.R){t=a;break}a=a.R}Pa(n);var c=Ia(n);if($S.insert(t,c),t||r){if(t===r)return qa(t),r=Ia(t.site),$S.insert(c,r),c.edge=r.edge=Ma(t.site,c.site),za(t),void za(r);if(r){qa(t),qa(r);var f=t.site,l=f[0],s=f[1],p=n[0]-l,h=n[1]-s,v=r.site,g=v[0]-l,d=v[1]-s,y=2*(p*d-h*g),m=p*p+h*h,w=g*g+d*d,E=[(d*m-h*w)/y+l,(p*w-g*m)/y+s];_a(r.edge,f,v,E),c.edge=Ma(f,n,null,E),r.edge=Ma(n,v,null,E),za(t),za(r)}else c.edge=Ma(t.site,c.site)}}function Ua(n,t){var r=n.site,e=r[0],o=r[1],i=o-t;if(!i)return e;var u=n.P;if(!u)return-1/0;var a=(r=u.site)[0],c=r[1],f=c-t;if(!f)return a;var l=a-e,s=1/i-1/f,p=l/f;return s?(-p+Math.sqrt(p*p-2*s*(l*l/(-2*f)-c+f/2+o-i/2)))/s+e:(e+a)/2}function Va(n,t){var r=n.N;if(r)return Ua(r,t);var e=n.site;return e[1]===t?e[0]:1/0}function $a(n,t,r){return(n[0]-r[0])*(t[1]-n[1])-(n[0]-t[0])*(r[1]-n[1])}function Ha(n,t){return t[1]-n[1]||t[0]-n[0]}function Wa(n,t){var r,e,o,i=n.sort(Ha).pop();for(QS=[],HS=new Array(n.length),$S=new ma,WS=new ma;;)if(o=VS,i&&(!o||i[1]<o.y||i[1]===o.y&&i[0]<o.x))i[0]===r&&i[1]===e||(Ga(i),r=i[0],e=i[1]),i=n.pop();else{if(!o)break;Da(o.arc)}if(La(),t){var u=+t[0][0],a=+t[0][1],c=+t[1][0],f=+t[1][1];ja(u,a,c,f),Oa(u,a,c,f)}this.edges=QS,this.cells=HS,$S=WS=QS=HS=null}function Qa(n,t){var r=(t=Rf({},r_,t)).as;if(!gf(r)||2!==r.length)throw new TypeError("Invalid option: as");var e=r[0],o=r[1],i=t.x,u=t.y;if(!i||!u)throw new TypeError("Invalid options");var a=n.rows,c=dm(a,function(n){return[n[i],n[u]]}),f=n_.voronoi();t.extend&&f.extent(t.extend),t.size&&f.size(t.size);var l=f(c).polygons();Gy(a,function(n,t){var r=Vy(l[t],function(n){return!!n});n[e]=dm(r,function(n){return n[0]}),n[o]=dm(r,function(n){return n[1]})})}function Ja(n,t){if("hierarchy"!==n.dataType)throw new TypeError("This transform is for Hierarchy data only");var r=n.root,e=(t=Rf({},o_,t)).as;if(!gf(e)||2!==e.length)throw new TypeError("Invalid option: as");t.field&&r.sum(function(n){return n[t.field]});var o=mM.treemap();o.tile(mM[t.tile]).size(t.size).round(t.round).padding(t.padding).paddingInner(t.paddingInner).paddingOuter(t.paddingOuter).paddingTop(t.paddingTop).paddingRight(t.paddingRight).paddingBottom(t.paddingBottom).paddingLeft(t.paddingLeft),o(r);var i=e[0],u=e[1];r.each(function(n){n[i]=[n.x0,n.x1,n.x1,n.x0],n[u]=[n.y1,n.y1,n.y0,n.y0],Gy(["x0","x1","y0","y1"],function(t){-1===sm(e,t)&&delete n[t]})})}var Za="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ka="object"==typeof Za&&Za&&Za.Object===Object&&Za,Xa="object"==typeof self&&self&&self.Object===Object&&self,Ya=Ka||Xa||Function("return this")(),nc=Ya.Symbol,tc=Object.prototype,rc=tc.hasOwnProperty,ec=tc.toString,oc=nc?nc.toStringTag:void 0,ic=function(n){var t=rc.call(n,oc),r=n[oc];try{n[oc]=void 0;var e=!0}catch(n){}var o=ec.call(n);return e&&(t?n[oc]=r:delete n[oc]),o},uc=Object.prototype.toString,ac=function(n){return uc.call(n)},cc="[object Null]",fc="[object Undefined]",lc=nc?nc.toStringTag:void 0,sc=function(n){return null==n?void 0===n?fc:cc:lc&&lc in Object(n)?ic(n):ac(n)},pc=function(n){var t=typeof n;return null!=n&&("object"==t||"function"==t)},hc="[object AsyncFunction]",vc="[object Function]",gc="[object GeneratorFunction]",dc="[object Proxy]",yc=function(n){if(!pc(n))return!1;var t=sc(n);return t==vc||t==gc||t==hc||t==dc},mc=Ya["__core-js_shared__"],wc=function(){var n=/[^.]+$/.exec(mc&&mc.keys&&mc.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Ec=function(n){return!!wc&&wc in n},bc=Function.prototype.toString,xc=function(n){if(null!=n){try{return bc.call(n)}catch(n){}try{return n+""}catch(n){}}return""},Mc=/[\\^$.*+?()[\]{}|]/g,Sc=/^\[object .+?Constructor\]$/,_c=Function.prototype,Tc=Object.prototype,Cc=_c.toString,jc=Tc.hasOwnProperty,Pc=RegExp("^"+Cc.call(jc).replace(Mc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ac=function(n){return!(!pc(n)||Ec(n))&&(yc(n)?Pc:Sc).test(xc(n))},Rc=function(n,t){return null==n?void 0:n[t]},Nc=function(n,t){var r=Rc(n,t);return Ac(r)?r:void 0},Lc=function(){try{var n=Nc(Object,"defineProperty");return n({},"",{}),n}catch(n){}}(),Oc=function(n,t,r){"__proto__"==t&&Lc?Lc(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r},kc=function(n,t){return n===t||n!==n&&t!==t},zc=Object.prototype.hasOwnProperty,qc=function(n,t,r){var e=n[t];zc.call(n,t)&&kc(e,r)&&(void 0!==r||t in n)||Oc(n,t,r)},Bc=function(n,t,r,e){var o=!r;r||(r={});for(var i=-1,u=t.length;++i<u;){var a=t[i],c=e?e(r[a],n[a],a,r,n):void 0;void 0===c&&(c=n[a]),o?Oc(r,a,c):qc(r,a,c)}return r},Ic=function(n){return n},Fc=function(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)},Dc=Math.max,Gc=function(n,t,r){return t=Dc(void 0===t?n.length-1:t,0),function(){for(var e=arguments,o=-1,i=Dc(e.length-t,0),u=Array(i);++o<i;)u[o]=e[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=e[o];return a[t]=r(u),Fc(n,this,a)}},Uc=function(n){return function(){return n}},Vc=Lc?function(n,t){return Lc(n,"toString",{configurable:!0,enumerable:!1,value:Uc(t),writable:!0})}:Ic,$c=800,Hc=16,Wc=Date.now,Qc=function(n){var t=0,r=0;return function(){var e=Wc(),o=Hc-(e-r);if(r=e,o>0){if(++t>=$c)return arguments[0]}else t=0;return n.apply(void 0,arguments)}}(Vc),Jc=function(n,t){return Qc(Gc(n,t,Ic),n+"")},Zc=9007199254740991,Kc=function(n){return"number"==typeof n&&n>-1&&n%1==0&&n<=Zc},Xc=function(n){return null!=n&&Kc(n.length)&&!yc(n)},Yc=9007199254740991,nf=/^(?:0|[1-9]\d*)$/,tf=function(n,t){return!!(t=null==t?Yc:t)&&("number"==typeof n||nf.test(n))&&n>-1&&n%1==0&&n<t},rf=function(n,t,r){if(!pc(r))return!1;var e=typeof t;return!!("number"==e?Xc(r)&&tf(t,r.length):"string"==e&&t in r)&&kc(r[t],n)},ef=function(n){return Jc(function(t,r){var e=-1,o=r.length,i=o>1?r[o-1]:void 0,u=o>2?r[2]:void 0;for(i=n.length>3&&"function"==typeof i?(o--,i):void 0,u&&rf(r[0],r[1],u)&&(i=o<3?void 0:i,o=1),t=Object(t);++e<o;){var a=r[e];a&&n(t,a,e,i)}return t})},of=Object.prototype,uf=function(n){var t=n&&n.constructor;return n===("function"==typeof t&&t.prototype||of)},af=function(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e},cf=function(n){return null!=n&&"object"==typeof n},ff="[object Arguments]",lf=function(n){return cf(n)&&sc(n)==ff},sf=Object.prototype,pf=sf.hasOwnProperty,hf=sf.propertyIsEnumerable,vf=lf(function(){return arguments}())?lf:function(n){return cf(n)&&pf.call(n,"callee")&&!hf.call(n,"callee")},gf=Array.isArray,df=function(){return!1},yf=n(function(n,t){var r=t&&!t.nodeType&&t,e=r&&!0&&n&&!n.nodeType&&n,o=e&&e.exports===r?Ya.Buffer:void 0,i=(o?o.isBuffer:void 0)||df;n.exports=i}),mf={};mf["[object Float32Array]"]=mf["[object Float64Array]"]=mf["[object Int8Array]"]=mf["[object Int16Array]"]=mf["[object Int32Array]"]=mf["[object Uint8Array]"]=mf["[object Uint8ClampedArray]"]=mf["[object Uint16Array]"]=mf["[object Uint32Array]"]=!0,mf["[object Arguments]"]=mf["[object Array]"]=mf["[object ArrayBuffer]"]=mf["[object Boolean]"]=mf["[object DataView]"]=mf["[object Date]"]=mf["[object Error]"]=mf["[object Function]"]=mf["[object Map]"]=mf["[object Number]"]=mf["[object Object]"]=mf["[object RegExp]"]=mf["[object Set]"]=mf["[object String]"]=mf["[object WeakMap]"]=!1;var wf=function(n){return function(t){return n(t)}},Ef=n(function(n,t){var r=t&&!t.nodeType&&t,e=r&&!0&&n&&!n.nodeType&&n,o=e&&e.exports===r&&Ka.process,i=function(){try{return o&&o.binding&&o.binding("util")}catch(n){}}();n.exports=i}),bf=Ef&&Ef.isTypedArray,xf=bf?wf(bf):function(n){return cf(n)&&Kc(n.length)&&!!mf[sc(n)]},Mf=Object.prototype.hasOwnProperty,Sf=function(n,t){var r=gf(n),e=!r&&vf(n),o=!r&&!e&&yf(n),i=!r&&!e&&!o&&xf(n),u=r||e||o||i,a=u?af(n.length,String):[],c=a.length;for(var f in n)!t&&!Mf.call(n,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||tf(f,c))||a.push(f);return a},_f=function(n,t){return function(r){return n(t(r))}},Tf=_f(Object.keys,Object),Cf=Object.prototype.hasOwnProperty,jf=function(n){if(!uf(n))return Tf(n);var t=[];for(var r in Object(n))Cf.call(n,r)&&"constructor"!=r&&t.push(r);return t},Pf=function(n){return Xc(n)?Sf(n):jf(n)},Af=Object.prototype.hasOwnProperty,Rf=ef(function(n,t){if(uf(t)||Xc(t))Bc(t,Pf(t),n);else for(var r in t)Af.call(t,r)&&qc(n,r,t[r])}),Nf=function(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1},Lf=function(n,t){for(var r=n.length;r--;)if(kc(n[r][0],t))return r;return-1},Of=Array.prototype.splice;t.prototype.clear=function(){this.__data__=[],this.size=0},t.prototype.delete=function(n){var t=this.__data__,r=Lf(t,n);return!(r<0||(r==t.length-1?t.pop():Of.call(t,r,1),--this.size,0))},t.prototype.get=function(n){var t=this.__data__,r=Lf(t,n);return r<0?void 0:t[r][1]},t.prototype.has=function(n){return Lf(this.__data__,n)>-1},t.prototype.set=function(n,t){var r=this.__data__,e=Lf(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this};var kf=t,zf=Nc(Ya,"Map"),qf=Nc(Object,"create"),Bf="__lodash_hash_undefined__",If=Object.prototype.hasOwnProperty,Ff=Object.prototype.hasOwnProperty,Df="__lodash_hash_undefined__";r.prototype.clear=function(){this.__data__=qf?qf(null):{},this.size=0},r.prototype.delete=function(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t},r.prototype.get=function(n){var t=this.__data__;if(qf){var r=t[n];return r===Bf?void 0:r}return If.call(t,n)?t[n]:void 0},r.prototype.has=function(n){var t=this.__data__;return qf?void 0!==t[n]:Ff.call(t,n)},r.prototype.set=function(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=qf&&void 0===t?Df:t,this};var Gf=r,Uf=function(n){var t=typeof n;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==n:null===n},Vf=function(n,t){var r=n.__data__;return Uf(t)?r["string"==typeof t?"string":"hash"]:r.map};e.prototype.clear=function(){this.size=0,this.__data__={hash:new Gf,map:new(zf||kf),string:new Gf}},e.prototype.delete=function(n){var t=Vf(this,n).delete(n);return this.size-=t?1:0,t},e.prototype.get=function(n){return Vf(this,n).get(n)},e.prototype.has=function(n){return Vf(this,n).has(n)},e.prototype.set=function(n,t){var r=Vf(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this};var $f=e,Hf=200;o.prototype.clear=function(){this.__data__=new kf,this.size=0},o.prototype.delete=function(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r},o.prototype.get=function(n){return this.__data__.get(n)},o.prototype.has=function(n){return this.__data__.has(n)},o.prototype.set=function(n,t){var r=this.__data__;if(r instanceof kf){var e=r.__data__;if(!zf||e.length<Hf-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new $f(e)}return r.set(n,t),this.size=r.size,this};var Wf=o,Qf="__lodash_hash_undefined__";i.prototype.add=i.prototype.push=function(n){return this.__data__.set(n,Qf),this},i.prototype.has=function(n){return this.__data__.has(n)};var Jf=i,Zf=function(n,t){return n.has(t)},Kf=1,Xf=2,Yf=function(n,t,r,e,o,i){var u=r&Kf,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(n);if(f&&i.get(t))return f==t;var l=-1,s=!0,p=r&Xf?new Jf:void 0;for(i.set(n,t),i.set(t,n);++l<a;){var h=n[l],v=t[l];if(e)var g=u?e(v,h,l,t,n,i):e(h,v,l,n,t,i);if(void 0!==g){if(g)continue;s=!1;break}if(p){if(!Nf(t,function(n,t){if(!Zf(p,t)&&(h===n||o(h,n,r,e,i)))return p.push(t)})){s=!1;break}}else if(h!==v&&!o(h,v,r,e,i)){s=!1;break}}return i.delete(n),i.delete(t),s},nl=Ya.Uint8Array,tl=function(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r},rl=function(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=n}),r},el=1,ol=2,il="[object Boolean]",ul="[object Date]",al="[object Error]",cl="[object Map]",fl="[object Number]",ll="[object RegExp]",sl="[object Set]",pl="[object String]",hl="[object Symbol]",vl="[object ArrayBuffer]",gl="[object DataView]",dl=nc?nc.prototype:void 0,yl=dl?dl.valueOf:void 0,ml=function(n,t,r,e,o,i,u){switch(r){case gl:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer,t=t.buffer;case vl:return!(n.byteLength!=t.byteLength||!i(new nl(n),new nl(t)));case il:case ul:case fl:return kc(+n,+t);case al:return n.name==t.name&&n.message==t.message;case ll:case pl:return n==t+"";case cl:var a=tl;case sl:var c=e&el;if(a||(a=rl),n.size!=t.size&&!c)return!1;var f=u.get(n);if(f)return f==t;e|=ol,u.set(n,t);var l=Yf(a(n),a(t),e,o,i,u);return u.delete(n),l;case hl:if(yl)return yl.call(n)==yl.call(t)}return!1},wl=function(n,t){for(var r=-1,e=t.length,o=n.length;++r<e;)n[o+r]=t[r];return n},El=function(n,t,r){var e=t(n);return gf(n)?e:wl(e,r(n))},bl=function(n,t){for(var r=-1,e=null==n?0:n.length,o=0,i=[];++r<e;){var u=n[r];t(u,r,n)&&(i[o++]=u)}return i},xl=function(){return[]},Ml=Object.prototype.propertyIsEnumerable,Sl=Object.getOwnPropertySymbols,_l=Sl?function(n){return null==n?[]:(n=Object(n),bl(Sl(n),function(t){return Ml.call(n,t)}))}:xl,Tl=function(n){return El(n,Pf,_l)},Cl=1,jl=Object.prototype.hasOwnProperty,Pl=function(n,t,r,e,o,i){var u=r&Cl,a=Tl(n),c=a.length;if(c!=Tl(t).length&&!u)return!1;for(var f=c;f--;){var l=a[f];if(!(u?l in t:jl.call(t,l)))return!1}var s=i.get(n);if(s&&i.get(t))return s==t;var p=!0;i.set(n,t),i.set(t,n);for(var h=u;++f<c;){var v=n[l=a[f]],g=t[l];if(e)var d=u?e(g,v,l,t,n,i):e(v,g,l,n,t,i);if(!(void 0===d?v===g||o(v,g,r,e,i):d)){p=!1;break}h||(h="constructor"==l)}if(p&&!h){var y=n.constructor,m=t.constructor;y!=m&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(p=!1)}return i.delete(n),i.delete(t),p},Al=Nc(Ya,"DataView"),Rl=Nc(Ya,"Promise"),Nl=Nc(Ya,"Set"),Ll=Nc(Ya,"WeakMap"),Ol=xc(Al),kl=xc(zf),zl=xc(Rl),ql=xc(Nl),Bl=xc(Ll),Il=sc;(Al&&"[object DataView]"!=Il(new Al(new ArrayBuffer(1)))||zf&&"[object Map]"!=Il(new zf)||Rl&&"[object Promise]"!=Il(Rl.resolve())||Nl&&"[object Set]"!=Il(new Nl)||Ll&&"[object WeakMap]"!=Il(new Ll))&&(Il=function(n){var t=sc(n),r="[object Object]"==t?n.constructor:void 0,e=r?xc(r):"";if(e)switch(e){case Ol:return"[object DataView]";case kl:return"[object Map]";case zl:return"[object Promise]";case ql:return"[object Set]";case Bl:return"[object WeakMap]"}return t});var Fl=Il,Dl=1,Gl="[object Arguments]",Ul="[object Array]",Vl="[object Object]",$l=Object.prototype.hasOwnProperty,Hl=function(n,t,r,e,o,i){var u=gf(n),a=gf(t),c=u?Ul:Fl(n),f=a?Ul:Fl(t),l=(c=c==Gl?Vl:c)==Vl,s=(f=f==Gl?Vl:f)==Vl,p=c==f;if(p&&yf(n)){if(!yf(t))return!1;u=!0,l=!1}if(p&&!l)return i||(i=new Wf),u||xf(n)?Yf(n,t,r,e,o,i):ml(n,t,c,r,e,o,i);if(!(r&Dl)){var h=l&&$l.call(n,"__wrapped__"),v=s&&$l.call(t,"__wrapped__");if(h||v){var g=h?n.value():n,d=v?t.value():t;return i||(i=new Wf),o(g,d,r,e,i)}}return!!p&&(i||(i=new Wf),Pl(n,t,r,e,o,i))},Wl=u,Ql=1,Jl=2,Zl=function(n,t,r,e){var o=r.length,i=o,u=!e;if(null==n)return!i;for(n=Object(n);o--;){var a=r[o];if(u&&a[2]?a[1]!==n[a[0]]:!(a[0]in n))return!1}for(;++o<i;){var c=(a=r[o])[0],f=n[c],l=a[1];if(u&&a[2]){if(void 0===f&&!(c in n))return!1}else{var s=new Wf;if(e)var p=e(f,l,c,n,t,s);if(!(void 0===p?Wl(l,f,Ql|Jl,e,s):p))return!1}}return!0},Kl=function(n){return n===n&&!pc(n)},Xl=function(n){for(var t=Pf(n),r=t.length;r--;){var e=t[r],o=n[e];t[r]=[e,o,Kl(o)]}return t},Yl=function(n,t){return function(r){return null!=r&&r[n]===t&&(void 0!==t||n in Object(r))}},ns=function(n){var t=Xl(n);return 1==t.length&&t[0][2]?Yl(t[0][0],t[0][1]):function(r){return r===n||Zl(r,n,t)}},ts="[object Symbol]",rs=function(n){return"symbol"==typeof n||cf(n)&&sc(n)==ts},es=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,os=/^\w*$/,is=function(n,t){if(gf(n))return!1;var r=typeof n;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=n&&!rs(n))||os.test(n)||!es.test(n)||null!=t&&n in Object(t)},us="Expected a function";a.Cache=$f;var as=a,cs=500,fs=/^\./,ls=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ss=/\\(\\)?/g,ps=function(n){var t=as(n,function(n){return r.size===cs&&r.clear(),n}),r=t.cache;return t}(function(n){var t=[];return fs.test(n)&&t.push(""),n.replace(ls,function(n,r,e,o){t.push(e?o.replace(ss,"$1"):r||n)}),t}),hs=function(n,t){for(var r=-1,e=null==n?0:n.length,o=Array(e);++r<e;)o[r]=t(n[r],r,n);return o},vs=1/0,gs=nc?nc.prototype:void 0,ds=gs?gs.toString:void 0,ys=c,ms=function(n){return null==n?"":ys(n)},ws=function(n,t){return gf(n)?n:is(n,t)?[n]:ps(ms(n))},Es=1/0,bs=function(n){if("string"==typeof n||rs(n))return n;var t=n+"";return"0"==t&&1/n==-Es?"-0":t},xs=function(n,t){for(var r=0,e=(t=ws(t,n)).length;null!=n&&r<e;)n=n[bs(t[r++])];return r&&r==e?n:void 0},Ms=function(n,t,r){var e=null==n?void 0:xs(n,t);return void 0===e?r:e},Ss=function(n,t){return null!=n&&t in Object(n)},_s=function(n,t,r){for(var e=-1,o=(t=ws(t,n)).length,i=!1;++e<o;){var u=bs(t[e]);if(!(i=null!=n&&r(n,u)))break;n=n[u]}return i||++e!=o?i:!!(o=null==n?0:n.length)&&Kc(o)&&tf(u,o)&&(gf(n)||vf(n))},Ts=function(n,t){return null!=n&&_s(n,t,Ss)},Cs=1,js=2,Ps=function(n,t){return is(n)&&Kl(t)?Yl(bs(n),t):function(r){var e=Ms(r,n);return void 0===e&&e===t?Ts(r,n):Wl(t,e,Cs|js)}},As=function(n){return function(t){return null==t?void 0:t[n]}},Rs=function(n){return function(t){return xs(t,n)}},Ns=function(n){return is(n)?As(bs(n)):Rs(n)},Ls=function(n){return"function"==typeof n?n:null==n?Ic:"object"==typeof n?gf(n)?Ps(n[0],n[1]):ns(n):Ns(n)},Os=function(n){return function(t,r,e){for(var o=-1,i=Object(t),u=e(t),a=u.length;a--;){var c=u[n?a:++o];if(!1===r(i[c],c,i))break}return t}}(),ks=function(n,t){return function(r,e){if(null==r)return r;if(!Xc(r))return n(r,e);for(var o=r.length,i=t?o:-1,u=Object(r);(t?i--:++i<o)&&!1!==e(u[i],i,u););return r}}(function(n,t){return n&&Os(n,t,Pf)}),zs=function(n,t){var r;return ks(n,function(n,e,o){return!(r=t(n,e,o))}),!!r},qs=function(n,t,r){var e=gf(n)?Nf:zs;return r&&rf(n,t,r)&&(t=void 0),e(n,Ls(t,3))},Bs=function(){return new f};f.prototype={constructor:f,reset:function(){this.s=this.t=0},add:function(n){l(dp,n,this.t),l(this,dp.s,this.s),this.s?this.t+=dp.t:this.s=dp.t},valueOf:function(){return this.s}};var Is,Fs,Ds,Gs,Us,Vs,$s,Hs,Ws,Qs,Js,Zs,Ks,Xs,Ys,np,tp,rp,ep,op,ip,up,ap,cp,fp,lp,sp,pp,hp,vp,gp,dp=new f,yp=1e-6,mp=Math.PI,wp=mp/2,Ep=mp/4,bp=2*mp,xp=180/mp,Mp=mp/180,Sp=Math.abs,_p=Math.atan,Tp=Math.atan2,Cp=Math.cos,jp=Math.ceil,Pp=Math.exp,Ap=Math.log,Rp=Math.pow,Np=Math.sin,Lp=Math.sign||function(n){return n>0?1:n<0?-1:0},Op=Math.sqrt,kp=Math.tan,zp={Feature:function(n,t){g(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,o=r.length;++e<o;)g(r[e].geometry,t)}},qp={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){d(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)d(r[e],t,0)},Polygon:function(n,t){y(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)y(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,o=r.length;++e<o;)g(r[e],t)}},Bp=function(n,t){n&&zp.hasOwnProperty(n.type)?zp[n.type](n,t):g(n,t)},Ip=Bs(),Fp=Bs(),Dp={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Ip.reset(),Dp.lineStart=m,Dp.lineEnd=w},polygonEnd:function(){var n=+Ip;Fp.add(n<0?bp+n:n),this.lineStart=this.lineEnd=this.point=v},sphere:function(){Fp.add(bp)}},Gp=Bs(),Up={point:P,lineStart:R,lineEnd:N,polygonStart:function(){Up.point=L,Up.lineStart=O,Up.lineEnd=k,Gp.reset(),Dp.polygonStart()},polygonEnd:function(){Dp.polygonEnd(),Up.point=P,Up.lineStart=R,Up.lineEnd=N,Ip<0?(Vs=-(Hs=180),$s=-(Ws=90)):Gp>yp?Ws=90:Gp<-yp&&($s=-90),Ys[0]=Vs,Ys[1]=Hs}},Vp=function(n){var t,r,e,o,i,u,a;if(Ws=Hs=-(Vs=$s=1/0),Xs=[],Bp(n,Up),r=Xs.length){for(Xs.sort(q),t=1,i=[e=Xs[0]];t<r;++t)B(e,(o=Xs[t])[0])||B(e,o[1])?(z(e[0],o[1])>z(e[0],e[1])&&(e[1]=o[1]),z(o[0],e[1])>z(e[0],e[1])&&(e[0]=o[0])):i.push(e=o);for(u=-1/0,t=0,e=i[r=i.length-1];t<=r;e=o,++t)o=i[t],(a=z(e[1],o[0]))>u&&(u=a,Vs=o[0],Hs=e[1])}return Xs=Ys=null,Vs===1/0||$s===1/0?[[NaN,NaN],[NaN,NaN]]:[[Vs,$s],[Hs,Ws]]},$p={sphere:v,point:I,lineStart:D,lineEnd:V,polygonStart:function(){$p.lineStart=$,$p.lineEnd=H},polygonEnd:function(){$p.lineStart=D,$p.lineEnd=V}},Hp=function(n){np=tp=rp=ep=op=ip=up=ap=cp=fp=lp=0,Bp(n,$p);var t=cp,r=fp,e=lp,o=t*t+r*r+e*e;return o<1e-12&&(t=ip,r=up,e=ap,tp<yp&&(t=rp,r=ep,e=op),(o=t*t+r*r+e*e)<1e-12)?[NaN,NaN]:[Tp(r,t)*xp,p(e/Op(o))*xp]},Wp=function(n){return function(){return n}},Qp=function(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r};J.invert=J;var Jp,Zp,Kp,Xp,Yp,nh,th,rh,eh,oh,ih,uh=function(n){function t(t){return t=n(t[0]*Mp,t[1]*Mp),t[0]*=xp,t[1]*=xp,t}return n=Z(n[0]*Mp,n[1]*Mp,n.length>2?n[2]*Mp:0),t.invert=function(t){return t=n.invert(t[0]*Mp,t[1]*Mp),t[0]*=xp,t[1]*=xp,t},t},ah=function(){function n(){var n=e.apply(this,arguments),a=o.apply(this,arguments)*Mp,c=i.apply(this,arguments)*Mp;return t=[],r=Z(-n[0]*Mp,-n[1]*Mp,0).invert,nn(u,a,c,1),n={type:"Polygon",coordinates:[t]},t=r=null,n}var t,r,e=Wp([0,0]),o=Wp(90),i=Wp(6),u={point:function(n,e){t.push(n=r(n,e)),n[0]*=xp,n[1]*=xp}};return n.center=function(t){return arguments.length?(e="function"==typeof t?t:Wp([+t[0],+t[1]]),n):e},n.radius=function(t){return arguments.length?(o="function"==typeof t?t:Wp(+t),n):o},n.precision=function(t){return arguments.length?(i="function"==typeof t?t:Wp(+t),n):i},n},ch=function(){var n,t=[];return{point:function(t,r){n.push([t,r])},lineStart:function(){t.push(n=[])},lineEnd:v,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}},fh=function(n,t,r,e,o,i){var u,a=n[0],c=n[1],f=0,l=1,s=t[0]-a,p=t[1]-c;if(u=r-a,s||!(u>0)){if(u/=s,s<0){if(u<f)return;u<l&&(l=u)}else if(s>0){if(u>l)return;u>f&&(f=u)}if(u=o-a,s||!(u<0)){if(u/=s,s<0){if(u>l)return;u>f&&(f=u)}else if(s>0){if(u<f)return;u<l&&(l=u)}if(u=e-c,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<l&&(l=u)}else if(p>0){if(u>l)return;u>f&&(f=u)}if(u=i-c,p||!(u<0)){if(u/=p,p<0){if(u>l)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<l&&(l=u)}return f>0&&(n[0]=a+f*s,n[1]=c+f*p),l<1&&(t[0]=a+l*s,t[1]=c+l*p),!0}}}}},lh=function(n,t){return Sp(n[0]-t[0])<yp&&Sp(n[1]-t[1])<yp},sh=function(n,t,r,e,o){var i,u,a=[],c=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r,e=n[0],u=n[t];if(lh(e,u)){for(o.lineStart(),i=0;i<t;++i)o.point((e=n[i])[0],e[1]);o.lineEnd()}else a.push(r=new rn(e,n,null,!0)),c.push(r.o=new rn(e,null,r,!1)),a.push(r=new rn(u,n,null,!1)),c.push(r.o=new rn(u,null,r,!0))}}),a.length){for(c.sort(t),en(a),en(c),i=0,u=c.length;i<u;++i)c[i].e=r=!r;for(var f,l,s=a[0];;){for(var p=s,h=!0;p.v;)if((p=p.n)===s)return;f=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(i=0,u=f.length;i<u;++i)o.point((l=f[i])[0],l[1]);else e(p.x,p.n.x,1,o);p=p.n}else{if(h)for(f=p.p.z,i=f.length-1;i>=0;--i)o.point((l=f[i])[0],l[1]);else e(p.x,p.p.x,-1,o);p=p.p}f=(p=p.o).z,h=!h}while(!p.v);o.lineEnd()}}},ph=function(n,t){return n<t?-1:n>t?1:n>=t?0:NaN},hh=function(n){return 1===n.length&&(n=on(n)),{left:function(t,r,e,o){for(null==e&&(e=0),null==o&&(o=t.length);e<o;){var i=e+o>>>1;n(t[i],r)<0?e=i+1:o=i}return e},right:function(t,r,e,o){for(null==e&&(e=0),null==o&&(o=t.length);e<o;){var i=e+o>>>1;n(t[i],r)>0?o=i:e=i+1}return e}}},vh=hh(ph),gh=vh.right,dh=vh.left,yh=function(n){return null===n?NaN:+n},mh=function(n,t){var r,e,o=n.length,i=0,u=-1,a=0,c=0;if(null==t)for(;++u<o;)isNaN(r=yh(n[u]))||(c+=(e=r-a)*(r-(a+=e/++i)));else for(;++u<o;)isNaN(r=yh(t(n[u],u,n)))||(c+=(e=r-a)*(r-(a+=e/++i)));if(i>1)return c/(i-1)},wh=function(n,t){var r=mh(n,t);return r?Math.sqrt(r):r},Eh=function(n,t){var r,e,o,i=n.length,u=-1;if(null==t){for(;++u<i;)if(null!=(r=n[u])&&r>=r)for(e=o=r;++u<i;)null!=(r=n[u])&&(e>r&&(e=r),o<r&&(o=r))}else for(;++u<i;)if(null!=(r=t(n[u],u,n))&&r>=r)for(e=o=r;++u<i;)null!=(r=t(n[u],u,n))&&(e>r&&(e=r),o<r&&(o=r));return[e,o]},bh=Array.prototype,xh=bh.slice,Mh=bh.map,Sh=function(n){return function(){return n}},_h=function(n){return n},Th=function(n,t,r){n=+n,t=+t,r=(o=arguments.length)<2?(t=n,n=0,1):o<3?1:+r;for(var e=-1,o=0|Math.max(0,Math.ceil((t-n)/r)),i=new Array(o);++e<o;)i[e]=n+e*r;return i},Ch=Math.sqrt(50),jh=Math.sqrt(10),Ph=Math.sqrt(2),Ah=function(n){return Math.ceil(Math.log(n.length)/Math.LN2)+1},Rh=function(n,t,r){if(null==r&&(r=yh),e=n.length){if((t=+t)<=0||e<2)return+r(n[0],0,n);if(t>=1)return+r(n[e-1],e-1,n);var e,o=(e-1)*t,i=Math.floor(o),u=+r(n[i],i,n);return u+(+r(n[i+1],i+1,n)-u)*(o-i)}},Nh=function(n){for(var t,r,e,o=n.length,i=-1,u=0;++i<o;)u+=n[i].length;for(r=new Array(u);--o>=0;)for(t=(e=n[o]).length;--t>=0;)r[--u]=e[t];return r},Lh=function(n,t){var r,e,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(r=n[i])&&r>=r)for(e=r;++i<o;)null!=(r=n[i])&&e>r&&(e=r)}else for(;++i<o;)if(null!=(r=t(n[i],i,n))&&r>=r)for(e=r;++i<o;)null!=(r=t(n[i],i,n))&&e>r&&(e=r);return e},Oh=function(n){if(!(o=n.length))return[];for(var t=-1,r=Lh(n,fn),e=new Array(r);++t<r;)for(var o,i=-1,u=e[t]=new Array(o);++i<o;)u[i]=n[i][t];return e},kh=Object.freeze({bisect:gh,bisectRight:gh,bisectLeft:dh,ascending:ph,bisector:hh,cross:function(n,t,r){var e,o,i,u,a=n.length,c=t.length,f=new Array(a*c);for(null==r&&(r=un),e=i=0;e<a;++e)for(u=n[e],o=0;o<c;++o,++i)f[i]=r(u,t[o]);return f},descending:function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},deviation:wh,extent:Eh,histogram:function(){function n(n){var o,i,u=n.length,a=new Array(u);for(o=0;o<u;++o)a[o]=t(n[o],o,n);var c=r(a),f=c[0],l=c[1],s=e(a,f,l);Array.isArray(s)||(s=cn(f,l,s),s=Th(Math.ceil(f/s)*s,Math.floor(l/s)*s,s));for(var p=s.length;s[0]<=f;)s.shift(),--p;for(;s[p-1]>l;)s.pop(),--p;var h,v=new Array(p+1);for(o=0;o<=p;++o)(h=v[o]=[]).x0=o>0?s[o-1]:f,h.x1=o<p?s[o]:l;for(o=0;o<u;++o)f<=(i=a[o])&&i<=l&&v[gh(s,i,0,p)].push(n[o]);return v}var t=_h,r=Eh,e=Ah;return n.value=function(r){return arguments.length?(t="function"==typeof r?r:Sh(r),n):t},n.domain=function(t){return arguments.length?(r="function"==typeof t?t:Sh([t[0],t[1]]),n):r},n.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Sh(Array.isArray(t)?xh.call(t):t),n):e},n},thresholdFreedmanDiaconis:function(n,t,r){return n=Mh.call(n,yh).sort(ph),Math.ceil((r-t)/(2*(Rh(n,.75)-Rh(n,.25))*Math.pow(n.length,-1/3)))},thresholdScott:function(n,t,r){return Math.ceil((r-t)/(3.5*wh(n)*Math.pow(n.length,-1/3)))},thresholdSturges:Ah,max:function(n,t){var r,e,o=n.length,i=-1;if(null==t){for(;++i<o;)if(null!=(r=n[i])&&r>=r)for(e=r;++i<o;)null!=(r=n[i])&&r>e&&(e=r)}else for(;++i<o;)if(null!=(r=t(n[i],i,n))&&r>=r)for(e=r;++i<o;)null!=(r=t(n[i],i,n))&&r>e&&(e=r);return e},mean:function(n,t){var r,e=n.length,o=e,i=-1,u=0;if(null==t)for(;++i<e;)isNaN(r=yh(n[i]))?--o:u+=r;else for(;++i<e;)isNaN(r=yh(t(n[i],i,n)))?--o:u+=r;if(o)return u/o},median:function(n,t){var r,e=n.length,o=-1,i=[];if(null==t)for(;++o<e;)isNaN(r=yh(n[o]))||i.push(r);else for(;++o<e;)isNaN(r=yh(t(n[o],o,n)))||i.push(r);return Rh(i.sort(ph),.5)},merge:Nh,min:Lh,pairs:function(n,t){null==t&&(t=un);for(var r=0,e=n.length-1,o=n[0],i=new Array(e<0?0:e);r<e;)i[r]=t(o,o=n[++r]);return i},permute:function(n,t){for(var r=t.length,e=new Array(r);r--;)e[r]=n[t[r]];return e},quantile:Rh,range:Th,scan:function(n,t){if(r=n.length){var r,e,o=0,i=0,u=n[i];for(null==t&&(t=ph);++o<r;)(t(e=n[o],u)<0||0!==t(u,u))&&(u=e,i=o);return 0===t(u,u)?i:void 0}},shuffle:function(n,t,r){for(var e,o,i=(null==r?n.length:r)-(t=null==t?0:+t);i;)o=Math.random()*i--|0,e=n[i+t],n[i+t]=n[o+t],n[o+t]=e;return n},sum:function(n,t){var r,e=n.length,o=-1,i=0;if(null==t)for(;++o<e;)(r=+n[o])&&(i+=r);else for(;++o<e;)(r=+t(n[o],o,n))&&(i+=r);return i},ticks:function(n,t,r){var e,o,i,u=t<n,a=-1;if(u&&(e=n,n=t,t=e),0===(i=an(n,t,r))||!isFinite(i))return[];if(i>0)for(n=Math.ceil(n/i),t=Math.floor(t/i),o=new Array(e=Math.ceil(t-n+1));++a<e;)o[a]=(n+a)*i;else for(n=Math.floor(n*i),t=Math.ceil(t*i),o=new Array(e=Math.ceil(n-t+1));++a<e;)o[a]=(n-a)/i;return u&&o.reverse(),o},tickIncrement:an,tickStep:cn,transpose:Oh,variance:mh,zip:function(){return Oh(arguments)}}),zh=1e9,qh=-zh,Bh=Bs(),Ih=function(n,t){var r=t[0],e=t[1],o=[Np(r),-Cp(r),0],i=0,u=0;Bh.reset();for(var a=0,c=n.length;a<c;++a)if(l=(f=n[a]).length)for(var f,l,s=f[l-1],h=s[0],v=s[1]/2+Ep,g=Np(v),d=Cp(v),y=0;y<l;++y,h=w,g=b,d=x,s=m){var m=f[y],w=m[0],E=m[1]/2+Ep,b=Np(E),x=Cp(E),S=w-h,T=S>=0?1:-1,C=T*S,P=C>mp,A=g*b;if(Bh.add(Tp(A*T*Np(C),d*x+A*Cp(C))),i+=P?S+T*bp:S,P^h>=r^w>=r){var R=_(M(s),M(m));j(R);var N=_(o,R);j(N);var L=(P^S>=0?-1:1)*p(N[2]);(e>L||e===L&&(R[0]||R[1]))&&(u+=P^S>=0?1:-1)}}return(i<-yp||i<yp&&Bh<-yp)^1&u},Fh=Bs(),Dh={sphere:v,point:v,lineStart:function(){Dh.point=pn,Dh.lineEnd=sn},lineEnd:v,polygonStart:v,polygonEnd:v},Gh=function(n){return Fh.reset(),Bp(n,Dh),+Fh},Uh=[null,null],Vh={type:"LineString",coordinates:Uh},$h=function(n,t){return Uh[0]=n,Uh[1]=t,Gh(Vh)},Hh={Feature:function(n,t){return vn(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,o=r.length;++e<o;)if(vn(r[e].geometry,t))return!0;return!1}},Wh={Sphere:function(){return!0},Point:function(n,t){return gn(n.coordinates,t)},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)if(gn(r[e],t))return!0;return!1},LineString:function(n,t){return dn(n.coordinates,t)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)if(dn(r[e],t))return!0;return!1},Polygon:function(n,t){return yn(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)if(yn(r[e],t))return!0;return!1},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,o=r.length;++e<o;)if(vn(r[e],t))return!0;return!1}},Qh=function(n,t){var r=n[0]*Mp,e=n[1]*Mp,o=t[0]*Mp,i=t[1]*Mp,u=Cp(e),a=Np(e),c=Cp(i),f=Np(i),l=u*Cp(r),s=u*Np(r),v=c*Cp(o),g=c*Np(o),d=2*p(Op(h(i-e)+u*c*h(o-r))),y=Np(d),m=d?function(n){var t=Np(n*=d)/y,r=Np(d-n)/y,e=r*l+t*v,o=r*s+t*g,i=r*a+t*f;return[Tp(o,e)*xp,Tp(i,Op(e*e+o*o))*xp]}:function(){return[r*xp,e*xp]};return m.distance=d,m},Jh=function(n){return n},Zh=Bs(),Kh=Bs(),Xh={point:v,lineStart:v,lineEnd:v,polygonStart:function(){Xh.lineStart=Mn,Xh.lineEnd=Tn},polygonEnd:function(){Xh.lineStart=Xh.lineEnd=Xh.point=v,Zh.add(Sp(Kh)),Kh.reset()},result:function(){var n=Zh/2;return Zh.reset(),n}},Yh=1/0,nv=Yh,tv=-Yh,rv=tv,ev={point:function(n,t){n<Yh&&(Yh=n),n>tv&&(tv=n),t<nv&&(nv=t),t>rv&&(rv=t)},lineStart:v,lineEnd:v,polygonStart:v,polygonEnd:v,result:function(){var n=[[Yh,nv],[tv,rv]];return tv=rv=-(nv=Yh=1/0),n}},ov=0,iv=0,uv=0,av=0,cv=0,fv=0,lv=0,sv=0,pv=0,hv={point:Cn,lineStart:jn,lineEnd:Rn,polygonStart:function(){hv.lineStart=Nn,hv.lineEnd=Ln},polygonEnd:function(){hv.point=Cn,hv.lineStart=jn,hv.lineEnd=Rn},result:function(){var n=pv?[lv/pv,sv/pv]:fv?[av/fv,cv/fv]:uv?[ov/uv,iv/uv]:[NaN,NaN];return ov=iv=uv=av=cv=fv=lv=sv=pv=0,n}};zn.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,bp)}},result:v};var vv,gv,dv,yv,mv,wv=Bs(),Ev={point:v,lineStart:function(){Ev.point=qn},lineEnd:function(){vv&&Bn(gv,dv),Ev.point=v},polygonStart:function(){vv=!0},polygonEnd:function(){vv=null},result:function(){var n=+wv;return wv.reset(),n}};In.prototype={_radius:4.5,_circle:Fn(4.5),pointRadius:function(n){return(n=+n)!==this._radius&&(this._radius=n,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:null==this._circle&&(this._circle=Fn(this._radius)),this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}return null}};var bv=function(n,t,r,e){return function(o,i){function u(t,r){var e=o(t,r);n(t=e[0],r=e[1])&&i.point(t,r)}function a(n,t){var r=o(n,t);d.point(r[0],r[1])}function c(){b.point=a,d.lineStart()}function f(){b.point=u,d.lineEnd()}function l(n,t){g.push([n,t]);var r=o(n,t);w.point(r[0],r[1])}function s(){w.lineStart(),g=[]}function p(){l(g[0][0],g[0][1]),w.lineEnd();var n,t,r,e,o=w.clean(),u=m.result(),a=u.length;if(g.pop(),h.push(g),g=null,a)if(1&o){if(r=u[0],(t=r.length-1)>0){for(E||(i.polygonStart(),E=!0),i.lineStart(),n=0;n<t;++n)i.point((e=r[n])[0],e[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),v.push(u.filter(Dn))}var h,v,g,d=t(i),y=o.invert(e[0],e[1]),m=ch(),w=t(m),E=!1,b={point:u,lineStart:c,lineEnd:f,polygonStart:function(){b.point=l,b.lineStart=s,b.lineEnd=p,v=[],h=[]},polygonEnd:function(){b.point=u,b.lineStart=c,b.lineEnd=f,v=Nh(v);var n=Ih(h,y);v.length?(E||(i.polygonStart(),E=!0),sh(v,Gn,n,r,i)):n&&(E||(i.polygonStart(),E=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),E&&(i.polygonEnd(),E=!1),v=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return b}},xv=bv(function(){return!0},function(n){var t,r=NaN,e=NaN,o=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,u){var a=i>0?mp:-mp,c=Sp(i-r);Sp(c-mp)<yp?(n.point(r,e=(e+u)/2>0?wp:-wp),n.point(o,e),n.lineEnd(),n.lineStart(),n.point(a,e),n.point(i,e),t=0):o!==a&&c>=mp&&(Sp(r-o)<yp&&(r-=o*yp),Sp(i-a)<yp&&(i-=a*yp),e=Un(r,e,i,u),n.point(o,e),n.lineEnd(),n.lineStart(),n.point(a,e),t=0),n.point(r=i,e=u),o=a},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-t}}},function(n,t,r,e){var o;if(null==n)o=r*wp,e.point(-mp,o),e.point(0,o),e.point(mp,o),e.point(mp,0),e.point(mp,-o),e.point(0,-o),e.point(-mp,-o),e.point(-mp,0),e.point(-mp,o);else if(Sp(n[0]-t[0])>yp){var i=n[0]<t[0]?mp:-mp;o=r*i/2,e.point(-i,o),e.point(0,o),e.point(i,o)}else e.point(t[0],t[1])},[-mp,-wp]),Mv=function(n,t){function r(n,t){return Cp(n)*Cp(t)>i}function e(n,t,r){var e=[1,0,0],o=_(M(n),M(t)),u=S(o,o),a=o[0],c=u-a*a;if(!c)return!r&&n;var f=i*u/c,l=-i*a/c,s=_(e,o),p=C(e,f);T(p,C(o,l));var h=s,v=S(p,h),g=S(h,h),d=v*v-g*(S(p,p)-1);if(!(d<0)){var y=Op(d),m=C(h,(-v-y)/g);if(T(m,p),m=x(m),!r)return m;var w,E=n[0],b=t[0],j=n[1],P=t[1];b<E&&(w=E,E=b,b=w);var A=b-E,R=Sp(A-mp)<yp,N=R||A<yp;if(!R&&P<j&&(w=j,j=P,P=w),N?R?j+P>0^m[1]<(Sp(m[0]-E)<yp?j:P):j<=m[1]&&m[1]<=P:A>mp^(E<=m[0]&&m[0]<=b)){var L=C(h,(-v+y)/g);return T(L,p),[m,x(L)]}}}function o(t,r){var e=u?n:mp-n,o=0;return t<-e?o|=1:t>e&&(o|=2),r<-e?o|=4:r>e&&(o|=8),o}var i=Cp(n),u=i>0,a=Sp(i)>yp;return bv(r,function(n){var t,i,c,f,l;return{lineStart:function(){f=c=!1,l=1},point:function(s,p){var h,v=[s,p],g=r(s,p),d=u?g?0:o(s,p):g?o(s+(s<0?mp:-mp),p):0;if(!t&&(f=c=g)&&n.lineStart(),g!==c&&(!(h=e(t,v))||lh(t,h)||lh(v,h))&&(v[0]+=yp,v[1]+=yp,g=r(v[0],v[1])),g!==c)l=0,g?(n.lineStart(),h=e(v,t),n.point(h[0],h[1])):(h=e(t,v),n.point(h[0],h[1]),n.lineEnd()),t=h;else if(a&&t&&u^g){var y;d&i||!(y=e(v,t,!0))||(l=0,u?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!g||t&&lh(t,v)||n.point(v[0],v[1]),t=v,c=g,i=d},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return l|(f&&c)<<1}}},function(r,e,o,i){nn(i,n,t,o,r,e)},u?[0,-n]:[-mp,n-mp])};$n.prototype={constructor:$n,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Sv=16,_v=Cp(30*Mp),Tv=function(n,t){return+t?Jn(n,t):Qn(n)},Cv=Vn({point:function(n,t){this.stream.point(n*Mp,t*Mp)}}),jv=function(){return Xn(nt).scale(155.424).center([0,33.6442])},Pv=function(){return jv().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},Av=rt(function(n){return Op(2/(1+n))});Av.invert=et(function(n){return 2*p(n/2)});var Rv=rt(function(n){return(n=s(n))&&n/Np(n)});Rv.invert=et(function(n){return n});ot.invert=function(n,t){return[n,2*_p(Pp(t))-wp]};ct.invert=ct;var Nv=function(){return Zn(ct).scale(152.63)};lt.invert=et(_p);var Lv=function(){return Zn(lt).scale(144.049).clipAngle(60)};pt.invert=et(p);var Ov=function(){return Zn(pt).scale(249.5).clipAngle(90+yp)};ht.invert=et(function(n){return 2*_p(n)});vt.invert=function(n,t){return[-t,2*_p(Pp(n))-wp]};var kv=Object.freeze({geoArea:function(n){return Fp.reset(),Bp(n,Dp),2*Fp},geoBounds:Vp,geoCentroid:Hp,geoCircle:ah,geoClipExtent:function(){var n,t,r,e=0,o=0,i=960,u=500;return r={stream:function(r){return n&&t===r?n:n=ln(e,o,i,u)(t=r)},extent:function(a){return arguments.length?(e=+a[0][0],o=+a[0][1],i=+a[1][0],u=+a[1][1],n=t=null,r):[[e,o],[i,u]]}}},geoContains:function(n,t){return(n&&Hh.hasOwnProperty(n.type)?Hh[n.type]:vn)(n,t)},geoDistance:$h,geoGraticule:xn,geoGraticule10:function(){return xn()()},geoInterpolate:Qh,geoLength:Gh,geoPath:function(n,t){function r(n){return n&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),Bp(n,e(o))),o.result()}var e,o,i=4.5;return r.area=function(n){return Bp(n,e(Xh)),Xh.result()},r.measure=function(n){return Bp(n,e(Ev)),Ev.result()},r.bounds=function(n){return Bp(n,e(ev)),ev.result()},r.centroid=function(n){return Bp(n,e(hv)),hv.result()},r.projection=function(t){return arguments.length?(e=null==t?(n=null,Jh):(n=t).stream,r):n},r.context=function(n){return arguments.length?(o=null==n?(t=null,new In):new zn(t=n),"function"!=typeof i&&o.pointRadius(i),r):t},r.pointRadius=function(n){return arguments.length?(i="function"==typeof n?n:(o.pointRadius(+n),+n),r):i},r.projection(n).context(t)},geoAlbers:Pv,geoAlbersUsa:function(){function n(n){var t=n[0],r=n[1];return a=null,o.point(t,r),a||(i.point(t,r),a)||(u.point(t,r),a)}function t(){return r=e=null,n}var r,e,o,i,u,a,c=Pv(),f=jv().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=jv().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(n,t){a=[n,t]}};return n.invert=function(n){var t=c.scale(),r=c.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.12&&o<.234&&e>=-.425&&e<-.214?f:o>=.166&&o<.234&&e>=-.214&&e<-.115?l:c).invert(n)},n.stream=function(n){return r&&e===n?r:r=tt([c.stream(e=n),f.stream(n),l.stream(n)])},n.precision=function(n){return arguments.length?(c.precision(n),f.precision(n),l.precision(n),t()):c.precision()},n.scale=function(t){return arguments.length?(c.scale(t),f.scale(.35*t),l.scale(t),n.translate(c.translate())):c.scale()},n.translate=function(n){if(!arguments.length)return c.translate();var r=c.scale(),e=+n[0],a=+n[1];return o=c.translate(n).clipExtent([[e-.455*r,a-.238*r],[e+.455*r,a+.238*r]]).stream(s),i=f.translate([e-.307*r,a+.201*r]).clipExtent([[e-.425*r+yp,a+.12*r+yp],[e-.214*r-yp,a+.234*r-yp]]).stream(s),u=l.translate([e-.205*r,a+.212*r]).clipExtent([[e-.214*r+yp,a+.166*r+yp],[e-.115*r-yp,a+.234*r-yp]]).stream(s),t()},n.fitExtent=function(t,r){return Hn(n,t,r)},n.fitSize=function(t,r){return Wn(n,t,r)},n.scale(1070)},geoAzimuthalEqualArea:function(){return Zn(Av).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:Av,geoAzimuthalEquidistant:function(){return Zn(Rv).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:Rv,geoConicConformal:function(){return Xn(at).scale(109.5).parallels([30,30])},geoConicConformalRaw:at,geoConicEqualArea:jv,geoConicEqualAreaRaw:nt,geoConicEquidistant:function(){return Xn(ft).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:ft,geoEquirectangular:Nv,geoEquirectangularRaw:ct,geoGnomonic:Lv,geoGnomonicRaw:lt,geoIdentity:function(){function n(){return o=i=null,u}var t,r,e,o,i,u,a=1,c=0,f=0,l=1,s=1,p=Jh,h=null,v=Jh;return u={stream:function(n){return o&&i===n?o:o=p(v(i=n))},clipExtent:function(o){return arguments.length?(v=null==o?(h=t=r=e=null,Jh):ln(h=+o[0][0],t=+o[0][1],r=+o[1][0],e=+o[1][1]),n()):null==h?null:[[h,t],[r,e]]},scale:function(t){return arguments.length?(p=st((a=+t)*l,a*s,c,f),n()):a},translate:function(t){return arguments.length?(p=st(a*l,a*s,c=+t[0],f=+t[1]),n()):[c,f]},reflectX:function(t){return arguments.length?(p=st(a*(l=t?-1:1),a*s,c,f),n()):l<0},reflectY:function(t){return arguments.length?(p=st(a*l,a*(s=t?-1:1),c,f),n()):s<0},fitExtent:function(n,t){return Hn(u,n,t)},fitSize:function(n,t){return Wn(u,n,t)}}},geoProjection:Zn,geoProjectionMutator:Kn,geoMercator:function(){return it(ot).scale(961/bp)},geoMercatorRaw:ot,geoOrthographic:Ov,geoOrthographicRaw:pt,geoStereographic:function(){return Zn(ht).scale(250).clipAngle(142)},geoStereographicRaw:ht,geoTransverseMercator:function(){var n=it(vt),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:vt,geoRotation:uh,geoStream:Bp,geoTransform:function(n){return{stream:Vn(n)}}}),zv=Math.abs,qv=Math.atan,Bv=Math.atan2,Iv=Math.cos,Fv=Math.exp,Dv=Math.floor,Gv=Math.log,Uv=Math.max,Vv=Math.min,$v=Math.pow,Hv=Math.round,Wv=Math.sign||function(n){return n>0?1:n<0?-1:0},Qv=Math.sin,Jv=Math.tan,Zv=1e-6,Kv=1e-12,Xv=Math.PI,Yv=Xv/2,ng=Xv/4,tg=Math.SQRT1_2,rg=mt(2),eg=mt(Xv),og=2*Xv,ig=180/Xv,ug=Xv/180;_t.invert=function(n,t){if(!(n*n+4*t*t>Xv*Xv+Zv)){var r=n,e=t,o=25;do{var i,u=Qv(r),a=Qv(r/2),c=Iv(r/2),f=Qv(e),l=Iv(e),s=Qv(2*e),p=f*f,h=l*l,v=a*a,g=1-h*c*c,d=g?yt(l*c)*mt(i=1/g):i=0,y=2*d*l*a-n,m=d*f-t,w=i*(h*v+d*l*c*p),E=i*(.5*u*s-2*d*f*a),b=.25*i*(s*a-d*f*h*u),x=i*(p*c+d*v*l),M=E*b-x*w;if(!M)break;var S=(m*E-y*x)/M,_=(y*b-m*w)/M;r-=S,e-=_}while((zv(S)>Zv||zv(_)>Zv)&&--o>0);return[r,e]}};Ct.invert=function(n,t){if(n*=3/8,t*=3/8,!n&&zv(t)>1)return null;var r=1+n*n+t*t,e=mt((r-mt(r*r-4*t*t))/2),o=dt(e)/3,i=e?Mt(zv(t/e))/3:xt(zv(n))/3,u=Iv(o),a=bt(i),c=a*a-u*u;return[2*Wv(n)*Bv(Et(i)*u,.25-c),2*Wv(t)*Bv(a*Qv(o),.25+c)]};var ag=mt(8),cg=Gv(1+rg);jt.invert=function(n,t){if((e=zv(t))<cg)return[n,2*qv(Fv(t))-Yv];var r,e,o=ng,i=25;do{var u=Iv(o/2),a=Jv(o/2);o-=r=(ag*(o-ng)-Gv(a)-e)/(ag-u*u/(2*a))}while(zv(r)>Kv&&--i>0);return[n/(Iv(o)*(ag-1/Qv(o))),Wv(t)*o]};var fg=Rt(rg/Yv,rg,Xv),lg=2.00276,sg=1.11072;Nt.invert=function(n,t){var r,e,o=lg*t,i=t<0?-ng:ng,u=25;do{e=o-rg*Qv(i),i-=r=(Qv(2*i)+2*i-Xv*Qv(e))/(2*Iv(2*i)+2+Xv*Iv(e)*rg*Iv(i))}while(zv(r)>Zv&&--u>0);return e=o-rg*Qv(i),[n*(1/Iv(e)+sg/Iv(i))/lg,e]};var pg=function(n){var t=0,r=Kn(n),e=r(t);return e.parallel=function(n){return arguments.length?r(t=n*ug):t*ig},e};Lt.invert=function(n,t){return[n/Iv(t),t]};var hg=Rt(1,4/Xv,Xv);Gt.invert=function(n,t){var r=(r=t/eg-1)*r;return[r>0?n*mt(Xv/r)/2:0,dt(1-r)]};var vg=mt(3);Vt.invert=function(n,t){var r=3*dt(t/(vg*eg));return[eg*n/(vg*(2*Iv(2*r/3)-1)),r]};Wt.invert=function(n,t){var r=mt(8/(3*Xv)),e=t/r;return[n/(r*(1-zv(e)/Xv)),e]};Qt.invert=function(n,t){var r=2-zv(t)/mt(2*Xv/3);return[n*mt(6*Xv)/(2*r),Wv(t)*dt((4-r*r)/3)]};Jt.invert=function(n,t){var r=mt(Xv*(4+Xv))/2;return[n*r/(1+mt(1-t*t*(4+Xv)/(4*Xv))),t*r/2]};Zt.invert=function(n,t){var r=t*mt((4+Xv)/Xv)/2,e=dt(r),o=Iv(e);return[n/(2/mt(Xv*(4+Xv))*(1+o)),dt((e+r*(o+2))/(2+Yv))]};Kt.invert=function(n,t){var r=mt(2+Xv),e=t*r/2;return[r*n/(1+Iv(e)),e]};Xt.invert=function(n,t){var r=1+Yv,e=mt(r/2);return[2*n*e/(1+Iv(t*=e)),dt((t+Qv(t))/r)]};var gg=3+2*rg;Yt.invert=function(n,t){if(!(r=Ct.invert(n/1.2,1.065*t)))return null;var r,e=r[0],o=r[1],i=20;n/=gg,t/=gg;do{var u=e/2,a=o/2,c=Qv(u),f=Iv(u),l=Qv(a),s=Iv(a),p=Iv(o),h=mt(p),v=l/(s+rg*f*h),g=v*v,d=mt(2/(1+g)),y=(rg*s+(f+c)*h)/(rg*s+(f-c)*h),m=mt(y),w=m-1/m,E=m+1/m,b=d*w-2*Gv(m)-n,x=d*v*E-2*qv(v)-t,M=l&&tg*h*c*g/l,S=(rg*f*s+h)/(2*(s+rg*f*h)*(s+rg*f*h)*h),_=-.5*v*d*d*d,T=_*M,C=_*S,j=(j=2*s+rg*h*(f-c))*j*m,P=(rg*f*s*h+p)/j,A=-rg*c*l/(h*j),R=w*T-2*P/m+d*(P+P/y),N=w*C-2*A/m+d*(A+A/y),L=v*E*T-2*M/(1+g)+d*E*M+d*v*(P-P/y),O=v*E*C-2*S/(1+g)+d*E*S+d*v*(A-A/y),k=N*L-O*R;if(!k)break;var z=(x*N-b*O)/k,q=(b*L-x*R)/k;e-=z,o=Uv(-Yv,Vv(Yv,o-q))}while((zv(z)>Zv||zv(q)>Zv)&&--i>0);return zv(zv(o)-Yv)<Zv?[0,o]:i&&[e,o]};var dg=Iv(35*ug);nr.invert=function(n,t){var r=t/(1+dg);return[n&&n/(dg*mt(1-r*r)),2*qv(r)]};tr.invert=function(n,t){var r=qv(t/eg),e=Iv(r),o=2*r;return[n*eg/2/(Iv(o)*e*e),o]};var yg=function(n,t,r,e,o,i,u,a){function c(c,f){if(!f)return[n*c/Xv,0];var l=f*f,s=n+l*(t+l*(r+l*e)),p=f*(o-1+l*(i-a+l*u)),h=(s*s+p*p)/(2*p),v=c*dt(s/h)/Xv;return[h*Qv(v),f*(1+l*a)+h*(1-Iv(v))]}return arguments.length<8&&(a=0),c.invert=function(c,f){var l,s,p=Xv*c/n,h=f,v=50;do{var g=h*h,d=n+g*(t+g*(r+g*e)),y=h*(o-1+g*(i-a+g*u)),m=d*d+y*y,w=2*y,E=m/w,b=E*E,x=dt(d/E)/Xv,M=p*x,S=d*d,_=(2*t+g*(4*r+6*g*e))*h,T=o+g*(3*i+5*g*u),C=(2*(d*_+y*(T-1))*w-m*(2*(T-1)))/(w*w),j=Iv(M),P=Qv(M),A=E*j,R=E*P,N=p/Xv*(1/mt(1-S/b))*(_*E-d*C)/b,L=R-c,O=h*(1+g*a)+E-A-f,k=C*P+A*N,z=A*x,q=1+C-(C*j-R*N),B=R*x,I=k*B-q*z;if(!I)break;p-=l=(O*k-L*q)/I,h-=s=(L*B-O*z)/I}while((zv(l)>Zv||zv(s)>Zv)&&--v>0);return[p,h]},c},mg=yg(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555),wg=yg(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742),Eg=yg(5/6*Xv,-.62636,-.0344,0,1.3493,-.05524,0,.045);ar.invert=function(n,t){var r,e=n,o=t,i=50;do{var u=o*o;o-=r=(o*(1+u/12)-t)/(1+u/4)}while(zv(r)>Zv&&--i>0);i=50,n/=1-.162388*u;do{var a=(a=e*e)*a;e-=r=(e*(.87-952426e-9*a)-n)/(.87-.00476213*a)}while(zv(r)>Zv&&--i>0);return[e,o]};var bg=yg(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762),xg=function(n){function t(t,e){var o=t>0?-.5:.5,i=n(t+o*Xv,e);return i[0]-=o*r,i}var r=n(Yv,0)[0]-n(-Yv,0)[0];return n.invert&&(t.invert=function(t,e){var o=t>0?-.5:.5,i=n.invert(t+o*r,e),u=i[0]-o*Xv;return u<-Xv?u+=2*Xv:u>Xv&&(u-=2*Xv),i[0]=u,i}),t};cr.invert=function(n,t){zv(n)>1&&(n=2*Wv(n)-n),zv(t)>1&&(t=2*Wv(t)-t);var r=Wv(n),e=Wv(t),o=-r*n,i=-e*t,u=i/o<1,a=lr(u?i:o,u?o:i),c=a[0],f=a[1],l=Iv(f);return u&&(c=-Yv-c),[r*(Bv(Qv(c)*l,-Qv(f))+Xv),e*dt(Iv(c)*l)]};gr.invert=function(n,t){var r=(rg-1)/(rg+1),e=mt(1-r*r),o=sr(.5*vr(Yv,e*e)-t,-n,e*e),i=yr(o[0],o[1]);return[Bv(i[1],i[0])/-1,2*qv(Fv(-.5*Gv(r*i[0]*i[0]+r*i[1]*i[1])))-Yv]};wr.invert=function(n,t){var r=2*dt(t/2);return[n*Iv(r/2)/Iv(r),r]};var Mg=41+48/36+37/3600,Sg=$t(0),_g=.7109889596207567,Tg=.0528035274542;_r.invert=function(n,t){return t>-_g?fg.invert(n,t-Tg):Lt.invert(n,t)};Tr.invert=function(n,t){return zv(t)>_g?fg.invert(n,t+(t>0?Tg:-Tg)):Lt.invert(n,t)};var Cg=function(n,t){function r(r,e){for(var o=e<0?-1:1,i=t[+(e<0)],u=0,a=i.length-1;u<a&&r>i[u][2][0];++u);var c=n(r-i[u][1][0],e);return c[0]+=n(i[u][1][0],o*e>o*i[u][0][1]?i[u][0][1]:e)[0],c}var e,o;n.invert&&(r.invert=function(e,i){for(var u=o[+(i<0)],a=t[+(i<0)],c=0,f=u.length;c<f;++c){var l=u[c];if(l[0][0]<=e&&e<l[1][0]&&l[0][1]<=i&&i<l[1][1]){var s=n.invert(e-n(a[c][1][0],0)[0],i);return s[0]+=a[c][1][0],Cr(r(s[0],s[1]),[e,i])?s:null}}});var i=Zn(r),u=i.stream;return i.stream=function(n){var t=i.rotate(),r=u(n),o=(i.rotate([0,0]),u(n));return i.rotate(t),r.sphere=function(){Bp(e,o)},r},i.lobes=function(r){return arguments.length?(e=Pr(r),t=r.map(function(n){return n.map(function(n){return[[n[0][0]*ug,n[0][1]*ug],[n[1][0]*ug,n[1][1]*ug],[n[2][0]*ug,n[2][1]*ug]]})}),o=t.map(function(t){return t.map(function(t){var r,e=n(t[0][0],t[0][1])[0],o=n(t[2][0],t[2][1])[0],i=n(t[1][0],t[0][1])[1],u=n(t[1][0],t[1][1])[1];return i>u&&(r=i,i=u,u=r),[[e,i],[o,u]]})}),i):t.map(function(n){return n.map(function(n){return[[n[0][0]*ig,n[0][1]*ig],[n[1][0]*ig,n[1][1]*ig],[n[2][0]*ig,n[2][1]*ig]]})})},null!=t&&i.lobes(t),i},jg=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Pg=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Ag=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]],Rg=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]],Ng=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]],Lg=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];Ar.invert=function(n,t){return[og/3*n/mt(Xv*Xv/3-t*t),t]};var Og=Xv/rg;Nr.invert=function(n,t){var r=zv(n),e=zv(t),o=Zv,i=Yv;e<Og?i*=e/Og:o+=6*yt(Og/e);for(var u=0;u<25;u++){var a=Qv(i),c=mt(Iv(i)),f=Qv(i/2),l=Iv(i/2),s=Qv(o/6),p=Iv(o/6),h=.5*o*(1+c)-r,v=i/(l*p)-e,g=c?-.25*o*a/c:0,d=.5*(1+c),y=(1+.5*i*f/l)/(l*p),m=i/l*(s/6)/(p*p),w=g*m-y*d,E=(h*m-v*d)/w,b=(v*g-h*y)/w;if(i-=E,o-=b,zv(E)<Zv&&zv(b)<Zv)break}return[n<0?-o:o,t<0?-i:i]};Lr.invert=function(n,t){var r=Wv(n)*Xv,e=t/2,o=50;do{var i=r*r,u=e*e,a=r*e,c=r*(.975534+u*(-.0143059*i-.119161+-.0547009*u))-n,f=e*(1.00384+i*(.0802894+-.02855*u+199025e-9*i)+u*(.0998909+-.0491032*u))-t,l=.975534-u*(.119161+3*i*.0143059+.0547009*u),s=-a*(.238322+.2188036*u+.0286118*i),p=a*(.1605788+7961e-7*i+-.0571*u),h=1.00384+i*(.0802894+199025e-9*i)+u*(3*(.0998909-.02855*i)-.245516*u),v=s*p-h*l,g=(f*s-c*h)/v,d=(c*p-f*l)/v;r-=g,e-=d}while((zv(g)>Zv||zv(d)>Zv)&&--o>0);return o&&[r,e]};Or.invert=function(n,t){var r=n*n,e=t*t,o=e+1,i=n?tg*mt((o-mt(r*r+2*r*(e-1)+o*o))/r+1):1/mt(o);return[dt(n*i),Wv(t)*yt(i)]};zr.invert=function(n,t){return[n,2.5*qv(Fv(.8*t))-.625*Xv]};var kg=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],zg=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],qg=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],Bg=[[.9245,0],[0,0],[.01943,0]],Ig=[[.721316,0],[0,0],[-.00881625,-.00617325]],Fg=mt(6),Dg=mt(7);Ir.invert=function(n,t){var r=3*dt(t*Dg/9);return[n*Dg/(Fg*(2*Iv(2*r/3)-1)),dt(3*Qv(r)*Fg/7)]};Fr.invert=function(n,t){var r=t*mt(2+rg)/(2*mt(3)),e=2*dt(r);return[3*rg*n/(1+2*Iv(e)/Iv(e/2)),dt((r+Qv(e))/(1+tg))]};Dr.invert=function(n,t){var r=mt(6/(4+Xv)),e=t/r;return zv(zv(e)-Yv)<Zv&&(e=e<0?-Yv:Yv),[1.5*n/(r*(.5+Iv(e))),dt((e/2+Qv(e))/(1+Xv/4))]};Gr.invert=function(n,t){var r,e=t,o=25;do{var i=e*e,u=i*i;e-=r=(e*(1.007226+i*(.015085+u*(.028874*i-.044475-.005916*u)))-t)/(1.007226+i*(.045255+u*(.259866*i-.311325-.005916*11*u)))}while(zv(r)>Zv&&--o>0);return[n/(.8707+(i=e*e)*(i*(i*i*i*(.003971-.001529*i)-.013791)-.131979)),e]};Ur.invert=function(n,t){var r,e,o,i,u=t,a=25;do{u-=r=(u*(1.01183+(o=(e=u*u)*e)*o*(.01926*e-.02625-.00396*o))-t)/(1.01183+o*o*(.21186*e-.23625+-.05148*o))}while(zv(r)>Kv&&--a>0);return e=u*u,o=e*e,i=e*o,[n/(.84719-.13063*e+i*i*(.05494*e-.04515-.02326*o+.00331*i)),u]};Vr.invert=function(n,t){for(var r=t/2,e=0,o=1/0;e<10&&zv(o)>Zv;++e){var i=Iv(t/2);t-=o=(t-Jv(t/2)-r)/(1-.5/(i*i))}return[2*n/(1+Iv(t)),t]};var Gg=1.0148,Ug=.23185,Vg=-.14499,$g=.02406,Hg=Gg,Wg=5*Ug,Qg=7*Vg,Jg=9*$g;$r.invert=function(n,t){t>1.790857183?t=1.790857183:t<-1.790857183&&(t=-1.790857183);var r,e=t;do{var o=e*e;e-=r=(e*(Gg+o*o*(Ug+o*(Vg+$g*o)))-t)/(Hg+o*o*(Wg+o*(Qg+Jg*o)))}while(zv(r)>Zv);return[n,e]};Hr.invert=function(n,t){if(zv(t)<Zv)return[n,0];var r,e=n*n+t*t,o=.5*t,i=10;do{var u=Jv(o),a=1/Iv(o),c=e-2*t*o+o*o;o-=r=(u*c+2*(o-t))/(2+c*a*a+2*(o-t)*u)}while(zv(r)>Zv&&--i>0);return u=Jv(o),[(zv(t)<zv(o+1/u)?dt(n*u):Wv(n)*(yt(zv(n*u))+Yv))/Qv(o),o]};var Zg=function(n,t){var r=Jr(n[1],n[0]),e=Jr(t[1],t[0]),o=Kr(r,e),i=Zr(r)/Zr(e);return Qr([1,0,n[0][0],0,1,n[0][1]],Qr([i,0,0,0,i,0],Qr([Iv(o),Qv(o),0,-Qv(o),Iv(o),0],[1,0,-t[0][0],0,1,-t[0][1]])))},Kg=function(n,t,r){function e(n,t){if(n.edges=te(n.face),t.face){var r=n.shared=ne(n.face,t.face),o=Zg(r.map(t.project),r.map(n.project));n.transform=t.transform?Qr(t.transform,o):o;for(var i=t.edges,u=0,a=i.length;u<a;++u)Yr(r[0],i[u][1])&&Yr(r[1],i[u][0])&&(i[u]=n),Yr(r[0],i[u][0])&&Yr(r[1],i[u][1])&&(i[u]=n);for(u=0,a=(i=n.edges).length;u<a;++u)Yr(r[0],i[u][0])&&Yr(r[1],i[u][1])&&(i[u]=t),Yr(r[0],i[u][1])&&Yr(r[1],i[u][0])&&(i[u]=t)}else n.transform=t.transform;return n.children&&n.children.forEach(function(t){e(t,n)}),n}function o(n,r){var e,o=t(n,r),i=o.project([n*ig,r*ig]);return(e=o.transform)?[e[0]*i[0]+e[1]*i[1]+e[2],-(e[3]*i[0]+e[4]*i[1]+e[5])]:(i[1]=-i[1],i)}function i(n,t){var r=n.project.invert,e=n.transform,o=t;if(e&&(o=[(e=Wr(e))[0]*o[0]+e[1]*o[1]+e[2],e[3]*o[0]+e[4]*o[1]+e[5]]),r&&n===u(a=r(o)))return a;for(var a,c=n.children,f=0,l=c&&c.length;f<l;++f)if(a=i(c[f],t))return a}function u(n){return t(n[0]*ug,n[1]*ug)}e(n,{transform:[Iv(r=null==r?-Xv/6:r),Qv(r),0,-Qv(r),Iv(r),0]}),re(n)&&(o.invert=function(t,r){var e=i(n,[t,-r]);return e&&(e[0]*=ug,e[1]*=ug,e)});var a=Zn(o),c=a.stream;return a.stream=function(t){var r=a.rotate(),e=c(t),o=(a.rotate([0,0]),c(t));return a.rotate(r),e.sphere=function(){o.polygonStart(),o.lineStart(),Xr(o,n),o.lineEnd(),o.polygonEnd()},e},a},Xg=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Yg=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(n){return n.map(function(n){return Xg[n]})}),nd=2/mt(3);ee.invert=function(n,t){return Gt.invert(n/nd,t)};var td=function(){},rd=function(n){if((t=n.length)<4)return!1;for(var t,r=0,e=n[t-1][1]*n[0][0]-n[t-1][0]*n[0][1];++r<t;)e+=n[r-1][1]*n[r][0]-n[r-1][0]*n[r][1];return e<=0},ed=function(n,t){for(var r=t[0],e=t[1],o=!1,i=0,u=n.length,a=u-1;i<u;a=i++){var c=n[i],f=c[0],l=c[1],s=n[a],p=s[0],h=s[1];l>e^h>e&&r<(p-f)*(e-l)/(h-l)+f&&(o=!o)}return o},od=[],id=[],ud={point:function(n,t){od.push([n,t])},result:function(){var n=od.length?od.length<2?{type:"Point",coordinates:od[0]}:{type:"MultiPoint",coordinates:od}:null;return od=[],n}},ad={lineStart:td,point:function(n,t){od.push([n,t])},lineEnd:function(){od.length&&(id.push(od),od=[])},result:function(){var n=id.length?id.length<2?{type:"LineString",coordinates:id[0]}:{type:"MultiLineString",coordinates:id}:null;return id=[],n}},cd={polygonStart:td,lineStart:td,point:function(n,t){od.push([n,t])},lineEnd:function(){var n=od.length;if(n){do{od.push(od[0].slice())}while(++n<4);id.push(od),od=[]}},polygonEnd:td,result:function(){if(!id.length)return null;var n=[],t=[];return id.forEach(function(r){rd(r)?n.push([r]):t.push(r)}),t.forEach(function(t){var r=t[0];n.some(function(n){if(ed(n[0],r))return n.push(t),!0})||n.push([t])}),id=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}},fd=function(n){function t(t,e){var o=zv(t)<Yv,i=n(o?t:t>0?t-Xv:t+Xv,e),u=(i[0]-i[1])*tg,a=(i[0]+i[1])*tg;if(o)return[u,a];var c=r*tg,f=u>0^a>0?-1:1;return[f*u-Wv(a)*c,f*a-Wv(u)*c]}var r=n(Yv,0)[0]-n(-Yv,0)[0];return n.invert&&(t.invert=function(t,e){var o=(t+e)*tg,i=(e-t)*tg,u=zv(o)<.5*r&&zv(i)<.5*r;if(!u){var a=r*tg,c=o>0^i>0?-1:1,f=-c*t+(i>0?1:-1)*a,l=-c*e+(o>0?1:-1)*a;o=(-f-l)*tg,i=(f-l)*tg}var s=n.invert(o,i);return u||(s[0]+=o>0?Xv:-Xv),s}),Zn(t).rotate([-90,-90,45]).clipAngle(179.999)},ld=function(){return fd(gr).scale(111.48)},sd=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];sd.forEach(function(n){n[1]*=1.0144}),he.invert=function(n,t){var r=t/Yv,e=90*r,o=Vv(18,zv(e/5)),i=Uv(0,Dv(o));do{var u=sd[i][1],a=sd[i+1][1],c=sd[Vv(19,i+2)][1],f=c-u,l=c-2*a+u,s=2*(zv(r)-a)/f,p=l/f,h=s*(1-p*s*(1-2*p*s));if(h>=0||1===i){e=(t>=0?5:-5)*(h+o);var v,g=50;do{h=(o=Vv(18,zv(e)/5))-(i=Dv(o)),u=sd[i][1],a=sd[i+1][1],c=sd[Vv(19,i+2)][1],e-=(v=(t>=0?Yv:-Yv)*(a+h*(c-u)/2+h*h*(c-2*a+u)/2)-t)*ig}while(zv(v)>Kv&&--g>0);break}}while(--i>=0);var d=sd[i][0],y=sd[i+1][0],m=sd[Vv(19,i+2)][0];return[n/(y+h*(m-d)/2+h*h*(m-2*y+d)/2),e*ug]};var pd=1e4,hd=-180,vd=hd+1e-4,gd=180,dd=gd-1e-4,yd=-90,md=yd+1e-4,wd=90,Ed=wd-1e-4;_e.invert=function(n,t){var r=t/1.70711,e=Qv(ng*r);return[n/(.74482-.34588*e*e),2*qv(r)]};var bd=function(n,t,r){var e=Qh(t,r),o=e(.5),i=uh([-o[0],-o[1]])(t),u=e.distance/2,a=-dt(Qv(i[1]*ug)/Qv(u)),c=[-o[0],-o[1],-(i[0]>0?Xv-a:a)*ig],f=Zn(n(u)).rotate(c),l=uh(c),s=f.center;return delete f.rotate,f.center=function(n){return arguments.length?s(l(n)):l.invert(s())},f.clipAngle(90)};Ae.invert=function(n,t){if(zv(t)<Zv)return[n,0];if(zv(n)<Zv)return[0,Yv*Qv(2*qv(t/Xv))];var r=(n/=Xv)*n,e=(t/=Xv)*t,o=r+e,i=o*o,u=-zv(t)*(1+o),a=u-2*e+r,c=-2*u+1+2*e+i,f=e/c+(2*a*a*a/(c*c*c)-9*u*a/(c*c))/27,l=(u-a*a/(3*c))/c,s=2*mt(-l/3),p=yt(3*f/(l*s))/3;return[Xv*(o-1+mt(1+2*(r-e)+i))/(2*n),Wv(t)*Xv*(-s*Iv(p+Xv/3)-a/(3*c))]};Re.invert=function(n,t){if(!n)return[0,Yv*Qv(2*qv(t/Xv))];var r=zv(n/Xv),e=(1-r*r-(t/=Xv)*t)/(2*r),o=mt(e*e+1);return[Wv(n)*Xv*(o-e),Wv(t)*Yv*Qv(2*Bv(mt((1-2*e*r)*(e+o)-r),mt(o+e+r)))]};Ne.invert=function(n,t){if(!t)return[n,0];var r=t/Xv,e=(Xv*Xv*(1-r*r)-n*n)/(2*Xv*n);return[n?Xv*(Wv(n)*mt(e*e+1)-e):0,Yv*Qv(2*qv(r))]};Le.invert=function(n,t){var r;if(!n||!t)return[n,t];t/=Xv;var e=Wv(n)*n/Yv,o=(e*e-1+4*t*t)/zv(e),i=o*o,u=2*t,a=50;do{var c=u*u,f=(8*u-c*(c+2)-5)/(2*c*(u-1)),l=(3*u-c*u-10)/(2*c*u),s=f*f,p=u*f,h=u+f,v=h*h,g=u+3*f,d=-2*h*(4*p*s+(1-4*c+3*c*c)*(1+l)+s*(14*c-6-i+(8*c-8-2*i)*l)+p*(12*c-8+(10*c-10-i)*l)),y=mt(v*(c+s*i-1)+(1-c)*(c*(g*g+4*s)+s*(12*p+4*s)));u-=r=(o*(v+s-1)+2*y-e*(4*v+i))/(o*(2*f*l+2*h*(1+l))+d/y-8*h*(o*(-1+s+v)+2*y)*(1+l)/(i+4*v))}while(r>Zv&&--a>0);return[Wv(n)*(mt(o*o+4)+o)*Xv/4,Yv*u]};var xd=4*Xv+3*mt(3),Md=2*mt(2*Xv*mt(3)/xd),Sd=Rt(Md*mt(3)/Xv,Md,xd/6);Oe.invert=function(n,t){return[n/mt(1-3*t*t/(Xv*Xv)),t]};ke.invert=function(n,t){var r=n/2.66723,e=t/1.24104,o=mt(r*r+e*e),i=2*dt(o/2);return[3*Bv(n*Jv(i),2.66723*o),o&&dt(t*Qv(i)/(1.24104*.90631*o))]};ze.invert=function(n,t){var r=(n*n+t*t)/-2,e=mt(-r*(2+r)),o=t*r+n*e,i=n*r-t*e,u=mt(i*i+o*o);return[Bv(e*o,u*(1+r)),u?-dt(e*i/u):0]};qe.invert=function(n,t){var r=n,e=t,o=25;do{var i,u=Iv(e),a=Qv(e),c=Qv(2*e),f=a*a,l=u*u,s=Qv(r),p=Iv(r/2),h=Qv(r/2),v=h*h,g=1-l*p*p,d=g?yt(u*p)*mt(i=1/g):i=0,y=.5*(2*d*u*h+r/Yv)-n,m=.5*(d*a+e)-t,w=.5*i*(l*v+d*u*p*f)+.5/Yv,E=i*(s*c/4-d*a*h),b=.125*i*(c*h-d*a*l*s),x=.5*i*(f*p+d*v*u)+.5,M=E*b-x*w,S=(m*E-y*x)/M,_=(y*b-m*w)/M;r-=S,e-=_}while((zv(S)>Zv||zv(_)>Zv)&&--o>0);return[r,e]};var _d=Object.freeze({geoAiry:function(){var n=Yv,t=Kn(St),r=t(n);return r.radius=function(r){return arguments.length?t(n=r*ug):n*ig},r.scale(179.976).clipAngle(147)},geoAiryRaw:St,geoAitoff:function(){return Zn(_t).scale(152.63)},geoAitoffRaw:_t,geoArmadillo:function(){var n=20*ug,t=n>=0?1:-1,r=Jv(t*n),e=Kn(Tt),o=e(n),i=o.stream;return o.parallel=function(o){return arguments.length?(r=Jv((t=(n=o*ug)>=0?1:-1)*n),e(n)):n*ig},o.stream=function(e){var u=o.rotate(),a=i(e),c=(o.rotate([0,0]),i(e));return o.rotate(u),a.sphere=function(){c.polygonStart(),c.lineStart();for(var e=-180*t;t*e<180;e+=90*t)c.point(e,90*t);for(;t*(e-=n)>=-180;)c.point(e,t*-Bv(Iv(e*ug/2),r)*ig);c.lineEnd(),c.polygonEnd()},a},o.scale(218.695).center([0,28.0974])},geoArmadilloRaw:Tt,geoAugust:function(){return Zn(Ct).scale(66.1603)},geoAugustRaw:Ct,geoBaker:function(){return Zn(jt).scale(112.314)},geoBakerRaw:jt,geoBerghaus:function(){var n=5,t=Kn(Pt),r=t(n),e=r.stream,o=-Iv(.01*ug),i=Qv(.01*ug);return r.lobes=function(r){return arguments.length?t(n=+r):n},r.stream=function(t){var u=r.rotate(),a=e(t),c=(r.rotate([0,0]),e(t));return r.rotate(u),a.sphere=function(){c.polygonStart(),c.lineStart();for(var t=0,r=360/n,e=2*Xv/n,u=90-180/n,a=Yv;t<n;++t,u-=r,a-=e)c.point(Bv(i*Iv(a),o)*ig,dt(i*Qv(a))*ig),u<-90?(c.point(-90,-180-u-.01),c.point(-90,-180-u+.01)):(c.point(90,u+.01),c.point(90,u-.01));c.lineEnd(),c.polygonEnd()},a},r.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},geoBerghausRaw:Pt,geoBoggs:function(){return Zn(Nt).scale(160.857)},geoBoggsRaw:Nt,geoBonne:function(){return pg(Ot).scale(123.082).center([0,26.1441]).parallel(45)},geoBonneRaw:Ot,geoBottomley:function(){var n=.5,t=Kn(kt),r=t(n);return r.fraction=function(r){return arguments.length?t(n=+r):n},r.scale(158.837)},geoBottomleyRaw:kt,geoBromley:function(){return Zn(hg).scale(152.63)},geoBromleyRaw:hg,geoChamberlin:Dt,geoChamberlinRaw:It,geoChamberlinAfrica:function(){return Dt([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},geoCollignon:function(){return Zn(Gt).scale(95.6464).center([0,30])},geoCollignonRaw:Gt,geoCraig:function(){return pg(Ut).scale(249.828).clipAngle(90)},geoCraigRaw:Ut,geoCraster:function(){return Zn(Vt).scale(156.19)},geoCrasterRaw:Vt,geoCylindricalEqualArea:function(){return pg($t).parallel(38.58).scale(195.044)},geoCylindricalEqualAreaRaw:$t,geoCylindricalStereographic:function(){return pg(Ht).scale(124.75)},geoCylindricalStereographicRaw:Ht,geoEckert1:function(){return Zn(Wt).scale(165.664)},geoEckert1Raw:Wt,geoEckert2:function(){return Zn(Qt).scale(165.664)},geoEckert2Raw:Qt,geoEckert3:function(){return Zn(Jt).scale(180.739)},geoEckert3Raw:Jt,geoEckert4:function(){return Zn(Zt).scale(180.739)},geoEckert4Raw:Zt,geoEckert5:function(){return Zn(Kt).scale(173.044)},geoEckert5Raw:Kt,geoEckert6:function(){return Zn(Xt).scale(173.044)},geoEckert6Raw:Xt,geoEisenlohr:function(){return Zn(Yt).scale(62.5271)},geoEisenlohrRaw:Yt,geoFahey:function(){return Zn(nr).scale(137.152)},geoFaheyRaw:nr,geoFoucaut:function(){return Zn(tr).scale(135.264)},geoFoucautRaw:tr,geoGilbert:function(n){function t(n){return e(rr(n))}function r(n){t[n]=function(r){return arguments.length?(e[n](r),t):e[n]()}}null==n&&(n=Ov);var e=n(),o=Nv().scale(ig).precision(0).clipAngle(null).translate([0,0]);return e.invert&&(t.invert=function(n){return er(e.invert(n))}),t.stream=function(n){var t=e.stream(n),r=o.stream({point:function(n,r){t.point(n/2,dt(Jv(-r/2*ug))*ig)},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}});return r.sphere=t.sphere,r},t.rotate=function(n){return arguments.length?(o.rotate(n),t):o.rotate()},t.center=function(n){return arguments.length?(e.center(rr(n)),t):er(e.center())},r("clipAngle"),r("clipExtent"),r("scale"),r("translate"),r("precision"),t.scale(249.5)},geoGingery:function(){var n=6,t=30*ug,r=Iv(t),e=Qv(t),o=Kn(or),i=o(t,n),u=i.stream,a=-Iv(.01*ug),c=Qv(.01*ug);return i.radius=function(i){return arguments.length?(r=Iv(t=i*ug),e=Qv(t),o(t,n)):t*ig},i.lobes=function(r){return arguments.length?o(t,n=+r):n},i.stream=function(t){var o=i.rotate(),f=u(t),l=(i.rotate([0,0]),u(t));return i.rotate(o),f.sphere=function(){l.polygonStart(),l.lineStart();for(var t=0,o=2*Xv/n,i=0;t<n;++t,i-=o)l.point(Bv(c*Iv(i),a)*ig,dt(c*Qv(i))*ig),l.point(Bv(e*Iv(i-o/2),r)*ig,dt(e*Qv(i-o/2))*ig);l.lineEnd(),l.polygonEnd()},f},i.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},geoGingeryRaw:or,geoGinzburg4:function(){return Zn(mg).scale(149.995)},geoGinzburg4Raw:mg,geoGinzburg5:function(){return Zn(wg).scale(153.93)},geoGinzburg5Raw:wg,geoGinzburg6:function(){return Zn(Eg).scale(130.945)},geoGinzburg6Raw:Eg,geoGinzburg8:function(){return Zn(ar).scale(131.747)},geoGinzburg8Raw:ar,geoGinzburg9:function(){return Zn(bg).scale(131.087)},geoGinzburg9Raw:bg,geoGringorten:function(){return Zn(xg(cr)).scale(239.75)},geoGringortenRaw:cr,geoGuyou:function(){return Zn(xg(gr)).scale(151.496)},geoGuyouRaw:gr,geoHammer:function(){var n=2,t=Kn(mr),r=t(n);return r.coefficient=function(r){return arguments.length?t(n=+r):n},r.scale(169.529)},geoHammerRaw:mr,geoHammerRetroazimuthal:function(){var n=0,t=Kn(Er),r=t(n),e=r.rotate,o=r.stream,i=ah();return r.parallel=function(e){if(!arguments.length)return n*ig;var o=r.rotate();return t(n=e*ug).rotate(o)},r.rotate=function(t){return arguments.length?(e.call(r,[t[0],t[1]-n*ig]),i.center([-t[0],-t[1]]),r):(t=e.call(r),t[1]+=n*ig,t)},r.stream=function(n){return n=o(n),n.sphere=function(){n.polygonStart();var t,r=i.radius(89.99)().coordinates[0],e=r.length-1,o=-1;for(n.lineStart();++o<e;)n.point((t=r[o])[0],t[1]);for(n.lineEnd(),e=(r=i.radius(90.01)().coordinates[0]).length-1,n.lineStart();--o>=0;)n.point((t=r[o])[0],t[1]);n.lineEnd(),n.polygonEnd()},n},r.scale(79.4187).parallel(45).clipAngle(179.999)},geoHammerRetroazimuthalRaw:Er,geoHealpix:function(){var n=4,t=Kn(xr),r=t(n),e=r.stream;return r.lobes=function(r){return arguments.length?t(n=+r):n},r.stream=function(t){var o=r.rotate(),i=e(t),u=(r.rotate([0,0]),e(t));return r.rotate(o),i.sphere=function(){Bp(Mr(180/n),u)},i},r.scale(239.75)},geoHealpixRaw:xr,geoHill:function(){var n=1,t=Kn(Sr),r=t(n);return r.ratio=function(r){return arguments.length?t(n=+r):n},r.scale(167.774).center([0,18.67])},geoHillRaw:Sr,geoHomolosine:function(){return Zn(Tr).scale(152.63)},geoHomolosineRaw:Tr,geoInterrupt:Cg,geoInterruptedBoggs:function(){return Cg(Nt,jg).scale(160.857)},geoInterruptedHomolosine:function(){return Cg(Tr,Pg).scale(152.63)},geoInterruptedMollweide:function(){return Cg(fg,Ag).scale(169.529)},geoInterruptedMollweideHemispheres:function(){return Cg(fg,Rg).scale(169.529).rotate([20,0])},geoInterruptedSinuMollweide:function(){return Cg(_r,Ng).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoInterruptedSinusoidal:function(){return Cg(Lt,Lg).scale(152.63).rotate([-20,0])},geoKavrayskiy7:function(){return Zn(Ar).scale(158.837)},geoKavrayskiy7Raw:Ar,geoLagrange:function(){var n=.5,t=Kn(Rr),r=t(n);return r.spacing=function(r){return arguments.length?t(n=+r):n},r.scale(124.75)},geoLagrangeRaw:Rr,geoLarrivee:function(){return Zn(Nr).scale(97.2672)},geoLarriveeRaw:Nr,geoLaskowski:function(){return Zn(Lr).scale(139.98)},geoLaskowskiRaw:Lr,geoLittrow:function(){return Zn(Or).scale(144.049).clipAngle(89.999)},geoLittrowRaw:Or,geoLoximuthal:function(){return pg(kr).parallel(40).scale(158.837)},geoLoximuthalRaw:kr,geoMiller:function(){return Zn(zr).scale(108.318)},geoMillerRaw:zr,geoModifiedStereographic:Br,geoModifiedStereographicRaw:qr,geoModifiedStereographicAlaska:function(){return Br(kg,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},geoModifiedStereographicGs48:function(){return Br(zg,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},geoModifiedStereographicGs50:function(){return Br(qg,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},geoModifiedStereographicMiller:function(){return Br(Bg,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},geoModifiedStereographicLee:function(){return Br(Ig,[165,10]).scale(250).clipAngle(130).center([-165,-10])},geoMollweide:function(){return Zn(fg).scale(169.529)},geoMollweideRaw:fg,geoMtFlatPolarParabolic:function(){return Zn(Ir).scale(164.859)},geoMtFlatPolarParabolicRaw:Ir,geoMtFlatPolarQuartic:function(){return Zn(Fr).scale(188.209)},geoMtFlatPolarQuarticRaw:Fr,geoMtFlatPolarSinusoidal:function(){return Zn(Dr).scale(166.518)},geoMtFlatPolarSinusoidalRaw:Dr,geoNaturalEarth:function(){return Zn(Gr).scale(175.295)},geoNaturalEarthRaw:Gr,geoNaturalEarth2:function(){return Zn(Ur).scale(175.295)},geoNaturalEarth2Raw:Ur,geoNellHammer:function(){return Zn(Vr).scale(152.63)},geoNellHammerRaw:Vr,geoPatterson:function(){return Zn($r).scale(139.319)},geoPattersonRaw:$r,geoPolyconic:function(){return Zn(Hr).scale(103.74)},geoPolyconicRaw:Hr,geoPolyhedral:Kg,geoPolyhedralButterfly:function(n){n=n||function(n){var t=Hp({type:"MultiPoint",coordinates:n});return Lv().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=Yg.map(function(t){return{face:t,project:n(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(n,r){var e=t[n];e&&(e.children||(e.children=[])).push(t[r])}),Kg(t[0],function(n,r){return t[n<-Xv/2?r<0?6:4:n<0?r<0?2:0:n<Xv/2?r<0?3:1:r<0?7:5]}).scale(101.858).center([0,45])},geoPolyhedralCollignon:function(n){n=n||function(n){var t=Hp({type:"MultiPoint",coordinates:n});return Zn(ee).translate([0,0]).scale(1).rotate(t[1]>0?[-t[0],0]:[180-t[0],180])};var t=Yg.map(function(t){return{face:t,project:n(t)}});return[-1,0,0,1,0,1,4,5].forEach(function(n,r){var e=t[n];e&&(e.children||(e.children=[])).push(t[r])}),Kg(t[0],function(n,r){return t[n<-Xv/2?r<0?6:4:n<0?r<0?2:0:n<Xv/2?r<0?3:1:r<0?7:5]}).scale(121.906).center([0,48.5904])},geoPolyhedralWaterman:function(n){n=n||function(n){var t=6===n.length?Hp({type:"MultiPoint",coordinates:n}):n[0];return Lv().scale(1).translate([0,0]).rotate([-t[0],-t[1]])};var t=Yg.map(function(n){for(var t,r=n.map(ae),e=r.length,o=r[e-1],i=[],u=0;u<e;++u)t=r[u],i.push(ue([.9486832980505138*o[0]+.31622776601683794*t[0],.9486832980505138*o[1]+.31622776601683794*t[1],.9486832980505138*o[2]+.31622776601683794*t[2]]),ue([.9486832980505138*t[0]+.31622776601683794*o[0],.9486832980505138*t[1]+.31622776601683794*o[1],.9486832980505138*t[2]+.31622776601683794*o[2]])),o=t;return i}),r=[],e=[-1,0,0,1,0,1,4,5];t.forEach(function(n,o){for(var i=Yg[o],u=i.length,a=r[o]=[],c=0;c<u;++c)t.push([i[c],n[(2*c+2)%(2*u)],n[(2*c+1)%(2*u)]]),e.push(o),a.push(ie(ae(n[(2*c+2)%(2*u)]),ae(n[(2*c+1)%(2*u)])))});var o=t.map(function(t){return{project:n(t),face:t}});return e.forEach(function(n,t){var r=o[n];r&&(r.children||(r.children=[])).push(o[t])}),Kg(o[0],function(n,t){var e=Iv(t),i=[e*Iv(n),e*Qv(n),Qv(t)],u=n<-Xv/2?t<0?6:4:n<0?t<0?2:0:n<Xv/2?t<0?3:1:t<0?7:5,a=r[u];return o[oe(a[0],i)<0?8+3*u:oe(a[1],i)<0?8+3*u+1:oe(a[2],i)<0?8+3*u+2:u]}).scale(110.625).center([0,45])},geoProject:function(n,t){var r,e=t.stream;if(!e)throw new Error("invalid projection");switch(n&&n.type){case"Feature":r=fe;break;case"FeatureCollection":r=ce;break;default:r=se}return r(n,e)},geoGringortenQuincuncial:function(){return fd(cr).scale(176.423)},geoPeirceQuincuncial:ld,geoPierceQuincuncial:ld,geoQuantize:function(n,t){function r(n){var r=n.length,e=2,o=new Array(r);for(o[0]=+n[0].toFixed(t),o[1]=+n[1].toFixed(t);e<r;)o[e]=n[e],++e;return o}function e(n){return n.map(r)}function o(n){return n.map(e)}function i(n){if(null==n)return n;var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(i)};break;case"Point":t={type:"Point",coordinates:r(n.coordinates)};break;case"MultiPoint":case"LineString":t={type:n.type,coordinates:e(n.coordinates)};break;case"MultiLineString":case"Polygon":t={type:n.type,coordinates:o(n.coordinates)};break;case"MultiPolygon":t={type:"MultiPolygon",coordinates:n.coordinates.map(o)};break;default:return n}return null!=n.bbox&&(t.bbox=n.bbox),t}function u(n){var t={type:"Feature",properties:n.properties,geometry:i(n.geometry)};return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),t}if(!(0<=(t=+t)&&t<=20))throw new Error("invalid digits");if(null!=n)switch(n.type){case"Feature":return u(n);case"FeatureCollection":var a={type:"FeatureCollection",features:n.features.map(u)};return null!=n.bbox&&(a.bbox=n.bbox),a;default:return i(n)}return n},geoQuincuncial:fd,geoRectangularPolyconic:function(){return pg(pe).scale(131.215)},geoRectangularPolyconicRaw:pe,geoRobinson:function(){return Zn(he).scale(152.63)},geoRobinsonRaw:he,geoSatellite:function(){var n=2,t=0,r=Kn(ge),e=r(n,t);return e.distance=function(e){return arguments.length?r(n=+e,t):n},e.tilt=function(e){return arguments.length?r(n,t=e*ug):t*ig},e.scale(432.147).clipAngle(yt(1/n)*ig-1e-6)},geoSatelliteRaw:ge,geoSinuMollweide:function(){return Zn(_r).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},geoSinuMollweideRaw:_r,geoSinusoidal:function(){return Zn(Lt).scale(152.63)},geoSinusoidalRaw:Lt,geoStitch:function(n){if(null==n)return n;switch(n.type){case"Feature":return Me(n);case"FeatureCollection":var t={type:"FeatureCollection",features:n.features.map(Me)};return null!=n.bbox&&(t.bbox=n.bbox),t;default:return Se(n)}},geoTimes:function(){return Zn(_e).scale(146.153)},geoTimesRaw:_e,geoTwoPointAzimuthal:Ce,geoTwoPointAzimuthalRaw:Te,geoTwoPointAzimuthalUsa:function(){return Ce([-158,21.5],[-77,39]).clipAngle(60).scale(400)},geoTwoPointEquidistant:Pe,geoTwoPointEquidistantRaw:je,geoTwoPointEquidistantUsa:function(){return Pe([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},geoVanDerGrinten:function(){return Zn(Ae).scale(79.4183)},geoVanDerGrintenRaw:Ae,geoVanDerGrinten2:function(){return Zn(Re).scale(79.4183)},geoVanDerGrinten2Raw:Re,geoVanDerGrinten3:function(){return Zn(Ne).scale(79.4183)},geoVanDerGrinten3Raw:Ne,geoVanDerGrinten4:function(){return Zn(Le).scale(127.16)},geoVanDerGrinten4Raw:Le,geoWagner4:function(){return Zn(Sd).scale(176.84)},geoWagner4Raw:Sd,geoWagner6:function(){return Zn(Oe).scale(152.63)},geoWagner6Raw:Oe,geoWagner7:function(){return Zn(ke).scale(172.632)},geoWagner7Raw:ke,geoWiechel:function(){return Zn(ze).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},geoWiechelRaw:ze,geoWinkel3:function(){return Zn(qe).scale(158.837)},geoWinkel3Raw:qe}),Td=n(function(n){!function(t){function r(){}function e(n,t){for(var r=n.length;r--;)if(n[r].listener===t)return r;return-1}function o(n){return function(){return this[n].apply(this,arguments)}}function i(n){return"function"==typeof n||n instanceof RegExp||!(!n||"object"!=typeof n)&&i(n.listener)}var u=r.prototype,a=t.EventEmitter;u.getListeners=function(n){var t,r,e=this._getEvents();if(n instanceof RegExp){t={};for(r in e)e.hasOwnProperty(r)&&n.test(r)&&(t[r]=e[r])}else t=e[n]||(e[n]=[]);return t},u.flattenListeners=function(n){var t,r=[];for(t=0;t<n.length;t+=1)r.push(n[t].listener);return r},u.getListenersAsObject=function(n){var t,r=this.getListeners(n);return r instanceof Array&&((t={})[n]=r),t||r},u.addListener=function(n,t){if(!i(t))throw new TypeError("listener must be a function");var r,o=this.getListenersAsObject(n),u="object"==typeof t;for(r in o)o.hasOwnProperty(r)&&-1===e(o[r],t)&&o[r].push(u?t:{listener:t,once:!1});return this},u.on=o("addListener"),u.addOnceListener=function(n,t){return this.addListener(n,{listener:t,once:!0})},u.once=o("addOnceListener"),u.defineEvent=function(n){return this.getListeners(n),this},u.defineEvents=function(n){for(var t=0;t<n.length;t+=1)this.defineEvent(n[t]);return this},u.removeListener=function(n,t){var r,o,i=this.getListenersAsObject(n);for(o in i)i.hasOwnProperty(o)&&-1!==(r=e(i[o],t))&&i[o].splice(r,1);return this},u.off=o("removeListener"),u.addListeners=function(n,t){return this.manipulateListeners(!1,n,t)},u.removeListeners=function(n,t){return this.manipulateListeners(!0,n,t)},u.manipulateListeners=function(n,t,r){var e,o,i=n?this.removeListener:this.addListener,u=n?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(e=r.length;e--;)i.call(this,t,r[e]);else for(e in t)t.hasOwnProperty(e)&&(o=t[e])&&("function"==typeof o?i.call(this,e,o):u.call(this,e,o));return this},u.removeEvent=function(n){var t,r=typeof n,e=this._getEvents();if("string"===r)delete e[n];else if(n instanceof RegExp)for(t in e)e.hasOwnProperty(t)&&n.test(t)&&delete e[t];else delete this._events;return this},u.removeAllListeners=o("removeEvent"),u.emitEvent=function(n,t){var r,e,o,i,u=this.getListenersAsObject(n);for(i in u)if(u.hasOwnProperty(i))for(r=u[i].slice(0),o=0;o<r.length;o++)!0===(e=r[o]).once&&this.removeListener(n,e.listener),e.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(n,e.listener);return this},u.trigger=o("emitEvent"),u.emit=function(n){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(n,t)},u.setOnceReturnValue=function(n){return this._onceReturnValue=n,this},u._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},u._getEvents=function(){return this._events||(this._events={})},r.noConflict=function(){return t.EventEmitter=a,r},n.exports?n.exports=r:t.EventEmitter=r}(Za||{})}),Cd=function(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&!1!==t(n[r],r,n););return n},jd=function(n,t){return n&&Bc(t,Pf(t),n)},Pd=function(n){var t=[];if(null!=n)for(var r in Object(n))t.push(r);return t},Ad=Object.prototype.hasOwnProperty,Rd=function(n){if(!pc(n))return Pd(n);var t=uf(n),r=[];for(var e in n)("constructor"!=e||!t&&Ad.call(n,e))&&r.push(e);return r},Nd=function(n){return Xc(n)?Sf(n,!0):Rd(n)},Ld=function(n,t){return n&&Bc(t,Nd(t),n)},Od=n(function(n,t){var r=t&&!t.nodeType&&t,e=r&&!0&&n&&!n.nodeType&&n,o=e&&e.exports===r?Ya.Buffer:void 0,i=o?o.allocUnsafe:void 0;n.exports=function(n,t){if(t)return n.slice();var r=n.length,e=i?i(r):new n.constructor(r);return n.copy(e),e}}),kd=function(n,t){var r=-1,e=n.length;for(t||(t=Array(e));++r<e;)t[r]=n[r];return t},zd=function(n,t){return Bc(n,_l(n),t)},qd=_f(Object.getPrototypeOf,Object),Bd=Object.getOwnPropertySymbols?function(n){for(var t=[];n;)wl(t,_l(n)),n=qd(n);return t}:xl,Id=function(n,t){return Bc(n,Bd(n),t)},Fd=function(n){return El(n,Nd,Bd)},Dd=Object.prototype.hasOwnProperty,Gd=function(n){var t=n.length,r=n.constructor(t);return t&&"string"==typeof n[0]&&Dd.call(n,"index")&&(r.index=n.index,r.input=n.input),r},Ud=function(n){var t=new n.constructor(n.byteLength);return new nl(t).set(new nl(n)),t},Vd=function(n,t){var r=t?Ud(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.byteLength)},$d=function(n,t){return n.set(t[0],t[1]),n},Hd=function(n,t,r,e){var o=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++o]);++o<i;)r=t(r,n[o],o,n);return r},Wd=1,Qd=function(n,t,r){var e=t?r(tl(n),Wd):tl(n);return Hd(e,$d,new n.constructor)},Jd=/\w*$/,Zd=function(n){var t=new n.constructor(n.source,Jd.exec(n));return t.lastIndex=n.lastIndex,t},Kd=function(n,t){return n.add(t),n},Xd=1,Yd=function(n,t,r){var e=t?r(rl(n),Xd):rl(n);return Hd(e,Kd,new n.constructor)},ny=nc?nc.prototype:void 0,ty=ny?ny.valueOf:void 0,ry=function(n){return ty?Object(ty.call(n)):{}},ey=function(n,t){var r=t?Ud(n.buffer):n.buffer;return new n.constructor(r,n.byteOffset,n.length)},oy="[object Boolean]",iy="[object Date]",uy="[object Map]",ay="[object Number]",cy="[object RegExp]",fy="[object Set]",ly="[object String]",sy="[object Symbol]",py="[object ArrayBuffer]",hy="[object DataView]",vy="[object Float32Array]",gy="[object Float64Array]",dy="[object Int8Array]",yy="[object Int16Array]",my="[object Int32Array]",wy="[object Uint8Array]",Ey="[object Uint8ClampedArray]",by="[object Uint16Array]",xy="[object Uint32Array]",My=function(n,t,r,e){var o=n.constructor;switch(t){case py:return Ud(n);case oy:case iy:return new o(+n);case hy:return Vd(n,e);case vy:case gy:case dy:case yy:case my:case wy:case Ey:case by:case xy:return ey(n,e);case uy:return Qd(n,e,r);case ay:case ly:return new o(n);case cy:return Zd(n);case fy:return Yd(n,e,r);case sy:return ry(n)}},Sy=Object.create,_y=function(){function n(){}return function(t){if(!pc(t))return{};if(Sy)return Sy(t);n.prototype=t;var r=new n;return n.prototype=void 0,r}}(),Ty=function(n){return"function"!=typeof n.constructor||uf(n)?{}:_y(qd(n))},Cy=1,jy=2,Py=4,Ay="[object Arguments]",Ry="[object Function]",Ny="[object GeneratorFunction]",Ly="[object Object]",Oy={};Oy[Ay]=Oy["[object Array]"]=Oy["[object ArrayBuffer]"]=Oy["[object DataView]"]=Oy["[object Boolean]"]=Oy["[object Date]"]=Oy["[object Float32Array]"]=Oy["[object Float64Array]"]=Oy["[object Int8Array]"]=Oy["[object Int16Array]"]=Oy["[object Int32Array]"]=Oy["[object Map]"]=Oy["[object Number]"]=Oy[Ly]=Oy["[object RegExp]"]=Oy["[object Set]"]=Oy["[object String]"]=Oy["[object Symbol]"]=Oy["[object Uint8Array]"]=Oy["[object Uint8ClampedArray]"]=Oy["[object Uint16Array]"]=Oy["[object Uint32Array]"]=!0,Oy["[object Error]"]=Oy[Ry]=Oy["[object WeakMap]"]=!1;var ky=Be,zy=4,qy=function(n){return ky(n,zy)},By=1,Iy=4,Fy=function(n){return ky(n,By|Iy)},Dy=function(n){return"function"==typeof n?n:Ic},Gy=function(n,t){return(gf(n)?Cd:ks)(n,Dy(t))},Uy=function(n,t){var r=[];return ks(n,function(n,e,o){t(n,e,o)&&r.push(n)}),r},Vy=function(n,t){return(gf(n)?bl:Uy)(n,Ls(t,3))},$y=function(n){return function(t,r,e){var o=Object(t);if(!Xc(t)){var i=Ls(r,3);t=Pf(t),r=function(n){return i(o[n],n,o)}}var u=n(t,r,e);return u>-1?o[i?t[u]:u]:void 0}},Hy=function(n,t,r,e){for(var o=n.length,i=r+(e?1:-1);e?i--:++i<o;)if(t(n[i],i,n))return i;return-1},Wy=NaN,Qy=/^\s+|\s+$/g,Jy=/^[-+]0x[0-9a-f]+$/i,Zy=/^0b[01]+$/i,Ky=/^0o[0-7]+$/i,Xy=parseInt,Yy=function(n){if("number"==typeof n)return n;if(rs(n))return Wy;if(pc(n)){var t="function"==typeof n.valueOf?n.valueOf():n;n=pc(t)?t+"":t}if("string"!=typeof n)return 0===n?n:+n;n=n.replace(Qy,"");var r=Zy.test(n);return r||Ky.test(n)?Xy(n.slice(2),r?2:8):Jy.test(n)?Wy:+n},nm=1/0,tm=1.7976931348623157e308,rm=function(n){return n?(n=Yy(n))===nm||n===-nm?(n<0?-1:1)*tm:n===n?n:0:0===n?n:0},em=function(n){var t=rm(n),r=t%1;return t===t?r?t-r:t:0},om=Math.max,im=$y(function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var o=null==r?0:em(r);return o<0&&(o=om(e+o,0)),Hy(n,Ls(t,3),o)}),um=function(n,t){return null==n?n:Os(n,Dy(t),Nd)},am=function(n){return n!==n},cm=function(n,t,r){for(var e=r-1,o=n.length;++e<o;)if(n[e]===t)return e;return-1},fm=function(n,t,r){return t===t?cm(n,t,r):Hy(n,am,r)},lm=Math.max,sm=function(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var o=null==r?0:em(r);return o<0&&(o=lm(e+o,0)),fm(n,t,o)},pm=function(n,t){return n===t||Zl(n,t,Xl(t))},hm="[object String]",vm=function(n){return"string"==typeof n||!gf(n)&&cf(n)&&sc(n)==hm},gm=function(n,t){var r=-1,e=Xc(n)?Array(n.length):[];return ks(n,function(n,o,i){e[++r]=t(n,o,i)}),e},dm=function(n,t){return(gf(n)?hs:gm)(n,Ls(t,3))},ym=function(n,t,r,e){if(!pc(n))return n;for(var o=-1,i=(t=ws(t,n)).length,u=i-1,a=n;null!=a&&++o<i;){var c=bs(t[o]),f=r;if(o!=u){var l=a[c];void 0===(f=e?e(l,c,a):void 0)&&(f=pc(l)?l:tf(t[o+1])?[]:{})}qc(a,c,f),a=a[c]}return n},mm=function(n,t,r){for(var e=-1,o=t.length,i={};++e<o;){var u=t[e],a=xs(n,u);r(a,u)&&ym(i,ws(u,n),a)}return i},wm=function(n,t){return mm(n,t,function(t,r){return Ts(n,r)})},Em=nc?nc.isConcatSpreadable:void 0,bm=function(n){return gf(n)||vf(n)||!!(Em&&n&&n[Em])},xm=Ie,Mm=function(n){return(null==n?0:n.length)?xm(n,1):[]},Sm=function(n){return Qc(Gc(n,void 0,Mm),n+"")}(function(n,t){return null==n?{}:wm(n,t)}),_m=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},Tm=function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)},Cm=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?n:t},jm=function(n){function t(r){_m(this,t);var e=Cm(this,n.call(this)),o=e;if(!r||!r.isDataSet)throw new TypeError("Not a valid DataSet instance");return Rf(o,{DataSet:r.DataSet,dataSet:r,dataType:"table",isDataView:!0,origin:[],rows:[],transforms:[]}),r.on("statechange",function(){o._reExecute()}),e}return Tm(t,n),t.prototype._parseStateExpression=function(n){var t=this.dataSet,r=/^\$state\.(\w+)/.exec(n);return r?t.state[r[1]]:n},t.prototype._preparseOptions=function(n){var t=this,r=qy(n);return um(r,function(n,e){vm(n)&&/^\$state\./.test(n)&&(r[e]=t._parseStateExpression(n))}),r},t.prototype.source=function(n,r){var e=this;if(e._source={source:n,options:r},r)r=e._preparseOptions(r),e.origin=e.DataSet.getConnector(r.type)(n,r,e);else if(n instanceof t||vm(n))e.origin=e.DataSet.getConnector("default")(n,e.dataSet);else{if(!gf(n))throw new TypeError("Invalid source");e.origin=n}return e.rows&&e.rows.length===e.origin.length||(e.rows=Fy(e.origin)),e},t.prototype.transform=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;return t.transforms.push(n),t._executeTransform(n),t},t.prototype._executeTransform=function(n){var t=this;n=t._preparseOptions(n),t.DataSet.getTransform(n.type)(t,n)},t.prototype._reExecuteTransforms=function(){var n=this;Gy(n.transforms,function(t){n._executeTransform(t)})},t.prototype.addRow=function(n){this.rows.push(n)},t.prototype.removeRow=function(n){this.rows.splice(n,1)},t.prototype.updateRow=function(n,t){Rf(this.rows[n],t)},t.prototype.findRows=function(n){return Vy(this.rows,function(t){return pm(t,n)})},t.prototype.findRow=function(n){return im(this.rows,n)},t.prototype.getColumnNames=function(){var n=this.rows[0];return n?Pf(n):[]},t.prototype.getColumnName=function(n){return this.getColumnNames()[n]},t.prototype.getColumnIndex=function(n){var t=this.getColumnNames();return sm(t,n)},t.prototype.getColumn=function(n){return dm(this.rows,function(t){return t[n]})},t.prototype.getColumnData=function(n){return this.getColumn(n)},t.prototype.getSubset=function(n,t,r){for(var e=[],o=n;o<=t;o++)e.push(Sm(this.rows[o],r));return e},t.prototype.toString=function(n){var t=this;return n?JSON.stringify(t.rows,null,2):JSON.stringify(t.rows)},t.prototype._reExecute=function(){var n=this,t=n._source,r=t.source,e=t.options;n.source(r,e),n._reExecuteTransforms(),n.trigger("change")},t}(Td),Pm=function(){return new Fe};Fe.prototype={constructor:Fe,reset:function(){this.s=this.t=0},add:function(n){De(aw,n,this.t),De(this,aw.s,this.s),this.s?this.t+=aw.t:this.s=aw.t},valueOf:function(){return this.s}};var Am,Rm,Nm,Lm,Om,km,zm,qm,Bm,Im,Fm,Dm,Gm,Um,Vm,$m,Hm,Wm,Qm,Jm,Zm,Km,Xm,Ym,nw,tw,rw,ew,ow,iw,uw,aw=new Fe,cw=1e-6,fw=Math.PI,lw=fw/2,sw=fw/4,pw=2*fw,hw=180/fw,vw=fw/180,gw=Math.abs,dw=Math.atan,yw=Math.atan2,mw=Math.cos,ww=Math.ceil,Ew=Math.exp,bw=Math.log,xw=Math.pow,Mw=Math.sin,Sw=Math.sign||function(n){return n>0?1:n<0?-1:0},_w=Math.sqrt,Tw=Math.tan,Cw={Feature:function(n,t){He(n.geometry,t)},FeatureCollection:function(n,t){for(var r=n.features,e=-1,o=r.length;++e<o;)He(r[e].geometry,t)}},jw={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){We(n.coordinates,t,0)},MultiLineString:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)We(r[e],t,0)},Polygon:function(n,t){Qe(n.coordinates,t)},MultiPolygon:function(n,t){for(var r=n.coordinates,e=-1,o=r.length;++e<o;)Qe(r[e],t)},GeometryCollection:function(n,t){for(var r=n.geometries,e=-1,o=r.length;++e<o;)He(r[e],t)}},Pw=function(n,t){n&&Cw.hasOwnProperty(n.type)?Cw[n.type](n,t):He(n,t)},Aw=Pm(),Rw=Pm(),Nw={point:$e,lineStart:$e,lineEnd:$e,polygonStart:function(){Aw.reset(),Nw.lineStart=Je,Nw.lineEnd=Ze},polygonEnd:function(){var n=+Aw;Rw.add(n<0?pw+n:n),this.lineStart=this.lineEnd=this.point=$e},sphere:function(){Rw.add(pw)}},Lw=Pm(),Ow={point:uo,lineStart:co,lineEnd:fo,polygonStart:function(){Ow.point=lo,Ow.lineStart=so,Ow.lineEnd=po,Lw.reset(),Nw.polygonStart()},polygonEnd:function(){Nw.polygonEnd(),Ow.point=uo,Ow.lineStart=co,Ow.lineEnd=fo,Aw<0?(km=-(qm=180),zm=-(Bm=90)):Lw>cw?Bm=90:Lw<-cw&&(zm=-90),Vm[0]=km,Vm[1]=qm}},kw={sphere:$e,point:yo,lineStart:wo,lineEnd:xo,polygonStart:function(){kw.lineStart=Mo,kw.lineEnd=So},polygonEnd:function(){kw.lineStart=wo,kw.lineEnd=xo}},zw=function(n){return function(){return n}},qw=function(n,t){function r(r,e){return r=n(r,e),t(r[0],r[1])}return n.invert&&t.invert&&(r.invert=function(r,e){return(r=t.invert(r,e))&&n.invert(r[0],r[1])}),r};Co.invert=Co;var Bw,Iw,Fw,Dw,Gw,Uw,Vw,$w,Hw,Ww,Qw,Jw=function(){var n,t=[];return{point:function(t,r){n.push([t,r])},lineStart:function(){t.push(n=[])},lineEnd:$e,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var r=t;return t=[],n=null,r}}},Zw=function(n,t,r,e,o,i){var u,a=n[0],c=n[1],f=0,l=1,s=t[0]-a,p=t[1]-c;if(u=r-a,s||!(u>0)){if(u/=s,s<0){if(u<f)return;u<l&&(l=u)}else if(s>0){if(u>l)return;u>f&&(f=u)}if(u=o-a,s||!(u<0)){if(u/=s,s<0){if(u>l)return;u>f&&(f=u)}else if(s>0){if(u<f)return;u<l&&(l=u)}if(u=e-c,p||!(u>0)){if(u/=p,p<0){if(u<f)return;u<l&&(l=u)}else if(p>0){if(u>l)return;u>f&&(f=u)}if(u=i-c,p||!(u<0)){if(u/=p,p<0){if(u>l)return;u>f&&(f=u)}else if(p>0){if(u<f)return;u<l&&(l=u)}return f>0&&(n[0]=a+f*s,n[1]=c+f*p),l<1&&(t[0]=a+l*s,t[1]=c+l*p),!0}}}}},Kw=function(n,t){return gw(n[0]-t[0])<cw&&gw(n[1]-t[1])<cw},Xw=function(n,t,r,e,o){var i,u,a=[],c=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,r,e=n[0],u=n[t];if(Kw(e,u)){for(o.lineStart(),i=0;i<t;++i)o.point((e=n[i])[0],e[1]);o.lineEnd()}else a.push(r=new Oo(e,n,null,!0)),c.push(r.o=new Oo(e,null,r,!1)),a.push(r=new Oo(u,n,null,!1)),c.push(r.o=new Oo(u,null,r,!0))}}),a.length){for(c.sort(t),ko(a),ko(c),i=0,u=c.length;i<u;++i)c[i].e=r=!r;for(var f,l,s=a[0];;){for(var p=s,h=!0;p.v;)if((p=p.n)===s)return;f=p.z,o.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(i=0,u=f.length;i<u;++i)o.point((l=f[i])[0],l[1]);else e(p.x,p.n.x,1,o);p=p.n}else{if(h)for(f=p.p.z,i=f.length-1;i>=0;--i)o.point((l=f[i])[0],l[1]);else e(p.x,p.p.x,-1,o);p=p.p}f=(p=p.o).z,h=!h}while(!p.v);o.lineEnd()}}},Yw=1e9,nE=-Yw,tE=Pm(),rE={sphere:$e,point:$e,lineStart:function(){rE.point=Bo,rE.lineEnd=qo},lineEnd:$e,polygonStart:$e,polygonEnd:$e},eE=function(n){return tE.reset(),Pw(n,rE),+tE},oE=[null,null],iE={type:"LineString",coordinates:oE},uE=function(n){return n},aE=Pm(),cE=Pm(),fE={point:$e,lineStart:$e,lineEnd:$e,polygonStart:function(){fE.lineStart=Go,fE.lineEnd=$o},polygonEnd:function(){fE.lineStart=fE.lineEnd=fE.point=$e,aE.add(gw(cE)),cE.reset()},result:function(){var n=aE/2;return aE.reset(),n}},lE=1/0,sE=lE,pE=-lE,hE=pE,vE={point:function(n,t){n<lE&&(lE=n),n>pE&&(pE=n),t<sE&&(sE=t),t>hE&&(hE=t)},lineStart:$e,lineEnd:$e,polygonStart:$e,polygonEnd:$e,result:function(){var n=[[lE,sE],[pE,hE]];return pE=hE=-(sE=lE=1/0),n}},gE=0,dE=0,yE=0,mE=0,wE=0,EE=0,bE=0,xE=0,ME=0,SE={point:Ho,lineStart:Wo,lineEnd:Zo,polygonStart:function(){SE.lineStart=Ko,SE.lineEnd=Xo},polygonEnd:function(){SE.point=Ho,SE.lineStart=Wo,SE.lineEnd=Zo},result:function(){var n=ME?[bE/ME,xE/ME]:EE?[mE/EE,wE/EE]:yE?[gE/yE,dE/yE]:[NaN,NaN];return gE=dE=yE=mE=wE=EE=bE=xE=ME=0,n}};ti.prototype={_radius:4.5,pointRadius:function(n){return this._radius=n,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._context.moveTo(n,t),this._point=1;break;case 1:this._context.lineTo(n,t);break;default:this._context.moveTo(n+this._radius,t),this._context.arc(n,t,this._radius,0,pw)}},result:$e},ri.prototype={_circle:ei(4.5),pointRadius:function(n){return this._circle=ei(n),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(n,t){switch(this._point){case 0:this._string.push("M",n,",",t),this._point=1;break;case 1:this._string.push("L",n,",",t);break;default:this._string.push("M",n,",",t,this._circle)}},result:function(){if(this._string.length){var n=this._string.join("");return this._string=[],n}}};var _E=Pm(),TE=function(n,t){var r=t[0],e=t[1],o=[Mw(r),-mw(r),0],i=0,u=0;_E.reset();for(var a=0,c=n.length;a<c;++a)if(l=(f=n[a]).length)for(var f,l,s=f[l-1],p=s[0],h=s[1]/2+sw,v=Mw(h),g=mw(h),d=0;d<l;++d,p=m,v=E,g=b,s=y){var y=f[d],m=y[0],w=y[1]/2+sw,E=Mw(w),b=mw(w),x=m-p,M=x>=0?1:-1,S=M*x,_=S>fw,T=v*E;if(_E.add(yw(T*M*Mw(S),g*b+T*mw(S))),i+=_?x+M*pw:x,_^p>=r^m>=r){var C=ro(no(s),no(y));io(C);var j=ro(o,C);io(j);var P=(_^x>=0?-1:1)*Ue(j[2]);(e>P||e===P&&(C[0]||C[1]))&&(u+=_^x>=0?1:-1)}}return(i<-cw||i<cw&&_E<-cw)^1&u},CE=function(n,t,r,e){return function(o,i){function u(t,r){var e=o(t,r);n(t=e[0],r=e[1])&&i.point(t,r)}function a(n,t){var r=o(n,t);d.point(r[0],r[1])}function c(){b.point=a,d.lineStart()}function f(){b.point=u,d.lineEnd()}function l(n,t){g.push([n,t]);var r=o(n,t);w.point(r[0],r[1])}function s(){w.lineStart(),g=[]}function p(){l(g[0][0],g[0][1]),w.lineEnd();var n,t,r,e,o=w.clean(),u=m.result(),a=u.length;if(g.pop(),h.push(g),g=null,a)if(1&o){if(r=u[0],(t=r.length-1)>0){for(E||(i.polygonStart(),E=!0),i.lineStart(),n=0;n<t;++n)i.point((e=r[n])[0],e[1]);i.lineEnd()}}else a>1&&2&o&&u.push(u.pop().concat(u.shift())),v.push(u.filter(oi))}var h,v,g,d=t(i),y=o.invert(e[0],e[1]),m=Jw(),w=t(m),E=!1,b={point:u,lineStart:c,lineEnd:f,polygonStart:function(){b.point=l,b.lineStart=s,b.lineEnd=p,v=[],h=[]},polygonEnd:function(){b.point=u,b.lineStart=c,b.lineEnd=f,v=Nh(v);var n=TE(h,y);v.length?(E||(i.polygonStart(),E=!0),Xw(v,ii,n,r,i)):n&&(E||(i.polygonStart(),E=!0),i.lineStart(),r(null,null,1,i),i.lineEnd()),E&&(i.polygonEnd(),E=!1),v=h=null},sphere:function(){i.polygonStart(),i.lineStart(),r(null,null,1,i),i.lineEnd(),i.polygonEnd()}};return b}},jE=CE(function(){return!0},function(n){var t,r=NaN,e=NaN,o=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(i,u){var a=i>0?fw:-fw,c=gw(i-r);gw(c-fw)<cw?(n.point(r,e=(e+u)/2>0?lw:-lw),n.point(o,e),n.lineEnd(),n.lineStart(),n.point(a,e),n.point(i,e),t=0):o!==a&&c>=fw&&(gw(r-o)<cw&&(r-=o*cw),gw(i-a)<cw&&(i-=a*cw),e=ui(r,e,i,u),n.point(o,e),n.lineEnd(),n.lineStart(),n.point(a,e),t=0),n.point(r=i,e=u),o=a},lineEnd:function(){n.lineEnd(),r=e=NaN},clean:function(){return 2-t}}},function(n,t,r,e){var o;if(null==n)o=r*lw,e.point(-fw,o),e.point(0,o),e.point(fw,o),e.point(fw,0),e.point(fw,-o),e.point(0,-o),e.point(-fw,-o),e.point(-fw,0),e.point(-fw,o);else if(gw(n[0]-t[0])>cw){var i=n[0]<t[0]?fw:-fw;o=r*i/2,e.point(-i,o),e.point(0,o),e.point(i,o)}else e.point(t[0],t[1])},[-fw,-lw]),PE=function(n,t){function r(n,t){return mw(n)*mw(t)>i}function e(n,t,r){var e=[1,0,0],o=ro(no(n),no(t)),u=to(o,o),a=o[0],c=u-a*a;if(!c)return!r&&n;var f=i*u/c,l=-i*a/c,s=ro(e,o),p=oo(e,f);eo(p,oo(o,l));var h=s,v=to(p,h),g=to(h,h),d=v*v-g*(to(p,p)-1);if(!(d<0)){var y=_w(d),m=oo(h,(-v-y)/g);if(eo(m,p),m=Ye(m),!r)return m;var w,E=n[0],b=t[0],x=n[1],M=t[1];b<E&&(w=E,E=b,b=w);var S=b-E,_=gw(S-fw)<cw,T=_||S<cw;if(!_&&M<x&&(w=x,x=M,M=w),T?_?x+M>0^m[1]<(gw(m[0]-E)<cw?x:M):x<=m[1]&&m[1]<=M:S>fw^(E<=m[0]&&m[0]<=b)){var C=oo(h,(-v+y)/g);return eo(C,p),[m,Ye(C)]}}}function o(t,r){var e=u?n:fw-n,o=0;return t<-e?o|=1:t>e&&(o|=2),r<-e?o|=4:r>e&&(o|=8),o}var i=mw(n),u=i>0,a=gw(i)>cw;return CE(r,function(n){var t,i,c,f,l;return{lineStart:function(){f=c=!1,l=1},point:function(s,p){var h,v=[s,p],g=r(s,p),d=u?g?0:o(s,p):g?o(s+(s<0?fw:-fw),p):0;if(!t&&(f=c=g)&&n.lineStart(),g!==c&&(h=e(t,v),(Kw(t,h)||Kw(v,h))&&(v[0]+=cw,v[1]+=cw,g=r(v[0],v[1]))),g!==c)l=0,g?(n.lineStart(),h=e(v,t),n.point(h[0],h[1])):(h=e(t,v),n.point(h[0],h[1]),n.lineEnd()),t=h;else if(a&&t&&u^g){var y;d&i||!(y=e(v,t,!0))||(l=0,u?(n.lineStart(),n.point(y[0][0],y[0][1]),n.point(y[1][0],y[1][1]),n.lineEnd()):(n.point(y[1][0],y[1][1]),n.lineEnd(),n.lineStart(),n.point(y[0][0],y[0][1])))}!g||t&&Kw(t,v)||n.point(v[0],v[1]),t=v,c=g,i=d},lineEnd:function(){c&&n.lineEnd(),t=null},clean:function(){return l|(f&&c)<<1}}},function(r,e,o,i){No(i,n,t,o,r,e)},u?[0,-n]:[-fw,n-fw])};ci.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var AE=16,RE=mw(30*vw),NE=function(n,t){return+t?hi(n,t):pi(n)},LE=ai({point:function(n,t){this.stream.point(n*vw,t*vw)}}),OE=function(){return di(yi).scale(155.424).center([0,33.6442])},kE=function(){return OE().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])},zE=wi(function(n){return _w(2/(1+n))});zE.invert=Ei(function(n){return 2*Ue(n/2)});var qE=wi(function(n){return(n=Ge(n))&&n/Mw(n)});qE.invert=Ei(function(n){return n});bi.invert=function(n,t){return[n,2*dw(Ew(t))-lw]};_i.invert=_i;Ci.invert=Ei(dw);ji.invert=Ei(Ue);Pi.invert=Ei(function(n){return 2*dw(n)});Ai.invert=function(n,t){return[-t,2*dw(Ew(n))-lw]};var BE=Object.freeze({geoArea:function(n){return Rw.reset(),Pw(n,Nw),2*Rw},geoBounds:function(n){var t,r,e,o,i,u,a;if(Bm=qm=-(km=zm=1/0),Um=[],Pw(n,Ow),r=Um.length){for(Um.sort(vo),t=1,i=[e=Um[0]];t<r;++t)go(e,(o=Um[t])[0])||go(e,o[1])?(ho(e[0],o[1])>ho(e[0],e[1])&&(e[1]=o[1]),ho(o[0],e[1])>ho(e[0],e[1])&&(e[0]=o[0])):i.push(e=o);for(u=-1/0,t=0,e=i[r=i.length-1];t<=r;e=o,++t)o=i[t],(a=ho(e[1],o[0]))>u&&(u=a,km=o[0],qm=e[1])}return Um=Vm=null,km===1/0||zm===1/0?[[NaN,NaN],[NaN,NaN]]:[[km,zm],[qm,Bm]]},geoCentroid:function(n){$m=Hm=Wm=Qm=Jm=Zm=Km=Xm=Ym=nw=tw=0,Pw(n,kw);var t=Ym,r=nw,e=tw,o=t*t+r*r+e*e;return o<1e-12&&(t=Zm,r=Km,e=Xm,Hm<cw&&(t=Wm,r=Qm,e=Jm),(o=t*t+r*r+e*e)<1e-12)?[NaN,NaN]:[yw(r,t)*hw,Ue(e/_w(o))*hw]},geoCircle:function(){function n(){var n=e.apply(this,arguments),a=o.apply(this,arguments)*vw,c=i.apply(this,arguments)*vw;return t=[],r=jo(-n[0]*vw,-n[1]*vw,0).invert,No(u,a,c,1),n={type:"Polygon",coordinates:[t]},t=r=null,n}var t,r,e=zw([0,0]),o=zw(90),i=zw(6),u={point:function(n,e){t.push(n=r(n,e)),n[0]*=hw,n[1]*=hw}};return n.center=function(t){return arguments.length?(e="function"==typeof t?t:zw([+t[0],+t[1]]),n):e},n.radius=function(t){return arguments.length?(o="function"==typeof t?t:zw(+t),n):o},n.precision=function(t){return arguments.length?(i="function"==typeof t?t:zw(+t),n):i},n},geoClipExtent:function(){var n,t,r,e=0,o=0,i=960,u=500;return r={stream:function(r){return n&&t===r?n:n=zo(e,o,i,u)(t=r)},extent:function(a){return arguments.length?(e=+a[0][0],o=+a[0][1],i=+a[1][0],u=+a[1][1],n=t=null,r):[[e,o],[i,u]]}}},geoDistance:function(n,t){return oE[0]=n,oE[1]=t,eE(iE)},geoGraticule:function(){function n(){return{type:"MultiLineString",coordinates:t()}}function t(){return Th(ww(i/d)*d,o,d).map(p).concat(Th(ww(f/y)*y,c,y).map(h)).concat(Th(ww(e/v)*v,r,v).filter(function(n){return gw(n%d)>cw}).map(l)).concat(Th(ww(a/g)*g,u,g).filter(function(n){return gw(n%y)>cw}).map(s))}var r,e,o,i,u,a,c,f,l,s,p,h,v=10,g=v,d=90,y=360,m=2.5;return n.lines=function(){return t().map(function(n){return{type:"LineString",coordinates:n}})},n.outline=function(){return{type:"Polygon",coordinates:[p(i).concat(h(c).slice(1),p(o).reverse().slice(1),h(f).reverse().slice(1))]}},n.extent=function(t){return arguments.length?n.extentMajor(t).extentMinor(t):n.extentMinor()},n.extentMajor=function(t){return arguments.length?(i=+t[0][0],o=+t[1][0],f=+t[0][1],c=+t[1][1],i>o&&(t=i,i=o,o=t),f>c&&(t=f,f=c,c=t),n.precision(m)):[[i,f],[o,c]]},n.extentMinor=function(t){return arguments.length?(e=+t[0][0],r=+t[1][0],a=+t[0][1],u=+t[1][1],e>r&&(t=e,e=r,r=t),a>u&&(t=a,a=u,u=t),n.precision(m)):[[e,a],[r,u]]},n.step=function(t){return arguments.length?n.stepMajor(t).stepMinor(t):n.stepMinor()},n.stepMajor=function(t){return arguments.length?(d=+t[0],y=+t[1],n):[d,y]},n.stepMinor=function(t){return arguments.length?(v=+t[0],g=+t[1],n):[v,g]},n.precision=function(t){return arguments.length?(m=+t,l=Fo(a,u,90),s=Do(e,r,m),p=Fo(f,c,90),h=Do(i,o,m),n):m},n.extentMajor([[-180,-90+cw],[180,90-cw]]).extentMinor([[-180,-80-cw],[180,80+cw]])},geoInterpolate:function(n,t){var r=n[0]*vw,e=n[1]*vw,o=t[0]*vw,i=t[1]*vw,u=mw(e),a=Mw(e),c=mw(i),f=Mw(i),l=u*mw(r),s=u*Mw(r),p=c*mw(o),h=c*Mw(o),v=2*Ue(_w(Ve(i-e)+u*c*Ve(o-r))),g=Mw(v),d=v?function(n){var t=Mw(n*=v)/g,r=Mw(v-n)/g,e=r*l+t*p,o=r*s+t*h,i=r*a+t*f;return[yw(o,e)*hw,yw(i,_w(e*e+o*o))*hw]}:function(){return[r*hw,e*hw]};return d.distance=v,d},geoLength:eE,geoPath:function(){function n(n){return n&&("function"==typeof i&&o.pointRadius(+i.apply(this,arguments)),Pw(n,r(o))),o.result()}var t,r,e,o,i=4.5;return n.area=function(n){return Pw(n,r(fE)),fE.result()},n.bounds=function(n){return Pw(n,r(vE)),vE.result()},n.centroid=function(n){return Pw(n,r(SE)),SE.result()},n.projection=function(e){return arguments.length?(r=null==(t=e)?uE:e.stream,n):t},n.context=function(t){return arguments.length?(o=null==(e=t)?new ri:new ti(t),"function"!=typeof i&&o.pointRadius(i),n):e},n.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(o.pointRadius(+t),+t),n):i},n.projection(null).context(null)},geoAlbers:kE,geoAlbersUsa:function(){function n(n){var t=n[0],r=n[1];return u=null,e.point(t,r),u||(o.point(t,r),u)||(i.point(t,r),u)}var t,r,e,o,i,u,a=kE(),c=OE().rotate([154,0]).center([-2,58.5]).parallels([55,65]),f=OE().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,t){u=[n,t]}};return n.invert=function(n){var t=a.scale(),r=a.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.12&&o<.234&&e>=-.425&&e<-.214?c:o>=.166&&o<.234&&e>=-.214&&e<-.115?f:a).invert(n)},n.stream=function(n){return t&&r===n?t:t=mi([a.stream(r=n),c.stream(n),f.stream(n)])},n.precision=function(t){return arguments.length?(a.precision(t),c.precision(t),f.precision(t),n):a.precision()},n.scale=function(t){return arguments.length?(a.scale(t),c.scale(.35*t),f.scale(t),n.translate(a.translate())):a.scale()},n.translate=function(t){if(!arguments.length)return a.translate();var r=a.scale(),u=+t[0],s=+t[1];return e=a.translate(t).clipExtent([[u-.455*r,s-.238*r],[u+.455*r,s+.238*r]]).stream(l),o=c.translate([u-.307*r,s+.201*r]).clipExtent([[u-.425*r+cw,s+.12*r+cw],[u-.214*r-cw,s+.234*r-cw]]).stream(l),i=f.translate([u-.205*r,s+.212*r]).clipExtent([[u-.214*r+cw,s+.166*r+cw],[u-.115*r-cw,s+.234*r-cw]]).stream(l),n},n.fitExtent=si(n),n.fitSize=li(n),n.scale(1070)},geoAzimuthalEqualArea:function(){return vi(zE).scale(124.75).clipAngle(179.999)},geoAzimuthalEqualAreaRaw:zE,geoAzimuthalEquidistant:function(){return vi(qE).scale(79.4188).clipAngle(179.999)},geoAzimuthalEquidistantRaw:qE,geoConicConformal:function(){return di(Si).scale(109.5).parallels([30,30])},geoConicConformalRaw:Si,geoConicEqualArea:OE,geoConicEqualAreaRaw:yi,geoConicEquidistant:function(){return di(Ti).scale(131.154).center([0,13.9389])},geoConicEquidistantRaw:Ti,geoEquirectangular:function(){return vi(_i).scale(152.63)},geoEquirectangularRaw:_i,geoGnomonic:function(){return vi(Ci).scale(144.049).clipAngle(60)},geoGnomonicRaw:Ci,geoProjection:vi,geoProjectionMutator:gi,geoMercator:function(){return xi(bi).scale(961/pw)},geoMercatorRaw:bi,geoOrthographic:function(){return vi(ji).scale(249.5).clipAngle(90+cw)},geoOrthographicRaw:ji,geoStereographic:function(){return vi(Pi).scale(250).clipAngle(142)},geoStereographicRaw:Pi,geoTransverseMercator:function(){var n=xi(Ai),t=n.center,r=n.rotate;return n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)},geoTransverseMercatorRaw:Ai,geoRotation:function(n){function t(t){return t=n(t[0]*vw,t[1]*vw),t[0]*=hw,t[1]*=hw,t}return n=jo(n[0]*vw,n[1]*vw,n.length>2?n[2]*vw:0),t.invert=function(t){return t=n.invert(t[0]*vw,t[1]*vw),t[0]*=hw,t[1]*=hw,t},t},geoStream:Pw,geoTransform:function(n){return{stream:ai(n)}}}),IE=Math.PI,FE=2*IE,DE=FE-1e-6;Ri.prototype=Ni.prototype={constructor:Ri,moveTo:function(n,t){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(n,t){this._+="L"+(this._x1=+n)+","+(this._y1=+t)},quadraticCurveTo:function(n,t,r,e){this._+="Q"+ +n+","+ +t+","+(this._x1=+r)+","+(this._y1=+e)},bezierCurveTo:function(n,t,r,e,o,i){this._+="C"+ +n+","+ +t+","+ +r+","+ +e+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(n,t,r,e,o){n=+n,t=+t,r=+r,e=+e,o=+o;var i=this._x1,u=this._y1,a=r-n,c=e-t,f=i-n,l=u-t,s=f*f+l*l;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=n)+","+(this._y1=t);else if(s>1e-6)if(Math.abs(l*a-c*f)>1e-6&&o){var p=r-i,h=e-u,v=a*a+c*c,g=p*p+h*h,d=Math.sqrt(v),y=Math.sqrt(s),m=o*Math.tan((IE-Math.acos((v+s-g)/(2*d*y)))/2),w=m/y,E=m/d;Math.abs(w-1)>1e-6&&(this._+="L"+(n+w*f)+","+(t+w*l)),this._+="A"+o+","+o+",0,0,"+ +(l*p>f*h)+","+(this._x1=n+E*a)+","+(this._y1=t+E*c)}else this._+="L"+(this._x1=n)+","+(this._y1=t);else;},arc:function(n,t,r,e,o,i){n=+n,t=+t;var u=(r=+r)*Math.cos(e),a=r*Math.sin(e),c=n+u,f=t+a,l=1^i,s=i?e-o:o-e;if(r<0)throw new Error("negative radius: "+r);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+c+","+f),r&&(s<0&&(s=s%FE+FE),s>DE?this._+="A"+r+","+r+",0,1,"+l+","+(n-u)+","+(t-a)+"A"+r+","+r+",0,1,"+l+","+(this._x1=c)+","+(this._y1=f):s>1e-6&&(this._+="A"+r+","+r+",0,"+ +(s>=IE)+","+l+","+(this._x1=n+r*Math.cos(o))+","+(this._y1=t+r*Math.sin(o))))},rect:function(n,t,r,e){this._+="M"+(this._x0=this._x1=+n)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +e+"h"+-r+"Z"},toString:function(){return this._}};var GE=Object.freeze({path:Ni}),UE=BE&&void 0||BE,VE=GE&&void 0||GE,$E=n(function(n,t){!function(n,r){r(t,UE,VE)}(0,function(n,t,r){function e(){}function o(n,r,e){var o=r[1][0]-r[0][0],i=r[1][1]-r[0][1],u=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]),null!=u&&n.clipExtent(null),t.geoStream(e,n.stream(x));var a=x.result(),c=Math.min(o/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),f=+r[0][0]+(o-c*(a[1][0]+a[0][0]))/2,l=+r[0][1]+(i-c*(a[1][1]+a[0][1]))/2;return null!=u&&n.clipExtent(u),n.scale(150*c).translate([f,l])}function i(n,t,r){return o(n,[[0,0],t],r)}function u(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function a(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function c(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function f(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function l(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function s(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function p(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function h(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function v(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function g(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}function d(n){var t=n.length;return{point:function(r,e){for(var o=-1;++o<t;)n[o].point(r,e)},sphere:function(){for(var r=-1;++r<t;)n[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)n[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)n[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)n[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)n[r].polygonEnd()}}}var y=1e-6,m=1/0,w=m,E=-m,b=E,x={point:function(n,t){n<m&&(m=n),n>E&&(E=n),t<w&&(w=t),t>b&&(b=t)},lineStart:e,lineEnd:e,polygonStart:e,polygonEnd:e,result:function(){var n=[[m,w],[E,b]];return E=b=-(w=m=1/0),n}};n.geoAlbersUsa=function(){function n(n){var t=n[0],r=n[1];return p=null,f.point(t,r),p||(l.point(t,r),p)||(s.point(t,r),p)}function e(){return a=c=null,n}var a,c,f,l,s,p,h=t.geoAlbers(),v=t.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),g=t.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),d={point:function(n,t){p=[n,t]}};return n.invert=function(n){var t=h.scale(),r=h.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.12&&o<.234&&e>=-.425&&e<-.214?v:o>=.166&&o<.234&&e>=-.214&&e<-.115?g:h).invert(n)},n.stream=function(n){return a&&c===n?a:a=u([h.stream(c=n),v.stream(n),g.stream(n)])},n.precision=function(n){return arguments.length?(h.precision(n),v.precision(n),g.precision(n),e()):h.precision()},n.scale=function(t){return arguments.length?(h.scale(t),v.scale(.35*t),g.scale(t),n.translate(h.translate())):h.scale()},n.translate=function(n){if(!arguments.length)return h.translate();var t=h.scale(),r=+n[0],o=+n[1];return f=h.translate(n).clipExtent([[r-.455*t,o-.238*t],[r+.455*t,o+.238*t]]).stream(d),l=v.translate([r-.307*t,o+.201*t]).clipExtent([[r-.425*t+y,o+.12*t+y],[r-.214*t-y,o+.234*t-y]]).stream(d),s=g.translate([r-.205*t,o+.212*t]).clipExtent([[r-.214*t+y,o+.166*t+y],[r-.115*t-y,o+.234*t-y]]).stream(d),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=h([-102.91,26.3]),r=h([-104,27.5]),e=h([-108,29.1]),o=h([-110,29.1]),i=h([-110,26.7]),u=h([-112.8,27.6]),a=h([-114.3,30.6]),c=h([-119.3,30.1]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(a[0],a[1]),n.lineTo(c[0],c[1])},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(1070)},n.geoAlbersUsaTerritories=function(){function n(n){var t=n[0],r=n[1];return g=null,f.point(t,r),g||(l.point(t,r),g)||(s.point(t,r),g)||(p.point(t,r),g)||(h.point(t,r),g)||(v.point(t,r),g)}function e(){return u=c=null,n}var u,c,f,l,s,p,h,v,g,d=t.geoAlbers(),m=t.geoConicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),w=t.geoConicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),E=t.geoConicEqualArea().rotate([66,0]).center([0,18]).parallels([8,18]),b=t.geoEquirectangular().rotate([173,14]),x=t.geoEquirectangular().rotate([-145,-16.8]),M={point:function(n,t){g=[n,t]}};return n.invert=function(n){var t=d.scale(),r=d.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.12&&o<.234&&e>=-.425&&e<-.214?m:o>=.166&&o<.234&&e>=-.214&&e<-.115?w:o>=.2064&&o<.2413&&e>=.312&&e<.385?E:o>=.09&&o<.1197&&e>=-.4243&&e<-.3232?b:o>=-.0518&&o<.0895&&e>=-.4243&&e<-.3824?x:d).invert(n)},n.stream=function(n){return u&&c===n?u:u=a([d.stream(c=n),m.stream(n),w.stream(n),E.stream(n),b.stream(n),x.stream(n)])},n.precision=function(n){return arguments.length?(d.precision(n),m.precision(n),w.precision(n),E.precision(n),b.precision(n),x.precision(n),e()):d.precision()},n.scale=function(t){return arguments.length?(d.scale(t),m.scale(.35*t),w.scale(t),E.scale(t),b.scale(2*t),x.scale(t),n.translate(d.translate())):d.scale()},n.translate=function(n){if(!arguments.length)return d.translate();var t=d.scale(),r=+n[0],o=+n[1];return f=d.translate(n).clipExtent([[r-.455*t,o-.238*t],[r+.455*t,o+.238*t]]).stream(M),l=m.translate([r-.307*t,o+.201*t]).clipExtent([[r-.425*t+y,o+.12*t+y],[r-.214*t-y,o+.233*t-y]]).stream(M),s=w.translate([r-.205*t,o+.212*t]).clipExtent([[r-.214*t+y,o+.166*t+y],[r-.115*t-y,o+.233*t-y]]).stream(M),p=E.translate([r+.35*t,o+.224*t]).clipExtent([[r+.312*t+y,o+.2064*t+y],[r+.385*t-y,o+.233*t-y]]).stream(M),h=b.translate([r-.492*t,o+.09*t]).clipExtent([[r-.4243*t+y,o+.0903*t+y],[r-.3233*t-y,o+.1197*t-y]]).stream(M),v=x.translate([r-.408*t,o+.018*t]).clipExtent([[r-.4244*t+y,o-.0519*t+y],[r-.3824*t-y,o+.0895*t-y]]).stream(M),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=d([-110.4641,28.2805]),r=d([-104.0597,28.9528]),e=d([-103.7049,25.1031]),o=d([-109.8337,24.4531]),i=d([-124.4745,28.1407]),u=d([-110.931,30.8844]),a=d([-109.8337,24.4531]),c=d([-122.4628,21.8562]),f=d([-76.8579,25.1544]),l=d([-72.429,24.2097]),s=d([-72.8265,22.7056]),p=d([-77.1852,23.6392]),h=d([-125.0093,29.7791]),v=d([-118.5193,31.3262]),g=d([-118.064,29.6912]),y=d([-124.4369,28.169]),m=d([-128.1314,37.4582]),w=d([-125.2132,38.214]),E=d([-122.3616,30.5115]),b=d([-125.0315,29.8211]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(a[0],a[1]),n.lineTo(a[0],a[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(f[0],f[1]),n.lineTo(l[0],l[1]),n.lineTo(s[0],s[1]),n.lineTo(s[0],s[1]),n.lineTo(p[0],p[1]),n.closePath(),n.moveTo(h[0],h[1]),n.lineTo(v[0],v[1]),n.lineTo(g[0],g[1]),n.lineTo(g[0],g[1]),n.lineTo(y[0],y[1]),n.closePath(),n.moveTo(m[0],m[1]),n.lineTo(w[0],w[1]),n.lineTo(E[0],E[1]),n.lineTo(E[0],E[1]),n.lineTo(b[0],b[1]),n.closePath()},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(1070)},n.geoConicConformalSpain=function(){function n(n){var t=n[0],r=n[1];return s=null,f.point(t,r),s||(l.point(t,r),s)}function e(){return u=a=null,n}var u,a,f,l,s,p=t.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),h=t.geoConicConformal().rotate([5,-38.6]).parallels([0,60]),v={point:function(n,t){s=[n,t]}};return n.invert=function(n){var t=p.scale(),r=p.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.05346&&o<.0897&&e>=-.13388&&e<-.0322?h:p).invert(n)},n.stream=function(n){return u&&a===n?u:u=c([p.stream(a=n),h.stream(n)])},n.precision=function(n){return arguments.length?(p.precision(n),h.precision(n),e()):p.precision()},n.scale=function(t){return arguments.length?(p.scale(t),h.scale(t),n.translate(p.translate())):p.scale()},n.translate=function(n){if(!arguments.length)return p.translate();var t=p.scale(),r=+n[0],o=+n[1];return f=p.translate(n).clipExtent([[r-.06857*t,o-.1288*t],[r+.13249*t,o+.06*t]]).stream(v),l=h.translate([r+.1*t,o-.094*t]).clipExtent([[r-.1331*t+y,o+.053457*t+y],[r-.0354*t-y,o+.08969*t-y]]).stream(v),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=p([-14.034675,34.965007]),r=p([-7.4208899,35.536988]),e=p([-7.3148275,33.54359]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1])},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(2700)},n.geoConicConformalPortugal=function(){function n(n){var t=n[0],r=n[1];return p=null,c.point(t,r),p||(l.point(t,r),p)||(s.point(t,r),p)}function e(){return u=a=null,n}var u,a,c,l,s,p,h=t.geoConicConformal().rotate([10,-39.3]).parallels([0,60]),v=t.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),g=t.geoConicConformal().rotate([27.8,-38.6]).parallels([0,60]),d={point:function(n,t){p=[n,t]}};return n.invert=function(n){var t=h.scale(),r=h.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.0093&&o<.03678&&e>=-.03875&&e<-.0116?v:o>=-.0412&&o<.0091&&e>=-.07782&&e<-.01166?g:h).invert(n)},n.stream=function(n){return u&&a===n?u:u=f([h.stream(a=n),v.stream(n),g.stream(n)])},n.precision=function(n){return arguments.length?(h.precision(n),v.precision(n),g.precision(n),e()):h.precision()},n.scale=function(t){return arguments.length?(h.scale(t),v.scale(t),g.scale(.6*t),n.translate(h.translate())):h.scale()},n.translate=function(n){if(!arguments.length)return h.translate();var t=h.scale(),r=+n[0],o=+n[1];return c=h.translate(n).clipExtent([[r-.0115*t,o-.1138*t],[r+.2105*t,o+.0673*t]]).stream(d),l=v.translate([r-.0265*t,o+.025*t]).clipExtent([[r-.0388*t+y,o+.0093*t+y],[r-.0116*t-y,o+.0368*t-y]]).stream(d),s=g.translate([r-.045*t,o+-.02*t]).clipExtent([[r-.0778*t+y,o-.0413*t+y],[r-.0117*t-y,o+.0091*t-y]]).stream(d),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=h([-12.8351,38.7113]),r=h([-10.8482,38.7633]),e=h([-10.8181,37.2072]),o=h([-12.7345,37.1573]),i=h([-16.0753,41.4436]),u=h([-10.9168,41.6861]),a=h([-10.8557,38.7747]),c=h([-15.6728,38.5505]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(a[0],a[1]),n.lineTo(a[0],a[1]),n.lineTo(c[0],c[1]),n.closePath()},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(4200)},n.geoMercatorEcuador=function(){function n(n){var t=n[0],r=n[1];return s=null,c.point(t,r),s||(f.point(t,r),s)}function e(){return u=a=null,n}var u,a,c,f,s,p=t.geoMercator().rotate([80,1.5]),h=t.geoMercator().rotate([90.73,1]),v={point:function(n,t){s=[n,t]}};return n.invert=function(n){var t=p.scale(),r=p.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=-.0676&&o<-.026&&e>=-.0857&&e<-.0263?h:p).invert(n)},n.stream=function(n){return u&&a===n?u:u=l([p.stream(a=n),h.stream(n)])},n.precision=function(n){return arguments.length?(p.precision(n),h.precision(n),e()):p.precision()},n.scale=function(t){return arguments.length?(p.scale(t),h.scale(t),n.translate(p.translate())):p.scale()},n.translate=function(n){if(!arguments.length)return p.translate();var t=p.scale(),r=+n[0],o=+n[1];return c=p.translate(n).clipExtent([[r-.0262*t,o-.0734*t],[r+.1741*t,o+.079*t]]).stream(v),f=h.translate([r-.06*t,o-.04*t]).clipExtent([[r-.0857*t+y,o-.0676*t+y],[r-.0263*t-y,o-.026*t-y]]).stream(v),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=p([-84.9032,2.3757]),r=p([-81.5047,2.3708]),e=p([-81.5063,-.01]),o=p([-84.9086,-.005]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath()},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(3500)},n.geoTransverseMercatorChile=function(){function n(n){var t=n[0],r=n[1];return h=null,c.point(t,r),h||(f.point(t,r),h)||(l.point(t,r),h)||(p.point(t,r),h)}function e(){return u=a=null,n}var u,a,c,f,l,p,h,v=t.geoTransverseMercator().rotate([72,37]),g=t.geoStereographic().rotate([72,0]),d=t.geoMercator().rotate([80,33.5]),m=t.geoMercator().rotate([110,25]),w={point:function(n,t){h=[n,t]}};return n.invert=function(n){var t=v.scale(),r=v.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.2582&&o<.32&&e>=-.1036&&e<-.087?g:o>=-.01298&&o<.0133&&e>=-.11396&&e<-.05944?d:o>=.01539&&o<.03911&&e>=-.089&&e<-.0588?m:v).invert(n)},n.stream=function(n){return u&&a===n?u:u=s([v.stream(a=n),g.stream(n),d.stream(n),m.stream(n)])},n.precision=function(n){return arguments.length?(v.precision(n),g.precision(n),d.precision(n),m.precision(n),e()):v.precision()},n.scale=function(t){return arguments.length?(v.scale(t),g.scale(.15*t),d.scale(1.5*t),m.scale(1.5*t),n.translate(v.translate())):v.scale()},n.translate=function(n){if(!arguments.length)return v.translate();var t=v.scale(),r=+n[0],o=+n[1];return c=v.translate(n).clipExtent([[r-.059*t,o-.3835*t],[r+.4498*t,o+.3375*t]]).stream(w),f=g.translate([r-.087*t,o+.17*t]).clipExtent([[r-.1166*t+y,o+.2582*t+y],[r-.06*t-y,o+.32*t-y]]).stream(w),l=d.translate([r-.092*t,o-0*t]).clipExtent([[r-.114*t+y,o-.013*t+y],[r-.0594*t-y,o+.0133*t-y]]).stream(w),p=m.translate([r-.089*t,o-.0265*t]).clipExtent([[r-.089*t+y,o+.0154*t+y],[r-.0588*t-y,o+.0391*t-y]]).stream(w),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=v([-82.6999,-51.3043]),r=v([-77.5442,-51.6631]),e=v([-78.0254,-55.186]),o=v([-83.6106,-54.7785]),i=v([-80.0638,-35.984]),u=v([-76.2153,-36.1811]),a=v([-76.2994,-37.6839]),c=v([-80.2231,-37.4757]),f=v([-78.442,-37.706]),l=v([-76.263,-37.8054]),s=v([-76.344,-39.1595]),p=v([-78.5638,-39.0559]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(a[0],a[1]),n.lineTo(a[0],a[1]),n.lineTo(c[0],c[1]),n.closePath(),n.moveTo(f[0],f[1]),n.lineTo(l[0],l[1]),n.lineTo(s[0],s[1]),n.lineTo(s[0],s[1]),n.lineTo(p[0],p[1]),n.closePath()},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(700)},n.geoConicEquidistantJapan=function(){function n(n){var t=n[0],r=n[1];return s=null,c.point(t,r),s||(f.point(t,r),s)||(l.point(t,r),s)}function e(){return u=a=null,n}var u,a,c,f,l,s,h=t.geoConicEquidistant().rotate([-136,-22]).parallels([40,34]),v=t.geoConicEquidistant().rotate([-146,-26]).parallels([40,34]),g=t.geoConicEquidistant().rotate([-126,-19]).parallels([40,34]),d={point:function(n,t){s=[n,t]}};return n.invert=function(n){var t=h.scale(),r=h.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=-.10925&&o<-.02701&&e>=-.135&&e<-.0397?v:o>=.04713&&o<.11138&&e>=-.03986&&e<.051?g:h).invert(n)},n.stream=function(n){return u&&a===n?u:u=p([h.stream(a=n),v.stream(n),g.stream(n)])},n.precision=function(n){return arguments.length?(h.precision(n),v.precision(n),g.precision(n),e()):h.precision()},n.scale=function(t){return arguments.length?(h.scale(t),v.scale(t),g.scale(.7*t),n.translate(h.translate())):h.scale()},n.translate=function(n){if(!arguments.length)return h.translate();var t=h.scale(),r=+n[0],o=+n[1];return c=h.translate(n).clipExtent([[r-.1352*t,o-.1091*t],[r+.117*t,o+.098*t]]).stream(d),f=v.translate([r-.0425*t,o-.005*t]).clipExtent([[r-.135*t+y,o-.1093*t+y],[r-.0397*t-y,o-.027*t-y]]).stream(d),l=g.translate(n).clipExtent([[r-.0399*t+y,o+.0471*t+y],[r+.051*t-y,o+.1114*t-y]]).stream(d),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=h([126.01320483689143,41.621090310215585]),r=h([133.04304387025903,42.15087523707186]),e=h([133.3021766080688,37.43975444725098]),o=h([126.87889168628224,36.95488945159779]),i=h([132.9,29.8]),u=h([134,33]),a=h([139.3,33.2]),c=h([139.16,30.5]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),n.moveTo(i[0],i[1]),n.lineTo(u[0],u[1]),n.lineTo(a[0],a[1]),n.lineTo(c[0],c[1])},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(2200)},n.geoConicConformalFrance=function(){function n(n){var t=n[0],r=n[1];return x=null,c.point(t,r),x||(f.point(t,r),x)||(l.point(t,r),x)||(s.point(t,r),x)||(p.point(t,r),x)||(v.point(t,r),x)||(g.point(t,r),x)||(d.point(t,r),x)||(m.point(t,r),x)||(w.point(t,r),x)||(E.point(t,r),x)||(b.point(t,r),x)}function e(){return u=a=null,n}var u,a,c,f,l,s,p,v,g,d,m,w,E,b,x,M=t.geoConicConformal().rotate([-3,-46.2]).parallels([0,60]),S=t.geoMercator().center([-53.2,3.9]),_=t.geoMercator().center([-61.03,14.67]),T=t.geoMercator().center([-61.46,16.14]),C=t.geoMercator().center([-62.85,17.92]),j=t.geoMercator().center([-56.23,46.93]),P=t.geoMercator().center([45.16,-12.8]),A=t.geoMercator().center([55.52,-21.13]),R=t.geoMercator().center([165.8,-21.07]),N=t.geoMercator().center([-178.1,-14.3]),L=t.geoMercator().center([-150.55,-17.11]),O=t.geoMercator().center([-150.55,-17.11]),k={point:function(n,t){x=[n,t]}};return n.invert=function(n){var t=M.scale(),r=M.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=.029&&o<.0864&&e>=-.14&&e<-.0996?S:o>=0&&o<.029&&e>=-.14&&e<-.0996?_:o>=-.032&&o<0&&e>=-.14&&e<-.0996?T:o>=-.052&&o<-.032&&e>=-.14&&e<-.0996?C:o>=-.076&&o<.052&&e>=-.14&&e<-.0996?j:o>=-.076&&o<-.052&&e>=.0967&&e<.1371?P:o>=-.052&&o<-.02&&e>=.0967&&e<.1371?A:o>=-.02&&o<.012&&e>=.0967&&e<.1371?R:o>=.012&&o<.033&&e>=.0967&&e<.1371?N:o>=.033&&o<.0864&&e>=.0967&&e<.1371?L:M).invert(n)},n.stream=function(n){return u&&a===n?u:u=h([M.stream(a=n),S.stream(n),_.stream(n),T.stream(n),C.stream(n),j.stream(n),P.stream(n),A.stream(n),R.stream(n),N.stream(n),L.stream(n),O.stream(n)])},n.precision=function(n){return arguments.length?(M.precision(n),S.precision(n),_.precision(n),T.precision(n),C.precision(n),j.precision(n),P.precision(n),A.precision(n),R.precision(n),N.precision(n),L.precision(n),O.precision(n),e()):M.precision()},n.scale=function(t){return arguments.length?(M.scale(t),S.scale(.6*t),_.scale(1.6*t),T.scale(1.4*t),C.scale(5*t),j.scale(1.3*t),P.scale(1.6*t),A.scale(1.2*t),R.scale(.3*t),N.scale(2.7*t),L.scale(.5*t),O.scale(.06*t),n.translate(M.translate())):M.scale()},n.translate=function(n){if(!arguments.length)return M.translate();var t=M.scale(),r=+n[0],o=+n[1];return c=M.translate(n).clipExtent([[r-.0996*t,o-.0908*t],[r+.0967*t,o+.0864*t]]).stream(k),f=S.translate([r-.12*t,o+.0575*t]).clipExtent([[r-.14*t+y,o+.029*t+y],[r-.0996*t-y,o+.0864*t-y]]).stream(k),l=_.translate([r-.12*t,o+.013*t]).clipExtent([[r-.14*t+y,o+0*t+y],[r-.0996*t-y,o+.029*t-y]]).stream(k),s=T.translate([r-.12*t,o-.014*t]).clipExtent([[r-.14*t+y,o-.032*t+y],[r-.0996*t-y,o+0*t-y]]).stream(k),p=C.translate([r-.12*t,o-.044*t]).clipExtent([[r-.14*t+y,o-.052*t+y],[r-.0996*t-y,o-.032*t-y]]).stream(k),v=j.translate([r-.12*t,o-.065*t]).clipExtent([[r-.14*t+y,o-.076*t+y],[r-.0996*t-y,o-.052*t-y]]).stream(k),g=P.translate([r+.117*t,o-.064*t]).clipExtent([[r+.0967*t+y,o-.076*t+y],[r+.1371*t-y,o-.052*t-y]]).stream(k),d=A.translate([r+.116*t,o-.0355*t]).clipExtent([[r+.0967*t+y,o-.052*t+y],[r+.1371*t-y,o-.02*t-y]]).stream(k),m=R.translate([r+.116*t,o-.0048*t]).clipExtent([[r+.0967*t+y,o-.02*t+y],[r+.1371*t-y,o+.012*t-y]]).stream(k),w=N.translate([r+.116*t,o+.022*t]).clipExtent([[r+.0967*t+y,o+.012*t+y],[r+.1371*t-y,o+.033*t-y]]).stream(k),b=O.translate([r+.11*t,o+.045*t]).clipExtent([[r+.0967*t+y,o+.033*t+y],[r+.1371*t-y,o+.06*t-y]]).stream(k),E=L.translate([r+.115*t,o+.075*t]).clipExtent([[r+.0967*t+y,o+.06*t+y],[r+.1371*t-y,o+.0864*t-y]]).stream(k),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t,r,e,o;t=M([-7.938886725111036,43.7219460918835]),r=M([-4.832080896458295,44.12930268549372]),e=M([-4.205299743793263,40.98096346967365]),o=M([-7.071796453126152,40.610037319181444]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([-8.42751373617692,45.32889452553031]),r=M([-5.18599305777107,45.7566442062976]),e=M([-4.832080905154431,44.129302726751426]),o=M([-7.938886737126192,43.72194613263854]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([-9.012656899657046,47.127733821030176]),r=M([-5.6105244772793155,47.579777861410626]),e=M([-5.185993067168585,45.756644248170346]),o=M([-8.427513749141811,45.32889456686326]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([-9.405747558985553,48.26506375557457]),r=M([-5.896175018439575,48.733352850851624]),e=M([-5.610524487556043,47.57977790393761]),o=M([-9.012656913808351,47.127733862971255]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([-9.908436061346974,49.642448789505856]),r=M([-6.262026716233124,50.131426841787174]),e=M([-5.896175029331232,48.73335289377258]),o=M([-9.40574757396393,48.26506379787767]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([11.996907706504462,50.16039028163579]),r=M([15.649907879773343,49.68279246765253]),e=M([15.156712840526632,48.30371557625831]),o=M([11.64122661754411,48.761078240546816]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([11.641226606955788,48.7610781975889]),r=M([15.156712825832164,48.30371553390465]),e=M([14.549932166241172,46.4866532486199]),o=M([11.204443787952183,46.91899233914248]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([11.204443778297161,46.918992296823646]),r=M([14.549932152815039,46.486653206856396]),e=M([13.994409796764009,44.695833444323256]),o=M([10.805306599253848,45.105133870684924]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([10.805306590412085,45.10513382903308]),r=M([13.99440978444733,44.695833403183606]),e=M([13.654633799024392,43.53552468558152]),o=M([10.561516803980956,43.930671459798624]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([10.561516795617383,43.93067141859757]),r=M([13.654633787361952,43.5355246448671]),e=M([12.867691604239901,40.640701985019405]),o=M([9.997809515987688,41.00288343254471]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([10.8,42.4]),r=M([12.8,42.13]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1])},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(2700)},n.geoConicConformalEurope=function(){function n(n){var t=n[0],r=n[1];return x=null,c.point(t,r),x||(l.point(t,r),x)||(m.point(t,r),x)||(f.point(t,r),x)||(d.point(t,r),x)||(g.point(t,r),x)||(w.point(t,r),x)||(E.point(t,r),x)||(b.point(t,r),x)||(s.point(t,r),x)||(p.point(t,r),x)||(h.point(t,r),x)}function e(){return u=a=null,n}var u,a,c,f,l,s,p,h,g,d,m,w,E,b,x,M=t.geoConicConformal().rotate([-10,-53]).parallels([0,60]),S=t.geoMercator().center([-61.46,16.14]),_=t.geoMercator().center([-53.2,3.9]),T=t.geoConicConformal().rotate([27.8,-38.9]).parallels([0,60]),C=t.geoConicConformal().rotate([25.43,-37.398]).parallels([0,60]),j=t.geoConicConformal().rotate([31.17,-39.539]).parallels([0,60]),P=t.geoConicConformal().rotate([17,-32.7]).parallels([0,60]),A=t.geoConicConformal().rotate([16,-28.5]).parallels([0,60]),R=t.geoMercator().center([-61.03,14.67]),N=t.geoMercator().center([45.16,-12.8]),L=t.geoMercator().center([55.52,-21.13]),O=t.geoConicConformal().rotate([-14.4,-35.95]).parallels([0,60]),k={point:function(n,t){x=[n,t]}};return n.invert=function(n){var t=M.scale(),r=M.translate(),e=(n[0]-(r[0]+.08*t))/t,o=(n[1]-r[1])/t;return(o>=-.31&&o<-.24&&e>=.14&&e<.24?S:o>=-.24&&o<-.17&&e>=.14&&e<.24?_:o>=-.17&&o<-.12&&e>=.21&&e<.24?C:o>=-.17&&o<-.14&&e>=.14&&e<.165?j:o>=-.17&&o<-.1&&e>=.14&&e<.24?T:o>=-.1&&o<-.03&&e>=.14&&e<.24?P:o>=-.03&&o<.04&&e>=.14&&e<.24?A:o>=-.31&&o<-.24&&e>=.24&&e<.34?R:o>=-.24&&o<-.17&&e>=.24&&e<.34?N:o>=-.17&&o<-.1&&e>=.24&&e<.34?L:o>=-.1&&o<-.03&&e>=.24&&e<.34?O:M).invert(n)},n.stream=function(n){return u&&a===n?u:u=v([M.stream(a=n),_.stream(n),R.stream(n),S.stream(n),A.stream(n),P.stream(n),N.stream(n),L.stream(n),O.stream(n),T.stream(n),C.stream(n),j.stream(n)])},n.precision=function(n){return arguments.length?(M.precision(n),_.precision(n),R.precision(n),S.precision(n),A.precision(n),P.precision(n),N.precision(n),L.precision(n),O.precision(n),T.precision(n),C.precision(n),j.precision(n),e()):M.precision()},n.scale=function(t){return arguments.length?(M.scale(t),S.scale(3*t),_.scale(.8*t),R.scale(3.5*t),L.scale(2.7*t),T.scale(2*t),C.scale(2*t),j.scale(2*t),P.scale(3*t),A.scale(t),N.scale(5.5*t),O.scale(6*t),n.translate(M.translate())):M.scale()},n.translate=function(n){if(!arguments.length)return M.translate();var t=M.scale(),r=+n[0],o=+n[1];return c=M.translate([r-.08*t,o]).clipExtent([[r-.51*t,o-.33*t],[r+.5*t,o+.33*t]]).stream(k),f=S.translate([r+.19*t,o-.275*t]).clipExtent([[r+.14*t+y,o-.31*t+y],[r+.24*t-y,o-.24*t-y]]).stream(k),l=_.translate([r+.19*t,o-.205*t]).clipExtent([[r+.14*t+y,o-.24*t+y],[r+.24*t-y,o-.17*t-y]]).stream(k),s=T.translate([r+.19*t,o-.135*t]).clipExtent([[r+.14*t+y,o-.17*t+y],[r+.24*t-y,o-.1*t-y]]).stream(k),p=C.translate([r+.225*t,o-.147*t]).clipExtent([[r+.21*t+y,o-.17*t+y],[r+.24*t-y,o-.12*t-y]]).stream(k),h=j.translate([r+.153*t,o-.15*t]).clipExtent([[r+.14*t+y,o-.17*t+y],[r+.165*t-y,o-.14*t-y]]).stream(k),g=P.translate([r+.19*t,o-.065*t]).clipExtent([[r+.14*t+y,o-.1*t+y],[r+.24*t-y,o-.03*t-y]]).stream(k),d=A.translate([r+.19*t,o+.005*t]).clipExtent([[r+.14*t+y,o-.03*t+y],[r+.24*t-y,o+.04*t-y]]).stream(k),m=R.translate([r+.29*t,o-.275*t]).clipExtent([[r+.24*t+y,o-.31*t+y],[r+.34*t-y,o-.24*t-y]]).stream(k),w=N.translate([r+.29*t,o-.205*t]).clipExtent([[r+.24*t+y,o-.24*t+y],[r+.34*t-y,o-.17*t-y]]).stream(k),E=L.translate([r+.29*t,o-.135*t]).clipExtent([[r+.24*t+y,o-.17*t+y],[r+.34*t-y,o-.1*t-y]]).stream(k),b=O.translate([r+.29*t,o-.065*t]).clipExtent([[r+.24*t+y,o-.1*t+y],[r+.34*t-y,o-.03*t-y]]).stream(k),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t,r,e,o;t=M([42.45755610828648,63.343658547914934]),r=M([52.65837266667029,59.35045080290929]),e=M([47.19754502247785,56.12653496548117]),o=M([37.673034273363044,59.61638268506111]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([59.41110754003403,62.35069727399336]),r=M([66.75050228640794,57.11797303636038]),e=M([60.236065725110436,54.63331433818992]),o=M([52.65837313153311,59.350450804599355]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([48.81091130080243,66.93353402634641]),r=M([59.41110730654679,62.35069740653086]),e=M([52.6583728974441,59.3504509222445]),o=M([42.45755631675751,63.34365868805821]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([31.054198418446475,52.1080673766184]),r=M([39.09869284884117,49.400700047190554]),e=M([36.0580811499175,46.02944174908498]),o=M([28.690508588835726,48.433126979386415]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([33.977877745912025,55.849945501331]),r=M([42.75328432167726,52.78455122462353]),e=M([39.09869297540224,49.400700176148625]),o=M([31.05419851807008,52.10806751810923]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([52.658372900759296,59.35045068526415]),r=M([60.23606549583304,54.63331423800264]),e=M([54.6756370953122,51.892298789399455]),o=M([47.19754524788189,56.126534861222794]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([47.19754506082455,56.126534735591456]),r=M([54.675636900123514,51.892298681337095]),e=M([49.94448648951486,48.98775484983285]),o=M([42.75328468716108,52.78455126060818]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([42.75328453416769,52.78455113209101]),r=M([49.94448632339758,48.98775473706457]),e=M([45.912339990394315,45.99361784987003]),o=M([39.09869317356607,49.40070009378711]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([37.673034114296634,59.61638254183119]),r=M([47.197544835420544,56.126534839849846]),e=M([42.75328447467064,52.78455135314068]),o=M([33.977877870363905,55.849945644671145]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([44.56748486446032,57.26489367845818]),e=M([43.9335791193588,53.746540942601726]),o=M([43,56]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=M([37.673034114296634,59.61638254183119]),r=M([40.25902691953466,58.83002044222639]),e=M([38.458270492742024,57.26232178028002]),o=M([35.97754948030156,58.00266637992386]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath()},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(750)},n.geoMercatorMalaysia=function(){function n(n){var t=n[0],r=n[1];return l=null,c.point(t,r),l||(f.point(t,r),l)}function e(){return u=a=null,n}var u,a,c,f,l,s=t.geoMercator().center([105.25,4]),p=t.geoMercator().center([118.65,2.86]),h={point:function(n,t){l=[n,t]}};return n.invert=function(n){var t=s.scale(),r=s.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=-.0521&&o<.0229&&e>=-.0111&&e<.1?p:s).invert(n)},n.stream=function(n){return u&&a===n?u:u=g([s.stream(a=n),p.stream(n)])},n.precision=function(n){return arguments.length?(s.precision(n),p.precision(n),e()):s.precision()},n.scale=function(t){return arguments.length?(s.scale(t),p.scale(.615*t),n.translate(s.translate())):s.scale()},n.translate=function(n){if(!arguments.length)return s.translate();var t=s.scale(),r=+n[0],o=+n[1];return c=s.translate(n).clipExtent([[r-.11*t,o-.0521*t],[r-.0111*t,o+.0521*t]]).stream(h),f=p.translate([r+.09*t,o-0*t]).clipExtent([[r-.0111*t+y,o-.0521*t+y],[r+.1*t-y,o+.024*t-y]]).stream(h),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t=s([106.3214,2.0228]),r=s([105.1843,2.3761]),e=s([104.2151,3.3618]),o=s([104.215,4.5651]);n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1])},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(4800)},n.geoMercatorEquatorialGuinea=function(){function n(n){var t=n[0],r=n[1];return s=null,c.point(t,r),s||(f.point(t,r),s)||(l.point(t,r),s)}function e(){return u=a=null,n}var u,a,c,f,l,s,p=t.geoMercator().rotate([-9.5,-1.5]),h=t.geoMercator().rotate([-8.6,-3.5]),v=t.geoMercator().rotate([-5.6,1.45]),g={point:function(n,t){s=[n,t]}};return n.invert=function(n){var t=p.scale(),r=p.translate(),e=(n[0]-r[0])/t,o=(n[1]-r[1])/t;return(o>=-.02&&o<0&&e>=-.038&&e<-.005?h:o>=0&&o<.02&&e>=-.038&&e<-.005?v:p).invert(n)},n.stream=function(n){return u&&a===n?u:u=d([p.stream(a=n),h.stream(n),v.stream(n)])},n.precision=function(n){return arguments.length?(p.precision(n),h.precision(n),v.precision(n),e()):p.precision()},n.scale=function(t){return arguments.length?(p.scale(t),h.scale(1.5*t),v.scale(4*t),n.translate(p.translate())):p.scale()},n.translate=function(n){if(!arguments.length)return p.translate();var t=p.scale(),r=+n[0],o=+n[1];return c=p.translate(n).clipExtent([[r-.005*t,o-.02*t],[r+.038*t,o+.02*t]]).stream(g),f=h.translate([r-.025*t,o-.01*t]).clipExtent([[r-.038*t+y,o-.02*t+y],[r-.005*t-y,o+0*t-y]]).stream(g),l=v.translate([r-.025*t,o+.01*t]).clipExtent([[r-.038*t+y,o-0*t+y],[r-.005*t-y,o+.02*t-y]]).stream(g),e()},n.fitExtent=function(t,r){return o(n,t,r)},n.fitSize=function(t,r){return i(n,t,r)},n.drawCompositionBorders=function(n){var t,r,e,o;t=p([9.21327272751682,2.645820439454123]),r=p([11.679126293239872,2.644755519268689]),e=p([11.676845389029227,.35307824637606433]),o=p([9.213572917774014,.35414205204417754]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=p([7.320873711543669,2.64475551449975]),r=p([9.213272722738658,2.645820434679803]),e=p([9.213422896480349,1.4999812505283054]),o=p([7.322014760520787,1.4989168878985566]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath(),t=p([7.3220147605302905,1.4989168783492766]),r=p([9.213422896481598,1.499981240979021]),e=p([9.213572912999604,.354142056817247]),o=p([7.323154615739809,.353078251154504]),n.moveTo(t[0],t[1]),n.lineTo(r[0],r[1]),n.lineTo(e[0],e[1]),n.lineTo(o[0],o[1]),n.closePath()},n.getCompositionBorders=function(){var n=r.path();return this.drawCompositionBorders(n),n.toString()},n.scale(12e3)},Object.defineProperty(n,"__esModule",{value:!0})})}),HE=kv&&void 0||kv,WE=_d&&void 0||_d,QE=function(n){if(yc(n))return n();if(vm(n)){if(HE[n])return HE[n]();if(WE[n])return WE[n]();if($E[n])return $E[n]()}return null},JE=HE.geoArea,ZE=HE.geoCentroid,KE=HE.geoContains,XE=HE.geoDistance,YE=HE.geoLength,nb=WE.geoProject;Rf(jm.prototype,{geoArea:function(n){return JE(n)},geoAreaByName:function(n){return JE(this.geoFeatureByName(n))},geoCentroid:function(n){return ZE(n)},geoCentroidByName:function(n){return ZE(this.geoFeatureByName(n))},geoDistance:function(n,t){return XE(n,t)},geoLength:function(n){return YE(n)},geoLengthByName:function(n){return YE(this.geoFeatureByName(n))},geoContains:function(n,t){return KE(n,t)},geoFeatureByName:function(n){var t=this.rows,r=void 0;return qs(t,function(t){if(t.name===n)return r=t,!0}),r},geoFeatureByPosition:function(n){var t=this.rows,r=void 0;return qs(t,function(t){if(KE(t,n))return r=t,!0}),r},geoNameByPosition:function(n){var t=this.geoFeatureByPosition(n);if(t)return t.name},geoProject:function(n,t){return t=QE(t),nb(n,t)},geoProjectByName:function(n,t){return t=QE(t),nb(this.geoFeatureByName(n),t)},geoProjectPosition:function(n,t){return(t=QE(t))(n)},geoProjectInvert:function(n,t){return(t=QE(t)).invert(n)}}),Rf(jm.prototype,{getAllNodes:function(){var n=[];return this.root.each(function(t){n.push(t)}),n},getAllLinks:function(){for(var n=[],t=[this.root],r=void 0;r=t.pop();){var e=r.children;e&&Gy(e,function(e){n.push({source:r,target:e}),t.push(e)})}return n}});var tb=function(n){var t,r,e=n.length;if(1===e)t=0,r=n[0][1];else{for(var o,i,u,a=0,c=0,f=0,l=0,s=0;s<e;s++)a+=i=(o=n[s])[0],c+=u=o[1],f+=i*i,l+=i*u;r=c/e-(t=(e*l-a*c)/(e*f-a*a))*a/e}return{m:t,b:r}},rb=function(n){return function(t){return n.b+n.m*t}},eb=function(n){if(0===n.length)return 0;for(var t,r=n[0],e=0,o=1;o<n.length;o++)t=r+n[o],Math.abs(r)>=Math.abs(n[o])?e+=r-t+n[o]:e+=n[o]-t+r,r=t;return r+e},ob=function(n){if(0===n.length)throw new Error("mean requires at least one data point");return eb(n)/n.length},ib=function(n,t){var r,e,o=ob(n),i=0;if(2===t)for(e=0;e<n.length;e++)i+=(r=n[e]-o)*r;else for(e=0;e<n.length;e++)i+=Math.pow(n[e]-o,t);return i},ub=function(n){if(0===n.length)throw new Error("variance requires at least one data point");return ib(n,2)/n.length},ab=function(n){if(1===n.length)return 0;var t=ub(n);return Math.sqrt(t)},cb=function(n,t){if(n.length<2)return 1;for(var r,e=0,o=0;o<n.length;o++)e+=n[o][1];r=e/n.length;for(var i=0,u=0;u<n.length;u++)i+=Math.pow(r-n[u][1],2);for(var a=0,c=0;c<n.length;c++)a+=Math.pow(n[c][1]-t(n[c][0]),2);return 1-a/i},fb=function(n){return n.slice().sort(function(n,t){return n-t})},lb=function(n){if(0===n.length)throw new Error("mode requires at least one data point");if(1===n.length)return n[0];for(var t=n[0],r=NaN,e=0,o=1,i=1;i<n.length+1;i++)n[i]!==t?(o>e&&(e=o,r=t),o=1,t=n[i]):o++;return r},sb=function(n){return lb(fb(n))},pb=function(n){for(var t,r=new Map,e=0,o=0;o<n.length;o++){var i=r.get(n[o]);void 0===i?i=1:i++,i>e&&(t=n[o],e=i),r.set(n[o],i)}if(0===e)throw new Error("mode requires at last one data point");return t},hb=function(n){if(0===n.length)throw new Error("min requires at least one data point");for(var t=n[0],r=1;r<n.length;r++)n[r]<t&&(t=n[r]);return t},vb=function(n){if(0===n.length)throw new Error("max requires at least one data point");for(var t=n[0],r=1;r<n.length;r++)n[r]>t&&(t=n[r]);return t},gb=function(n){return n[0]},db=function(n){return n[n.length-1]},yb=function(n){for(var t=0,r=0;r<n.length;r++)t+=n[r];return t},mb=function(n){for(var t=1,r=0;r<n.length;r++)t*=n[r];return t},wb=function(n,t){var r=n.length*t;if(0===n.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?n[n.length-1]:0===t?n[0]:r%1!=0?n[Math.ceil(r)-1]:n.length%2==0?(n[r-1]+n[r])/2:n[r]},Eb=Li,bb=function(n,t){var r=n.slice();if(Array.isArray(t)){zi(r,t);for(var e=[],o=0;o<t.length;o++)e[o]=wb(r,t[o]);return e}return ki(r,Bi(r.length,t),0,r.length-1),wb(r,t)},xb=function(n){var t=bb(n,.75),r=bb(n,.25);if("number"==typeof t&&"number"==typeof r)return t-r},Mb=function(n){return+bb(n,.5)},Sb=function(n){for(var t=Mb(n),r=[],e=0;e<n.length;e++)r.push(Math.abs(n[e]-t));return Mb(r)},_b=function(n,t){var r=[];if(t<1)throw new Error("chunk size must be a positive number");if(Math.floor(t)!==t)throw new Error("chunk size must be an integer");for(var e=0;e<n.length;e+=t)r.push(n.slice(e,e+t));return r},Tb=function(n,t,r){if(0===n.length)return[];r=r||Math.random;for(var e=n.length,o=[],i=0;i<t;i++){var u=Math.floor(r()*e);o.push(n[u])}return o},Cb=function(n,t){t=t||Math.random;for(var r,e,o=n.length;o>0;)e=Math.floor(t()*o--),r=n[o],n[o]=n[e],n[e]=r;return n},jb=function(n,t){var r=n.slice();return Cb(r.slice(),t)},Pb=function(n,t,r){return jb(n,r).slice(0,t)},Ab=function(n){for(var t,r=0,e=0;e<n.length;e++)0!==e&&n[e]===t||(t=n[e],r++);return r},Rb=function(n,t){if(t>n.length)throw new Error("cannot generate more classes than there are data values");var r=fb(n);if(1===Ab(r))return[r];var e=Ii(t,r.length),o=Ii(t,r.length);Gi(r,e,o);for(var i=[],u=o[0].length-1,a=o.length-1;a>=0;a--){var c=o[a][u];i[a]=r.slice(c,u+1),a>0&&(u=c-1)}return i},Nb=function(n,t){if(n.length<2)return n;for(var r=hb(n),e=vb(n),o=[r],i=(e-r)/t,u=1;u<t;u++)o.push(o[0]+i*u);return o.push(e),o},Lb=function(n,t){if(n.length!==t.length)throw new Error("sampleCovariance requires samples with equal lengths");if(n.length<2)throw new Error("sampleCovariance requires at least two data points in each sample");for(var r=ob(n),e=ob(t),o=0,i=0;i<n.length;i++)o+=(n[i]-r)*(t[i]-e);return o/(n.length-1)},Ob=function(n){if(n.length<2)throw new Error("sampleVariance requires at least two data points");return ib(n,2)/(n.length-1)},kb=function(n){var t=Ob(n);return Math.sqrt(t)},zb=function(n,t){return Lb(n,t)/kb(n)/kb(t)},qb=function(n){if(n.length<3)throw new Error("sampleSkewness requires at least three data points");for(var t,r=ob(n),e=0,o=0,i=0;i<n.length;i++)e+=(t=n[i]-r)*t,o+=t*t*t;var u=n.length-1,a=Math.sqrt(e/u),c=n.length;return c*o/((c-1)*(c-2)*Math.pow(a,3))},Bb=function(n){var t=n.length;if(t<4)throw new Error("sampleKurtosis requires at least four data points");for(var r,e=ob(n),o=0,i=0,u=0;u<t;u++)o+=(r=n[u]-e)*r,i+=r*r*r*r;return(t-1)/((t-2)*(t-3))*(t*(t+1)*i/(o*o)-3*(t-1))},Ib=function(n){for(var t=new Array(n.length),r=[n.slice()],e=0;e<n.length;e++)t[e]=0;for(e=0;e<n.length;)if(t[e]<e){var o=0;e%2!=0&&(o=t[e]);var i=n[o];n[o]=n[e],n[e]=i,r.push(n.slice()),t[e]++,e=0}else t[e]=0,e++;return r},Fb=Ui,Db=Vi,Gb=function(n,t,r){return n+(r-n)/(t+1)},Ub=function(n,t,r,e){return(n*t+r*e)/(t+e)},Vb=function(n,t,r,e,o,i){var u=Ub(t,r,o,i);return(r*(n+Math.pow(t-u,2))+i*(e+Math.pow(o-u,2)))/(r+i)},$b=function(n){if(0===n.length)throw new Error("geometricMean requires at least one data point");for(var t=1,r=0;r<n.length;r++){if(n[r]<=0)throw new Error("geometricMean requires only positive numbers as input");t*=n[r]}return Math.pow(t,1/n.length)},Hb=function(n){if(0===n.length)throw new Error("harmonicMean requires at least one data point");for(var t=0,r=0;r<n.length;r++){if(n[r]<=0)throw new Error("harmonicMean requires only positive numbers as input");t+=1/n[r]}return n.length/t},Wb=function(n){return wb(n,.5)},Qb=function(n,t,r){return(n*t-r)/(t-1)},Jb=function(n){if(0===n.length)throw new Error("rootMeanSquare requires at least one data point");for(var t=0,r=0;r<n.length;r++)t+=Math.pow(n[r],2);return Math.sqrt(t/n.length)},Zb=function(n,t){return(ob(n)-t)/(ab(n)/Math.sqrt(n.length))},Kb=function(n,t,r){var e=n.length,o=t.length;if(!e||!o)return null;r||(r=0);var i=ob(n),u=ob(t),a=Ob(n),c=Ob(t);if("number"==typeof i&&"number"==typeof u&&"number"==typeof a&&"number"==typeof c){var f=((e-1)*a+(o-1)*c)/(e+o-2);return(i-u-r)/Math.sqrt(f*(1/e+1/o))}};$i.prototype.train=function(n,t){this.data[t]||(this.data[t]={});for(var r in n){var e=n[r];void 0===this.data[t][r]&&(this.data[t][r]={}),void 0===this.data[t][r][e]&&(this.data[t][r][e]=0),this.data[t][r][e]++}this.totalCount++},$i.prototype.score=function(n){var t,r={};for(var e in n){var o=n[e];for(t in this.data)r[t]={},this.data[t][e]?r[t][e+"_"+o]=(this.data[t][e][o]||0)/this.totalCount:r[t][e+"_"+o]=0}var i={};for(t in r){i[t]=0;for(var u in r[t])i[t]+=r[t][u]}return i};var Xb=$i;Hi.prototype.predict=function(n){if(n.length!==this.weights.length)return null;for(var t=0,r=0;r<this.weights.length;r++)t+=this.weights[r]*n[r];return(t+=this.bias)>0?1:0},Hi.prototype.train=function(n,t){if(0!==t&&1!==t)return null;n.length!==this.weights.length&&(this.weights=n,this.bias=1);var r=this.predict(n);if(r!==t){for(var e=t-r,o=0;o<this.weights.length;o++)this.weights[o]+=e*n[o];this.bias+=e}return this};for(var Yb=Hi,nx=1e-4,tx=function(n){if(n<0)throw new Error("factorial requires a non-negative value");if(Math.floor(n)!==n)throw new Error("factorial requires an integer input");for(var t=1,r=2;r<=n;r++)t*=r;return t},rx=function(n){if(n<0||n>1)throw new Error("bernoulliDistribution requires probability to be between 0 and 1 inclusive");return[1-n,n]},ex=function(n,t){if(!(t<0||t>1||n<=0||n%1!=0)){var r=0,e=0,o=[],i=1;do{o[r]=i*Math.pow(t,r)*Math.pow(1-t,n-r),e+=o[r],i=i*(n-++r+1)/r}while(e<1-nx);return o}},ox=function(n){if(!(n<=0)){var t=0,r=0,e=[],o=1;do{e[t]=Math.exp(-n)*Math.pow(n,t)/o,r+=e[t],o*=++t}while(r<1-nx);return e}},ix={1:{.995:0,.99:0,.975:0,.95:0,.9:.02,.5:.45,.1:2.71,.05:3.84,.025:5.02,.01:6.63,.005:7.88},2:{.995:.01,.99:.02,.975:.05,.95:.1,.9:.21,.5:1.39,.1:4.61,.05:5.99,.025:7.38,.01:9.21,.005:10.6},3:{.995:.07,.99:.11,.975:.22,.95:.35,.9:.58,.5:2.37,.1:6.25,.05:7.81,.025:9.35,.01:11.34,.005:12.84},4:{.995:.21,.99:.3,.975:.48,.95:.71,.9:1.06,.5:3.36,.1:7.78,.05:9.49,.025:11.14,.01:13.28,.005:14.86},5:{.995:.41,.99:.55,.975:.83,.95:1.15,.9:1.61,.5:4.35,.1:9.24,.05:11.07,.025:12.83,.01:15.09,.005:16.75},6:{.995:.68,.99:.87,.975:1.24,.95:1.64,.9:2.2,.5:5.35,.1:10.65,.05:12.59,.025:14.45,.01:16.81,.005:18.55},7:{.995:.99,.99:1.25,.975:1.69,.95:2.17,.9:2.83,.5:6.35,.1:12.02,.05:14.07,.025:16.01,.01:18.48,.005:20.28},8:{.995:1.34,.99:1.65,.975:2.18,.95:2.73,.9:3.49,.5:7.34,.1:13.36,.05:15.51,.025:17.53,.01:20.09,.005:21.96},9:{.995:1.73,.99:2.09,.975:2.7,.95:3.33,.9:4.17,.5:8.34,.1:14.68,.05:16.92,.025:19.02,.01:21.67,.005:23.59},10:{.995:2.16,.99:2.56,.975:3.25,.95:3.94,.9:4.87,.5:9.34,.1:15.99,.05:18.31,.025:20.48,.01:23.21,.005:25.19},11:{.995:2.6,.99:3.05,.975:3.82,.95:4.57,.9:5.58,.5:10.34,.1:17.28,.05:19.68,.025:21.92,.01:24.72,.005:26.76},12:{.995:3.07,.99:3.57,.975:4.4,.95:5.23,.9:6.3,.5:11.34,.1:18.55,.05:21.03,.025:23.34,.01:26.22,.005:28.3},13:{.995:3.57,.99:4.11,.975:5.01,.95:5.89,.9:7.04,.5:12.34,.1:19.81,.05:22.36,.025:24.74,.01:27.69,.005:29.82},14:{.995:4.07,.99:4.66,.975:5.63,.95:6.57,.9:7.79,.5:13.34,.1:21.06,.05:23.68,.025:26.12,.01:29.14,.005:31.32},15:{.995:4.6,.99:5.23,.975:6.27,.95:7.26,.9:8.55,.5:14.34,.1:22.31,.05:25,.025:27.49,.01:30.58,.005:32.8},16:{.995:5.14,.99:5.81,.975:6.91,.95:7.96,.9:9.31,.5:15.34,.1:23.54,.05:26.3,.025:28.85,.01:32,.005:34.27},17:{.995:5.7,.99:6.41,.975:7.56,.95:8.67,.9:10.09,.5:16.34,.1:24.77,.05:27.59,.025:30.19,.01:33.41,.005:35.72},18:{.995:6.26,.99:7.01,.975:8.23,.95:9.39,.9:10.87,.5:17.34,.1:25.99,.05:28.87,.025:31.53,.01:34.81,.005:37.16},19:{.995:6.84,.99:7.63,.975:8.91,.95:10.12,.9:11.65,.5:18.34,.1:27.2,.05:30.14,.025:32.85,.01:36.19,.005:38.58},20:{.995:7.43,.99:8.26,.975:9.59,.95:10.85,.9:12.44,.5:19.34,.1:28.41,.05:31.41,.025:34.17,.01:37.57,.005:40},21:{.995:8.03,.99:8.9,.975:10.28,.95:11.59,.9:13.24,.5:20.34,.1:29.62,.05:32.67,.025:35.48,.01:38.93,.005:41.4},22:{.995:8.64,.99:9.54,.975:10.98,.95:12.34,.9:14.04,.5:21.34,.1:30.81,.05:33.92,.025:36.78,.01:40.29,.005:42.8},23:{.995:9.26,.99:10.2,.975:11.69,.95:13.09,.9:14.85,.5:22.34,.1:32.01,.05:35.17,.025:38.08,.01:41.64,.005:44.18},24:{.995:9.89,.99:10.86,.975:12.4,.95:13.85,.9:15.66,.5:23.34,.1:33.2,.05:36.42,.025:39.36,.01:42.98,.005:45.56},25:{.995:10.52,.99:11.52,.975:13.12,.95:14.61,.9:16.47,.5:24.34,.1:34.28,.05:37.65,.025:40.65,.01:44.31,.005:46.93},26:{.995:11.16,.99:12.2,.975:13.84,.95:15.38,.9:17.29,.5:25.34,.1:35.56,.05:38.89,.025:41.92,.01:45.64,.005:48.29},27:{.995:11.81,.99:12.88,.975:14.57,.95:16.15,.9:18.11,.5:26.34,.1:36.74,.05:40.11,.025:43.19,.01:46.96,.005:49.65},28:{.995:12.46,.99:13.57,.975:15.31,.95:16.93,.9:18.94,.5:27.34,.1:37.92,.05:41.34,.025:44.46,.01:48.28,.005:50.99},29:{.995:13.12,.99:14.26,.975:16.05,.95:17.71,.9:19.77,.5:28.34,.1:39.09,.05:42.56,.025:45.72,.01:49.59,.005:52.34},30:{.995:13.79,.99:14.95,.975:16.79,.95:18.49,.9:20.6,.5:29.34,.1:40.26,.05:43.77,.025:46.98,.01:50.89,.005:53.67},40:{.995:20.71,.99:22.16,.975:24.43,.95:26.51,.9:29.05,.5:39.34,.1:51.81,.05:55.76,.025:59.34,.01:63.69,.005:66.77},50:{.995:27.99,.99:29.71,.975:32.36,.95:34.76,.9:37.69,.5:49.33,.1:63.17,.05:67.5,.025:71.42,.01:76.15,.005:79.49},60:{.995:35.53,.99:37.48,.975:40.48,.95:43.19,.9:46.46,.5:59.33,.1:74.4,.05:79.08,.025:83.3,.01:88.38,.005:91.95},70:{.995:43.28,.99:45.44,.975:48.76,.95:51.74,.9:55.33,.5:69.33,.1:85.53,.05:90.53,.025:95.02,.01:100.42,.005:104.22},80:{.995:51.17,.99:53.54,.975:57.15,.95:60.39,.9:64.28,.5:79.33,.1:96.58,.05:101.88,.025:106.63,.01:112.33,.005:116.32},90:{.995:59.2,.99:61.75,.975:65.65,.95:69.13,.9:73.29,.5:89.33,.1:107.57,.05:113.14,.025:118.14,.01:124.12,.005:128.3},100:{.995:67.33,.99:70.06,.975:74.22,.95:77.93,.9:82.36,.5:99.33,.1:118.5,.05:124.34,.025:129.56,.01:135.81,.005:140.17}},ux=function(n,t,r){for(var e,o,i=0,u=t(ob(n)),a=[],c=[],f=0;f<n.length;f++)void 0===a[n[f]]&&(a[n[f]]=0),a[n[f]]++;for(f=0;f<a.length;f++)void 0===a[f]&&(a[f]=0);for(o in u)o in a&&(c[+o]=u[o]*n.length);for(o=c.length-1;o>=0;o--)c[o]<3&&(c[o-1]+=c[o],c.pop(),a[o-1]+=a[o],a.pop());for(o=0;o<a.length;o++)i+=Math.pow(a[o]-c[o],2)/c[o];return e=a.length-1-1,ix[e][r]<i},ax=function(n,t,r){return(n-t)/r},cx=Math.sqrt(2*Math.PI),fx=[],lx=0;lx<=3.09;lx+=.01)fx.push(function(n){for(var t=n,r=n,e=1;e<15;e++)t+=r*=n*n/(2*e+1);return Math.round(1e4*(.5+t/cx*Math.exp(-n*n/2)))/1e4}(lx));var sx=fx,px=function(n){var t=Math.abs(n),r=Math.min(Math.round(100*t),sx.length-1);return n>=0?sx[r]:+(1-sx[r]).toFixed(4)},hx=function(n){var t=1/(1+.5*Math.abs(n)),r=t*Math.exp(-Math.pow(n,2)-1.26551223+1.00002368*t+.37409196*Math.pow(t,2)+.09678418*Math.pow(t,3)-.18628806*Math.pow(t,4)+.27886807*Math.pow(t,5)-1.13520398*Math.pow(t,6)+1.48851587*Math.pow(t,7)-.82215223*Math.pow(t,8)+.17087277*Math.pow(t,9));return n>=0?1-r:r-1},vx=function(n){var t=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),r=Math.sqrt(Math.sqrt(Math.pow(2/(Math.PI*t)+Math.log(1-n*n)/2,2)-Math.log(1-n*n)/t)-(2/(Math.PI*t)+Math.log(1-n*n)/2));return n>=0?r:-r},gx=function(n){return 0===n?n=nx:n>=1&&(n=1-nx),Math.sqrt(2)*vx(2*n-1)},dx=function(n){if("number"==typeof n)return n<0?-1:0===n?0:1;throw new TypeError("not a number")},yx=function(n,t,r,e,o){if("function"!=typeof n)throw new TypeError("func must be a function");for(var i=0;i<e;i++){var u=(t+r)/2;if(0===n(u)||Math.abs((r-t)/2)<o)return u;dx(n(u))===dx(n(t))?t=u:r=u}throw new Error("maximum number of iterations exceeded")},mx=n(function(n){var t=n.exports={};t.linearRegression=tb,t.linearRegressionLine=rb,t.standardDeviation=ab,t.rSquared=cb,t.mode=sb,t.modeFast=pb,t.modeSorted=lb,t.min=hb,t.max=vb,t.minSorted=gb,t.maxSorted=db,t.sum=eb,t.sumSimple=yb,t.product=mb,t.quantile=bb,t.quantileSorted=wb,t.iqr=t.interquartileRange=xb,t.medianAbsoluteDeviation=t.mad=Sb,t.chunk=_b,t.sampleWithReplacement=Tb,t.shuffle=jb,t.shuffleInPlace=Cb,t.sample=Pb,t.ckmeans=Rb,t.uniqueCountSorted=Ab,t.sumNthPowerDeviations=ib,t.equalIntervalBreaks=Nb,t.sampleCovariance=Lb,t.sampleCorrelation=zb,t.sampleVariance=Ob,t.sampleStandardDeviation=kb,t.sampleSkewness=qb,t.sampleKurtosis=Bb,t.permutationsHeap=Ib,t.combinations=Fb,t.combinationsReplacement=Db,t.addToMean=Gb,t.combineMeans=Ub,t.combineVariances=Vb,t.geometricMean=$b,t.harmonicMean=Hb,t.mean=t.average=ob,t.median=Mb,t.medianSorted=Wb,t.subtractFromMean=Qb,t.rootMeanSquare=t.rms=Jb,t.variance=ub,t.tTest=Zb,t.tTestTwoSample=Kb,t.bayesian=Xb,t.perceptron=Yb,t.epsilon=nx,t.factorial=tx,t.bernoulliDistribution=rx,t.binomialDistribution=ex,t.poissonDistribution=ox,t.chiSquaredGoodnessOfFit=ux,t.zScore=ax,t.cumulativeStdNormalProbability=px,t.standardNormalTable=sx,t.errorFunction=t.erf=hx,t.inverseErrorFunction=vx,t.probit=gx,t.bisect=yx}),wx=function(n){for(var t=1/n,r=[],e=0;e<=1;e+=t)r.push(e);return r},Ex=mx.max,bx=mx.mean,xx=mx.median,Mx=mx.min,Sx=mx.mode,_x=mx.quantile,Tx=mx.standardDeviation,Cx=mx.sum,jx=mx.variance;Rf(jm.prototype,{max:function(n){return Ex(this.getColumn(n))},mean:function(n){return bx(this.getColumn(n))},average:function(n){return this.mean(n)},median:function(n){return xx(this.getColumn(n))},min:function(n){return Mx(this.getColumn(n))},mode:function(n){return Sx(this.getColumn(n))},quantile:function(n,t){return _x(this.getColumn(n),t)},quantiles:function(n,t){var r=this.getColumn(n);return dm(t,function(n){return _x(r,n)})},quantilesByFraction:function(n,t){return this.quantiles(n,wx(t))},standardDeviation:function(n){return Tx(this.getColumn(n))},sum:function(n){return Cx(this.getColumn(n))},variance:function(n){return jx(this.getColumn(n))},range:function(n){var t=this;return[t.min(n),t.max(n)]},extent:function(n){return this.range(n)}});var Px=function(n){function t(){_m(this,t);var r=Cm(this,n.call(this));return Rf(r,{_onChangeTimer:null,DataSet:t,isDataSet:!0,state:{},views:{}}),r}return Tm(t,n),t.prototype.createView=function(n){var t=this,r=new jm(t);return t.views[n]=r,r},t.prototype.getView=function(n){return this.views[n]},t.prototype.setView=function(n,t){this.views[n]=t},t.prototype.setState=function(n,t){var r=this;r.state[n]=t,r._onChangeTimer&&(clearTimeout(r._onChangeTimer),r._onChangeTimer=null),r._onChangeTimer=setTimeout(function(){r.trigger("statechange")},16)},t}(Td);Rf(Px,{DataSet:Px,DataView:jm,connectors:{},transforms:{},registerConnector:function(n,t){Px.connectors[n]=t},getConnector:function(n){return Px.connectors[n]||Px.connectors.default},registerTransform:function(n,t){Px.transforms[n]=t},getTransform:function(n){return Px.transforms[n]||Px.transforms.default}});var Ax=Px;(0,Ax.registerConnector)("default",function(n,t){if(vm(n)&&(n=t.getView(n)),!n)throw new TypeError("Invalid dataView");return Fy(n.rows)});var Rx=function(n){function t(n,t){function r(){if(l>=f)return a;if(o)return o=!1,u;var t,r=l;if(34===n.charCodeAt(r)){for(var e=r;e++<f;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}return l=e+2,13===(t=n.charCodeAt(e+1))?(o=!0,10===n.charCodeAt(e+2)&&++l):10===t&&(o=!0),n.slice(r+1,e).replace(/""/g,'"')}for(;l<f;){var c=1;if(10===(t=n.charCodeAt(l++)))o=!0;else if(13===t)o=!0,10===n.charCodeAt(l)&&(++l,++c);else if(t!==i)continue;return n.slice(r,l-c)}return n.slice(r)}for(var e,o,u={},a={},c=[],f=n.length,l=0,s=0;(e=r())!==a;){for(var p=[];e!==u&&e!==a;)p.push(e),e=r();t&&null==(p=t(p,s++))||c.push(p)}return c}function r(t){return t.map(e).join(n)}function e(n){return null==n?"":o.test(n+="")?'"'+n.replace(/\"/g,'""')+'"':n}var o=new RegExp('["'+n+"\n\r]"),i=n.charCodeAt(0);return{parse:function(n,r){var e,o,i=t(n,function(n,t){if(e)return e(n,t-1);o=n,e=r?Qi(n,r):Wi(n)});return i.columns=o,i},parseRows:t,format:function(t,r){return null==r&&(r=Ji(t)),[r.map(e).join(n)].concat(t.map(function(t){return r.map(function(n){return e(t[n])}).join(n)})).join("\n")},formatRows:function(n){return n.map(r).join("\n")}}},Nx=Rx(","),Lx=Nx.parse,Ox=Nx.parseRows,kx=Nx.format,zx=Nx.formatRows,qx=Rx("\t"),Bx=qx.parse,Ix=qx.parseRows,Fx=qx.format,Dx=qx.formatRows,Gx=Object.freeze({dsvFormat:Rx,csvParse:Lx,csvParseRows:Ox,csvFormat:kx,csvFormatRows:zx,tsvParse:Bx,tsvParseRows:Ix,tsvFormat:Fx,tsvFormatRows:Dx}),Ux=Gx&&void 0||Gx,Vx=Ux.dsvFormat,$x=Ux.csvParse,Hx=Ux.tsvParse,Wx=Ax.registerConnector;Wx("dsv",function(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).delimiter||",";return Vx(t).parse(n)}),Wx("csv",function(n){return $x(n)}),Wx("tsv",function(n){return Hx(n)});var Qx=function(n){var t=[];return n.replace(Zx,function(n,r,e){var o=r.toLowerCase();for(e=Zi(e),"m"==o&&e.length>2&&(t.push([r].concat(e.splice(0,2))),o="l",r="m"==r?"l":"L");;){if(e.length==Jx[o])return e.unshift(r),t.push(e);if(e.length<Jx[o])throw new Error("malformed path data");t.push([r].concat(e.splice(0,Jx[o])))}}),t},Jx={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},Zx=/([astvzqmhlc])([^astvzqmhlc]*)/gi,Kx=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi,Xx=Array.isArray||function(n){return"[object Array]"==Object.prototype.toString.call(n)},Yx=function(n){var t=0,r=0,e=0,o=0;return n.map(function(n){var i=(n=n.slice())[0],u=i.toUpperCase();if(i!=u)switch(n[0]=u,i){case"a":n[6]+=e,n[7]+=o;break;case"v":n[1]+=o;break;case"h":n[1]+=e;break;default:for(var a=1;a<n.length;)n[a++]+=e,n[a++]+=o}switch(u){case"Z":e=t,o=r;break;case"H":e=n[1];break;case"V":o=n[1];break;case"M":e=t=n[1],o=r=n[2];break;default:e=n[n.length-2],o=n[n.length-1]}return n})},nM=Ki;Ki.prototype.at=function(n,t){return this._walk(n,t).pos},Ki.prototype.length=function(){return this._walk(null).length},Ki.prototype._walk=function(n,t){var r=[0,0],e=[0,0,0],o=0;"number"==typeof n&&(n*=1.045);for(var i=0;i<this._path.length;i++){var u=this._path[i];if("M"===u[0]){if(r[0]=u[1],r[1]=u[2],0===n)return{length:o,pos:r}}else if("C"===u[0]){e[0]=r[0],e[1]=r[1],e[2]=o;for(var a=100,c=0;c<=a;c++){var f=function(n,t){return Math.pow(1-t,3)*r[0]+3*Math.pow(1-t,2)*t*n[1]+3*(1-t)*Math.pow(t,2)*n[3]+Math.pow(t,3)*n[5]}(u,s=c/a),l=function(n,t){return Math.pow(1-t,3)*r[1]+3*Math.pow(1-t,2)*t*n[2]+3*(1-t)*Math.pow(t,2)*n[4]+Math.pow(t,3)*n[6]}(u,s);if(o+=Xi(r[0],r[1],f,l),r[0]=f,r[1]=l,"number"==typeof n&&o>=n){p=(o-n)/(o-e[2]);return{length:o,pos:h=[r[0]*(1-p)+e[0]*p,r[1]*(1-p)+e[1]*p]}}e[0]=r[0],e[1]=r[1],e[2]=o}}else if("Q"===u[0]){e[0]=r[0],e[1]=r[1],e[2]=o;for(var a=100,c=0;c<=a;c++){var s=c/a,f=function(n,t){return Math.pow(1-t,2)*r[0]+2*(1-t)*t*n[1]+Math.pow(t,2)*n[3]}(u,s),l=function(n,t){return Math.pow(1-t,2)*r[1]+2*(1-t)*t*n[2]+Math.pow(t,2)*n[4]}(u,s);if(o+=Xi(r[0],r[1],f,l),r[0]=f,r[1]=l,"number"==typeof n&&o>=n){p=(o-n)/(o-e[2]);return{length:o,pos:h=[r[0]*(1-p)+e[0]*p,r[1]*(1-p)+e[1]*p]}}e[0]=r[0],e[1]=r[1],e[2]=o}}else if("L"===u[0]){if(e[0]=r[0],e[1]=r[1],e[2]=o,o+=Xi(r[0],r[1],u[1],u[2]),r[0]=u[1],r[1]=u[2],"number"==typeof n&&o>=n){var p=(o-n)/(o-e[2]),h=[r[0]*(1-p)+e[0]*p,r[1]*(1-p)+e[1]*p];return{length:o,pos:h}}e[0]=r[0],e[1]=r[1],e[2]=o}}return{length:o/1.045,pos:r}};var tM=HE.geoPath,rM=Ax.registerConnector,eM=tM();rM("geo",nu),rM("geojson",nu),rM("GeoJSON",nu);var oM=nu;vu.prototype=lu.prototype={constructor:vu,count:function(){return this.eachAfter(cu)},each:function(n){var t,r,e,o,i=this,u=[i];do{for(t=u.reverse(),u=[];i=t.pop();)if(n(i),r=i.children)for(e=0,o=r.length;e<o;++e)u.push(r[e])}while(u.length);return this},eachAfter:function(n){for(var t,r,e,o=this,i=[o],u=[];o=i.pop();)if(u.push(o),t=o.children)for(r=0,e=t.length;r<e;++r)i.push(t[r]);for(;o=u.pop();)n(o);return this},eachBefore:function(n){for(var t,r,e=this,o=[e];e=o.pop();)if(n(e),t=e.children)for(r=t.length-1;r>=0;--r)o.push(t[r]);return this},sum:function(n){return this.eachAfter(function(t){for(var r=+n(t.data)||0,e=t.children,o=e&&e.length;--o>=0;)r+=e[o].value;t.value=r})},sort:function(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})},path:function(n){for(var t=this,r=fu(t,n),e=[t];t!==r;)t=t.parent,e.push(t);for(var o=e.length;n!==r;)e.splice(o,0,n),n=n.parent;return e},ancestors:function(){for(var n=this,t=[n];n=n.parent;)t.push(n);return t},descendants:function(){var n=[];return this.each(function(t){n.push(t)}),n},leaves:function(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n},links:function(){var n=this,t=[];return n.each(function(r){r!==n&&t.push({source:r.parent,target:r})}),t},copy:function(){return lu(this).eachBefore(pu)}};var iM=Array.prototype.slice,uM=function(n){for(var t,r,e=0,o=(n=gu(iM.call(n))).length,i=[];e<o;)t=n[e],r&&mu(r,t)?++e:(r=Eu(i=du(i,t)),e=0);return r},aM=function(n){return function(){return n}},cM=function(n){n.x0=Math.round(n.x0),n.y0=Math.round(n.y0),n.x1=Math.round(n.x1),n.y1=Math.round(n.y1)},fM=function(n,t,r,e,o){for(var i,u=n.children,a=-1,c=u.length,f=n.value&&(e-t)/n.value;++a<c;)(i=u[a]).y0=r,i.y1=o,i.x0=t,i.x1=t+=i.value*f},lM="$",sM={depth:-1},pM={};Vu.prototype=Object.create(vu.prototype);var hM=function(n,t,r,e,o){for(var i,u=n.children,a=-1,c=u.length,f=n.value&&(o-r)/n.value;++a<c;)(i=u[a]).x0=t,i.x1=e,i.y0=r,i.y1=r+=i.value*f},vM=(1+Math.sqrt(5))/2,gM=function n(t){function r(n,r,e,o,i){Hu(t,n,r,e,o,i)}return r.ratio=function(t){return n((t=+t)>1?t:1)},r}(vM),dM=function n(t){function r(n,r,e,o,i){if((u=n._squarify)&&u.ratio===t)for(var u,a,c,f,l,s=-1,p=u.length,h=n.value;++s<p;){for(c=(a=u[s]).children,f=a.value=0,l=c.length;f<l;++f)a.value+=c[f].value;a.dice?fM(a,r,e,o,e+=(i-e)*a.value/h):hM(a,r,e,r+=(o-r)*a.value/h,i),h-=a.value}else n._squarify=u=Hu(t,n,r,e,o,i),u.ratio=t}return r.ratio=function(t){return n((t=+t)>1?t:1)},r}(vM),yM=Object.freeze({cluster:function(){function n(n){var i,u=0;n.eachAfter(function(n){var r=n.children;r?(n.x=ru(r),n.y=ou(r)):(n.x=i?u+=t(n,i):0,n.y=0,i=n)});var a=uu(n),c=au(n),f=a.x-t(a,c)/2,l=c.x+t(c,a)/2;return n.eachAfter(o?function(t){t.x=(t.x-n.x)*r,t.y=(n.y-t.y)*e}:function(t){t.x=(t.x-f)/(l-f)*r,t.y=(1-(n.y?t.y/n.y:1))*e})}var t=tu,r=1,e=1,o=!1;return n.separation=function(r){return arguments.length?(t=r,n):t},n.size=function(t){return arguments.length?(o=!1,r=+t[0],e=+t[1],n):o?null:[r,e]},n.nodeSize=function(t){return arguments.length?(o=!0,r=+t[0],e=+t[1],n):o?[r,e]:null},n},hierarchy:lu,pack:function(){function n(n){return n.x=r/2,n.y=e/2,t?n.eachBefore(Lu(t)).eachAfter(Ou(o,.5)).eachBefore(ku(1)):n.eachBefore(Lu(Nu)).eachAfter(Ou(Ru,1)).eachAfter(Ou(o,n.r/Math.min(r,e))).eachBefore(ku(Math.min(r,e)/(2*n.r))),n}var t=null,r=1,e=1,o=Ru;return n.radius=function(r){return arguments.length?(t=Pu(r),n):t},n.size=function(t){return arguments.length?(r=+t[0],e=+t[1],n):[r,e]},n.padding=function(t){return arguments.length?(o="function"==typeof t?t:aM(+t),n):o},n},packSiblings:function(n){return ju(n),n},packEnclose:uM,partition:function(){function n(n){var u=n.height+1;return n.x0=n.y0=o,n.x1=r,n.y1=e/u,n.eachBefore(t(e,u)),i&&n.eachBefore(cM),n}function t(n,t){return function(r){r.children&&fM(r,r.x0,n*(r.depth+1)/t,r.x1,n*(r.depth+2)/t);var e=r.x0,i=r.y0,u=r.x1-o,a=r.y1-o;u<e&&(e=u=(e+u)/2),a<i&&(i=a=(i+a)/2),r.x0=e,r.y0=i,r.x1=u,r.y1=a}}var r=1,e=1,o=0,i=!1;return n.round=function(t){return arguments.length?(i=!!t,n):i},n.size=function(t){return arguments.length?(r=+t[0],e=+t[1],n):[r,e]},n.padding=function(t){return arguments.length?(o=+t,n):o},n},stratify:function(){function n(n){var e,o,i,u,a,c,f,l=n.length,s=new Array(l),p={};for(o=0;o<l;++o)e=n[o],a=s[o]=new vu(e),null!=(c=t(e,o,n))&&(c+="")&&(p[f=lM+(a.id=c)]=f in p?pM:a);for(o=0;o<l;++o)if(a=s[o],null!=(c=r(n[o],o,n))&&(c+="")){if(!(u=p[lM+c]))throw new Error("missing: "+c);if(u===pM)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(i)throw new Error("multiple roots");i=a}if(!i)throw new Error("no root");if(i.parent=sM,i.eachBefore(function(n){n.depth=n.parent.depth+1,--l}).eachBefore(hu),i.parent=null,l>0)throw new Error("cycle");return i}var t=zu,r=qu;return n.id=function(r){return arguments.length?(t=Au(r),n):t},n.parentId=function(t){return arguments.length?(r=Au(t),n):r},n},tree:function(){function n(n){var e=$u(n);if(e.eachAfter(t),e.parent.m=-e.z,e.eachBefore(r),c)n.eachBefore(o);else{var f=n,l=n,s=n;n.eachBefore(function(n){n.x<f.x&&(f=n),n.x>l.x&&(l=n),n.depth>s.depth&&(s=n)});var p=f===l?1:i(f,l)/2,h=p-f.x,v=u/(l.x+p+h),g=a/(s.depth||1);n.eachBefore(function(n){n.x=(n.x+h)*v,n.y=n.depth*g})}return n}function t(n){var t=n.children,r=n.parent.children,o=n.i?r[n.i-1]:null;if(t){Gu(n);var u=(t[0].z+t[t.length-1].z)/2;o?(n.z=o.z+i(n._,o._),n.m=n.z-u):n.z=u}else o&&(n.z=o.z+i(n._,o._));n.parent.A=e(n,o,n.parent.A||r[0])}function r(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function e(n,t,r){if(t){for(var e,o=n,u=n,a=t,c=o.parent.children[0],f=o.m,l=u.m,s=a.m,p=c.m;a=Fu(a),o=Iu(o),a&&o;)c=Iu(c),(u=Fu(u)).a=n,(e=a.z+s-o.z-f+i(a._,o._))>0&&(Du(Uu(a,n,r),n,e),f+=e,l+=e),s+=a.m,f+=o.m,p+=c.m,l+=u.m;a&&!Fu(u)&&(u.t=a,u.m+=s-l),o&&!Iu(c)&&(c.t=o,c.m+=f-p,r=n)}return r}function o(n){n.x*=u,n.y=n.depth*a}var i=Bu,u=1,a=1,c=null;return n.separation=function(t){return arguments.length?(i=t,n):i},n.size=function(t){return arguments.length?(c=!1,u=+t[0],a=+t[1],n):c?null:[u,a]},n.nodeSize=function(t){return arguments.length?(c=!0,u=+t[0],a=+t[1],n):c?[u,a]:null},n},treemap:function(){function n(n){return n.x0=n.y0=0,n.x1=o,n.y1=i,n.eachBefore(t),u=[0],e&&n.eachBefore(cM),n}function t(n){var t=u[n.depth],e=n.x0+t,o=n.y0+t,i=n.x1-t,p=n.y1-t;i<e&&(e=i=(e+i)/2),p<o&&(o=p=(o+p)/2),n.x0=e,n.y0=o,n.x1=i,n.y1=p,n.children&&(t=u[n.depth+1]=a(n)/2,e+=s(n)-t,o+=c(n)-t,i-=f(n)-t,p-=l(n)-t,i<e&&(e=i=(e+i)/2),p<o&&(o=p=(o+p)/2),r(n,e,o,i,p))}var r=gM,e=!1,o=1,i=1,u=[0],a=Ru,c=Ru,f=Ru,l=Ru,s=Ru;return n.round=function(t){return arguments.length?(e=!!t,n):e},n.size=function(t){return arguments.length?(o=+t[0],i=+t[1],n):[o,i]},n.tile=function(t){return arguments.length?(r=Au(t),n):r},n.padding=function(t){return arguments.length?n.paddingInner(t).paddingOuter(t):n.paddingInner()},n.paddingInner=function(t){return arguments.length?(a="function"==typeof t?t:aM(+t),n):a},n.paddingOuter=function(t){return arguments.length?n.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):n.paddingTop()},n.paddingTop=function(t){return arguments.length?(c="function"==typeof t?t:aM(+t),n):c},n.paddingRight=function(t){return arguments.length?(f="function"==typeof t?t:aM(+t),n):f},n.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:aM(+t),n):l},n.paddingLeft=function(t){return arguments.length?(s="function"==typeof t?t:aM(+t),n):s},n},treemapBinary:function(n,t,r,e,o){function i(n,t,r,e,o,u,a){if(n>=t-1){var f=c[n];return f.x0=e,f.y0=o,f.x1=u,void(f.y1=a)}for(var s=l[n],p=r/2+s,h=n+1,v=t-1;h<v;){var g=h+v>>>1;l[g]<p?h=g+1:v=g}p-l[h-1]<l[h]-p&&n+1<h&&--h;var d=l[h]-s,y=r-d;if(u-e>a-o){var m=(e*y+u*d)/r;i(n,h,d,e,o,m,a),i(h,t,y,m,o,u,a)}else{var w=(o*y+a*d)/r;i(n,h,d,e,o,u,w),i(h,t,y,e,w,u,a)}}var u,a,c=n.children,f=c.length,l=new Array(f+1);for(l[0]=a=u=0;u<f;++u)l[u+1]=a+=c[u].value;i(0,f,n.value,t,r,e,o)},treemapDice:fM,treemapSlice:hM,treemapSliceDice:function(n,t,r,e,o){(1&n.depth?hM:fM)(n,t,r,e,o)},treemapSquarify:gM,treemapResquarify:dM}),mM=yM&&void 0||yM,wM=mM.hierarchy,EM=Ax.registerConnector;EM("hierarchy",Wu),EM("tree",Wu);var bM=function(n){return n},xM=function(n){if(null==n)return bM;var t,r,e=n.scale[0],o=n.scale[1],i=n.translate[0],u=n.translate[1];return function(n,a){a||(t=r=0);var c=2,f=n.length,l=new Array(f);for(l[0]=(t+=n[0])*e+i,l[1]=(r+=n[1])*o+u;c<f;)l[c]=n[c],++c;return l}},MM=function(n){function t(n){(n=o(n))[0]<i&&(i=n[0]),n[0]>a&&(a=n[0]),n[1]<u&&(u=n[1]),n[1]>c&&(c=n[1])}function r(n){switch(n.type){case"GeometryCollection":n.geometries.forEach(r);break;case"Point":t(n.coordinates);break;case"MultiPoint":n.coordinates.forEach(t)}}var e,o=xM(n.transform),i=1/0,u=i,a=-i,c=-i;n.arcs.forEach(function(n){for(var t,r=-1,e=n.length;++r<e;)(t=o(n[r],r))[0]<i&&(i=t[0]),t[0]>a&&(a=t[0]),t[1]<u&&(u=t[1]),t[1]>c&&(c=t[1])});for(e in n.objects)r(n.objects[e]);return[i,u,a,c]},SM=function(n,t){for(var r,e=n.length,o=e-t;o<--e;)r=n[o],n[o++]=n[e],n[e]=r},_M=function(n,t){function r(t){var r,e=n.arcs[t<0?~t:t],o=e[0];return n.transform?(r=[0,0],e.forEach(function(n){r[0]+=n[0],r[1]+=n[1]})):r=e[e.length-1],t<0?[r,o]:[o,r]}function e(n,t){for(var r in n){var e=n[r];delete t[e.start],delete e.start,delete e.end,e.forEach(function(n){o[n<0?~n:n]=1}),a.push(e)}}var o={},i={},u={},a=[],c=-1;return t.forEach(function(r,e){var o,i=n.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++c],t[c]=r,t[e]=o)}),t.forEach(function(n){var t,e,o=r(n),a=o[0],c=o[1];if(t=u[a])if(delete u[t.end],t.push(n),t.end=c,e=i[c]){delete i[e.start];var f=e===t?t:t.concat(e);i[f.start=t.start]=u[f.end=e.end]=f}else i[t.start]=u[t.end]=t;else if(t=i[c])if(delete i[t.start],t.unshift(n),t.start=a,e=u[a]){delete u[e.end];var l=e===t?t:e.concat(t);i[l.start=e.start]=u[l.end=t.end]=l}else i[t.start]=u[t.end]=t;else i[(t=[n]).start=a]=u[t.end=c]=t}),e(u,i),e(i,u),t.forEach(function(n){o[n<0?~n:n]||a.push([n])}),a},TM=function(n,t){for(var r=0,e=n.length;r<e;){var o=r+e>>>1;n[o]<t?r=o+1:e=o}return r},CM=function(n){if(null==n)return bM;var t,r,e=n.scale[0],o=n.scale[1],i=n.translate[0],u=n.translate[1];return function(n,a){a||(t=r=0);var c=2,f=n.length,l=new Array(f),s=Math.round((n[0]-i)/e),p=Math.round((n[1]-u)/o);for(l[0]=s-t,t=s,l[1]=p-r,r=p;c<f;)l[c]=n[c],++c;return l}},jM=Object.freeze({bbox:MM,feature:function(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return Qu(n,t)})}:Qu(n,t)},mesh:function(n){return Ju(n,Zu.apply(this,arguments))},meshArcs:Zu,merge:function(n){return Ju(n,Yu.apply(this,arguments))},mergeArcs:Yu,neighbors:function(n){function t(n,t){n.forEach(function(n){n<0&&(n=~n);var r=o[n];r?r.push(t):o[n]=[t]})}function r(n,r){n.forEach(function(n){t(n,r)})}function e(n,t){"GeometryCollection"===n.type?n.geometries.forEach(function(n){e(n,t)}):n.type in u&&u[n.type](n.arcs,t)}var o={},i=n.map(function(){return[]}),u={LineString:t,MultiLineString:r,Polygon:r,MultiPolygon:function(n,t){n.forEach(function(n){r(n,t)})}};n.forEach(e);for(var a in o)for(var c=o[a],f=c.length,l=0;l<f;++l)for(var s=l+1;s<f;++s){var p,h=c[l],v=c[s];(p=i[h])[a=TM(p,v)]!==v&&p.splice(a,0,v),(p=i[v])[a=TM(p,h)]!==h&&p.splice(a,0,h)}return i},quantize:function(n,t){function r(n){return s(n)}function e(n){var t;switch(n.type){case"GeometryCollection":t={type:"GeometryCollection",geometries:n.geometries.map(e)};break;case"Point":t={type:"Point",coordinates:r(n.coordinates)};break;case"MultiPoint":t={type:"MultiPoint",coordinates:n.coordinates.map(r)};break;default:return n}return null!=n.id&&(t.id=n.id),null!=n.bbox&&(t.bbox=n.bbox),null!=n.properties&&(t.properties=n.properties),t}if(n.transform)throw new Error("already quantized");if(t&&t.scale)f=n.bbox;else{if(!((o=Math.floor(t))>=2))throw new Error("n must be 2");var o,i=(f=n.bbox||MM(n))[0],u=f[1],a=f[2],c=f[3];t={scale:[a-i?(a-i)/(o-1):1,c-u?(c-u)/(o-1):1],translate:[i,u]}}var f,l,s=CM(t),p=n.objects,h={};for(l in p)h[l]=e(p[l]);return{type:"Topology",bbox:f,transform:t,objects:h,arcs:n.arcs.map(function(n){var t,r=0,e=1,o=n.length,i=new Array(o);for(i[0]=s(n[0],0);++r<o;)((t=s(n[r],r))[0]||t[1])&&(i[e++]=t);return 1===e&&(i[e++]=[0,0]),i.length=e,i})}},transform:xM,untransform:CM}),PM=(jM&&void 0||jM).feature,AM=Ax.registerConnector;AM("topojson",na),AM("TopoJSON",na),(0,Ax.registerTransform)("default",function(n){return n}),(0,Ax.registerTransform)("filter",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.rows=Vy(n.rows,t.callback||ta)});var RM=function(n,t){return!!(null==n?0:n.length)&&fm(n,t,0)>-1},NM=function(n,t,r){for(var e=-1,o=null==n?0:n.length;++e<o;)if(r(t,n[e]))return!0;return!1},LM=200,OM=function(n,t,r,e){var o=-1,i=RM,u=!0,a=n.length,c=[],f=t.length;if(!a)return c;r&&(t=hs(t,wf(r))),e?(i=NM,u=!1):t.length>=LM&&(i=Zf,u=!1,t=new Jf(t));n:for(;++o<a;){var l=n[o],s=null==r?l:r(l);if(l=e||0!==l?l:0,u&&s===s){for(var p=f;p--;)if(t[p]===s)continue n;c.push(l)}else i(t,s,e)||c.push(l)}return c},kM=function(n){return cf(n)&&Xc(n)},zM=Jc(function(n,t){return kM(n)?OM(n,xm(t,1,kM,!0)):[]}),qM={fields:[],key:"key",retains:[],value:"value"};(0,Ax.registerTransform)("fold",function(n,t){var r=n.getColumnNames(),e=(t=Rf({},qM,t)).fields;if(!gf(e))throw new TypeError("Invalid option `fields`: expected an array.");0===e.length&&(e=r);var o=t.key,i=t.value,u=t.retains;0===u.length&&(u=zM(r,e));var a=[];Gy(n.rows,function(n){Gy(e,function(t){var r=Sm(n,u);r[o]=t,r[i]=n[t],a.push(r)})}),n.rows=a}),(0,Ax.registerTransform)("map",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.rows=dm(n.rows,t.callback||ra)});var BM=Nl&&1/rl(new Nl([,-0]))[1]==1/0?function(n){return new Nl(n)}:function(){},IM=200,FM=function(n,t,r){var e=-1,o=RM,i=n.length,u=!0,a=[],c=a;if(r)u=!1,o=NM;else if(i>=IM){var f=t?null:BM(n);if(f)return rl(f);u=!1,o=Zf,c=new Jf}else c=t?[]:a;n:for(;++e<i;){var l=n[e],s=t?t(l):l;if(l=r||0!==l?l:0,u&&s===s){for(var p=c.length;p--;)if(c[p]===s)continue n;t&&c.push(s),a.push(l)}else o(c,s,r)||(c!==a&&c.push(s),a.push(l))}return a},DM=Jc(function(n){return FM(xm(n,1,kM,!0))}),GM=function(n,t,r,e){for(var o=-1,i=null==n?0:n.length;++o<i;){var u=n[o];t(e,u,r(u),n)}return e},UM=function(n,t,r,e){return ks(n,function(n,o,i){t(e,n,r(n),i)}),e},VM=function(n,t){return function(r,e){var o=gf(r)?GM:UM,i=t?t():{};return o(r,n,Ls(e,2),i)}},$M=Object.prototype.hasOwnProperty,HM=VM(function(n,t,r){$M.call(n,r)?n[r].push(t):Oc(n,r,[t])}),WM=function(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n},QM=function(n,t){if(n!==t){var r=void 0!==n,e=null===n,o=n===n,i=rs(n),u=void 0!==t,a=null===t,c=t===t,f=rs(t);if(!a&&!f&&!i&&n>t||i&&u&&c&&!a&&!f||e&&u&&c||!r&&c||!o)return 1;if(!e&&!i&&!f&&n<t||f&&r&&o&&!e&&!i||a&&r&&o||!u&&o||!c)return-1}return 0},JM=function(n,t,r){for(var e=-1,o=n.criteria,i=t.criteria,u=o.length,a=r.length;++e<u;){var c=QM(o[e],i[e]);if(c)return e>=a?c:c*("desc"==r[e]?-1:1)}return n.index-t.index},ZM=function(n,t,r){var e=-1;t=hs(t.length?t:[Ic],wf(Ls));var o=gm(n,function(n,r,o){return{criteria:hs(t,function(t){return t(n)}),index:++e,value:n}});return WM(o,function(n,t){return JM(n,t,r)})},KM=function(n,t,r,e){return null==n?[]:(gf(t)||(t=null==t?[]:[t]),r=e?void 0:r,gf(r)||(r=null==r?[]:[r]),ZM(n,t,r))},XM=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],e=KM(n,r);return HM(e,function(n){return dm(t,function(t){return n[t]}).join("-")})},YM=mx.sum,nS={groupBy:[],as:"_percent"};(0,Ax.registerTransform)("percent",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t=Rf({},nS,t)).field,e=t.dimension,o=t.groupBy,i=t.as;if(!r||!e)throw new TypeError("Invalid options");var u=n.rows,a=[],c=XM(u,o);um(c,function(n){var t=YM(dm(n,function(n){return n[r]})),u=XM(n,[e]);um(u,function(n){var u=YM(dm(n,function(n){return n[r]})),c=Sm(n[0],DM(o,[e]));c[i]=u/t,a.push(c)})}),n.rows=a}),(0,Ax.registerTransform)("pick",function(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).fields||n.getColumnNames();n.rows=dm(n.rows,function(n){return Sm(n,t)})});var tS={groupBy:[],as:"_proportion"};(0,Ax.registerTransform)("proportion",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t=Rf({},tS,t)).field,e=t.dimension,o=t.groupBy,i=t.as;if(!r||!e)throw new TypeError("Invalid options");var u=n.rows,a=[],c=XM(u,o);um(c,function(n){var t=n.length,r=XM(n,[e]);um(r,function(n){var r=n.length,u=Sm(n[0],DM(o,[e]));u[i]=r/t,a.push(u)})}),n.rows=a});var rS=Array.prototype.reverse,eS=function(n){return null==n?n:rS.call(n)};(0,Ax.registerTransform)("reverse",function(n){n.rows=eS(n.rows)}),(0,Ax.registerTransform)("sort",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.getColumnName(0);n.rows.sort(t.callback||function(n,t){return n[r]-t[r]})});var oS=Jc(function(n,t){if(null==n)return[];var r=t.length;return r>1&&rf(n,t[0],t[1])?t=[]:r>2&&rf(t[0],t[1],t[2])&&(t=[t[0]]),ZM(n,xm(t,1),[])}),iS=Ax.registerTransform,uS=["ASC","DESC"];iS("sort-by",ea),iS("sortBy",ea),(0,Ax.registerTransform)("subset",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.startRowIndex||0,e=t.endRowIndex||n.rows.length-1,o=t.fields||n.getColumnNames();n.rows=n.getSubset(r,e,o)});var aS=Ax.registerTransform,cS={groupBy:[],orderBy:[]};aS("fill-rows",ia),aS("fillRows",ia);var fS=Object.prototype.hasOwnProperty,lS=function(n,t){return null!=n&&fS.call(n,t)},sS=function(n,t){return null!=n&&_s(n,t,lS)},pS=function(n){return null==n},hS=Ax.registerTransform,vS={groupBy:[]},gS={};Gy(["mean","median","max","min"],function(n){gS[n]=function(t){return mx[n](t)}}),gS.value=function(n,t){return t},hS("impute",function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.rows,e=(t=Rf({},vS,t)).field,o=t.method,i=t.groupBy;if(!e||!o||"value"===o&&!sS(t,"value"))throw new TypeError("Invalid options");var u=ua(n.getColumn(e)),a=XM(r,i);Gy(a,function(n){var r=ua(dm(n,function(n){return n[e]}));0===r.length&&(r=u),Gy(n,function(n){pS(n[e])&&(n[e]=gS[o](r,t.value))})})});var dS=function(n){return n&&n.length?FM(n):[]},yS=Ax.registerTransform,mS={as:[],fields:[],groupBy:[],operations:[]},wS="count",ES={count:function(n){return n.length},distinct:function(n,t){return dS(dm(n,function(n){return n[t]})).length}};Gy(["max","mean","median","min","mode","product","standardDeviation","sum","sumSimple","variance"],function(n){ES[n]=function(t,r){var e=dm(t,function(n){return n[r]});return mx[n](e)}}),ES.average=ES.mean,yS("aggregate",aa),yS("summary",aa);Pf(ES);var bS=Math.PI/3,xS=[0,bS,2*bS,3*bS,4*bS,5*bS],MS=Object.freeze({hexbin:function(){function n(n){var t,r={},i=[],u=n.length;for(t=0;t<u;++t)if(!isNaN(c=+f.call(null,a=n[t],t,n))&&!isNaN(s=+l.call(null,a,t,n))){var a,c,s,p=Math.round(s/=o),h=Math.round(c=c/e-(1&p)/2),v=s-p;if(3*Math.abs(v)>1){var g=c-h,d=h+(c<h?-1:1)/2,y=p+(s<p?-1:1),m=c-d,w=s-y;g*g+v*v>m*m+w*w&&(h=d+(1&p?1:-1)/2,p=y)}var E=h+"-"+p,b=r[E];b?b.push(a):(i.push(b=r[E]=[a]),b.x=(h+(1&p)/2)*e,b.y=p*o)}return i}function t(n){var t=0,r=0;return xS.map(function(e){var o=Math.sin(e)*n,i=-Math.cos(e)*n,u=o-t,a=i-r;return t=o,r=i,[u,a]})}var r,e,o,i=0,u=0,a=1,c=1,f=ca,l=fa;return n.hexagon=function(n){return"m"+t(null==n?r:+n).join("l")+"z"},n.centers=function(){for(var n=[],t=Math.round(u/o),f=Math.round(i/e),l=t*o;l<c+r;l+=o,++t)for(var s=f*e+(1&t)*e/2;s<a+e/2;s+=e)n.push([s,l]);return n},n.mesh=function(){var e=t(r).slice(0,4).join("l");return n.centers().map(function(n){return"M"+n+"m"+e}).join("")},n.x=function(t){return arguments.length?(f=t,n):f},n.y=function(t){return arguments.length?(l=t,n):l},n.radius=function(t){return arguments.length?(r=+t,e=2*r*Math.sin(bS),o=1.5*r,n):r},n.size=function(t){return arguments.length?(i=u=0,a=+t[0],c=+t[1],n):[a-i,c-u]},n.extent=function(t){return arguments.length?(i=+t[0][0],u=+t[0][1],a=+t[1][0],c=+t[1][1],n):[[i,u],[a,c]]},n.radius(1)}}),SS=(MS&&void 0||MS).hexbin,_S=Ax.registerTransform,TS={as:["x","y"]},CS=Math.PI/3,jS=[0,CS,2*CS,3*CS,4*CS,5*CS];_S("bin.hexagon",pa),_S("bin.hex",pa);var PS=kh&&void 0||kh,AS=PS.histogram,RS=Ax.registerTransform,NS={as:"x"};RS("bin.histogram",ha),RS("bin.dot",ha);var LS=mx.quantile,OS={as:"_bin",groupBy:[],fraction:4};(0,Ax.registerTransform)("bin.quantile",function(n,t){var r=(t=Rf({},OS,t)).field;if(!r)throw new TypeError("Invalid option: field");var e=t.p,o=t.fraction;gf(e)&&0!==e.length||(e=wx(o));var i=n.rows,u=t.groupBy,a=XM(i,u),c=[];um(a,function(n){var o=Sm(n[0],u),i=dm(n,function(n){return n[r]}),a=dm(e,function(n){return LS(i,n)});o[t.as]=a,c.push(o)}),n.rows=c});var kS=PS.histogram,zS=Ax.registerTransform,qS={as:["x","y"]};zS("bin.rectangle",ga),zS("bin.rect",ga);var BS={as:"_centroid"};(0,Ax.registerTransform)("geo.centroid",function(n,t){var r=(t=Rf({},BS,t)).field;if(!r)throw new TypeError("Invalid field");var e=t.geoDataView;if(vm(e)&&(e=n.dataSet.getView(e)),!e||"geo"!==e.dataType)throw new TypeError("Invalid geoDataView");var o=t.as;if(!o||!vm(o))throw new TypeError("Invalid as");Gy(n.rows,function(n){var t=e.geoFeatureByName(n[r]);t&&(n[o]=t.centroid)})});var IS=Ax.registerTransform,FS=HE.geoPath,DS={as:["_x","_y","_centroid"]};IS("geo.projection",function(n,t){if("geo"!==n.dataType)throw new TypeError("This transform is for Geo data only");var r=(t=Rf({},DS,t)).projection;if(!r)throw new TypeError("Invalid projection");r=QE(r);var e=FS(r),o=t.as;if(!gf(o)||3!==o.length)throw new TypeError("Invalid option: as");var i=o[0],u=o[1],a=o[2];Gy(n.rows,function(n){n[i]=[],n[u]=[],n[a]=[];var t=e(n);if(t){var r=nM(t);Gy(r._path,function(t){n[i].push(t[1]),n[u].push(t[2])}),n[a]=e.centroid(n)}})});var GS={as:["_x","_y"]};(0,Ax.registerTransform)("geo.region",function(n,t){var r=(t=Rf({},GS,t)).field;if(!r)throw new TypeError("Invalid field");var e=t.geoDataView;if(vm(e)&&(e=n.dataSet.getView(e)),!e||"geo"!==e.dataType)throw new TypeError("Invalid geoDataView");var o=t.as;if(!gf(o)||2!==o.length)throw new TypeError("Invalid as");var i=o[0],u=o[1];Gy(n.rows,function(n){var t=e.geoFeatureByName(n[r]);t&&(n[i]=t.longitude,n[u]=t.latitude)})});var US=function(n){return function(){return n}};ma.prototype={constructor:ma,insert:function(n,t){var r,e,o;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;r=n}else this._?(n=xa(this._),t.P=null,t.N=n,n.P=n.L=t,r=n):(t.P=t.N=null,this._=t,r=null);for(t.L=t.R=null,t.U=r,t.C=!0,n=t;r&&r.C;)r===(e=r.U).L?(o=e.R)&&o.C?(r.C=o.C=!1,e.C=!0,n=e):(n===r.R&&(Ea(this,r),r=(n=r).U),r.C=!1,e.C=!0,ba(this,e)):(o=e.L)&&o.C?(r.C=o.C=!1,e.C=!0,n=e):(n===r.L&&(ba(this,r),r=(n=r).U),r.C=!1,e.C=!0,Ea(this,e)),r=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,r,e,o=n.U,i=n.L,u=n.R;if(r=i?u?xa(u):i:u,o?o.L===n?o.L=r:o.R=r:this._=r,i&&u?(e=r.C,r.C=n.C,r.L=i,i.U=r,r!==u?(o=r.U,r.U=n.U,n=r.R,o.L=n,r.R=u,u.U=r):(r.U=o,o=r,n=r.R)):(e=n.C,n=r),n&&(n.U=o),!e)if(n&&n.C)n.C=!1;else{do{if(n===this._)break;if(n===o.L){if((t=o.R).C&&(t.C=!1,o.C=!0,Ea(this,o),t=o.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ba(this,t),t=o.R),t.C=o.C,o.C=t.R.C=!1,Ea(this,o),n=this._;break}}else if((t=o.L).C&&(t.C=!1,o.C=!0,ba(this,o),t=o.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Ea(this,t),t=o.L),t.C=o.C,o.C=t.L.C=!1,ba(this,o),n=this._;break}t.C=!0,n=o,o=o.U}while(!n.C);n&&(n.C=!1)}}};var VS,$S,HS,WS,QS,JS=[],ZS=[],KS=1e-6,XS=1e-12;Wa.prototype={constructor:Wa,polygons:function(){var n=this.edges;return this.cells.map(function(t){var r=t.halfedges.map(function(r){return Ra(t,n[r])});return r.data=t.site.data,r})},triangles:function(){var n=[],t=this.edges;return this.cells.forEach(function(r,e){if(i=(o=r.halfedges).length)for(var o,i,u,a=r.site,c=-1,f=t[o[i-1]],l=f.left===a?f.right:f.left;++c<i;)u=l,l=(f=t[o[c]]).left===a?f.right:f.left,u&&l&&e<u.index&&e<l.index&&$a(a,u,l)<0&&n.push([a.data,u.data,l.data])}),n},links:function(){return this.edges.filter(function(n){return n.right}).map(function(n){return{source:n.left.data,target:n.right.data}})},find:function(n,t,r){for(var e,o,i=this,u=i._found||0,a=i.cells.length;!(o=i.cells[u]);)if(++u>=a)return null;var c=n-o.site[0],f=t-o.site[1],l=c*c+f*f;do{o=i.cells[e=u],u=null,o.halfedges.forEach(function(r){var e=i.edges[r],a=e.left;if(a!==o.site&&a||(a=e.right)){var c=n-a[0],f=t-a[1],s=c*c+f*f;s<l&&(l=s,u=a.index)}})}while(null!==u);return i._found=e,null==r||l<=r*r?o.site:null}};var YS=Object.freeze({voronoi:function(){function n(n){return new Wa(n.map(function(e,o){var i=[Math.round(t(e,o,n)/KS)*KS,Math.round(r(e,o,n)/KS)*KS];return i.index=o,i.data=e,i}),e)}var t=da,r=ya,e=null;return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(r){return arguments.length?(t="function"==typeof r?r:US(+r),n):t},n.y=function(t){return arguments.length?(r="function"==typeof t?t:US(+t),n):r},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n}}),n_=YS&&void 0||YS,t_=Ax.registerTransform,r_={as:["_x","_y"]};t_("diagram.voronoi",Qa),t_("voronoi",Qa);var e_=Ax.registerTransform,o_={field:"value",tile:"treemapSquarify",size:[1,1],round:!1,padding:0,paddingInner:0,paddingOuter:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,as:["x","y"]};return e_("hierarchy.treemap",Ja),e_("treemap",Ja),Ax});